<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="de0fb073bc25cf2e534d5a146ab9165f" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 6.9</block>
  <block id="80ecd8f7492c0454171f153f5c729eec" category="doc">将 Oracle Linux 6.9 与 NetApp ONTAP 结合使用</block>
  <block id="fab62fb29cd63ccad318675378384238" category="section-title">安装 Linux Unified Host Utilities</block>
  <block id="9d2169c1c2855b78a7aeaa4f42d27dc7" category="inline-link-macro">NetApp 支持站点</block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="inline-link-macro">NetApp 互操作性表工具</block>
  <block id="0fed9cf9730bf6732d4b5c033406917c" category="paragraph">上提供了 NetApp Linux Unified Host Utilities 软件包 <block ref="6669d666f8f453569510bbfca28c3a1e" category="inline-link-macro-rx"></block> 在 32 位和 64 位 .rpm 文件中。如果您不知道哪个文件适合您的配置，请使用 <block ref="963ce614f4afebd07b4317928a39d286" category="inline-link-macro-rx"></block> 验证所需的配置。</block>
  <block id="d75d4e47d24a30ba359e485926c2930c" category="paragraph">强烈建议安装 Linux Unified Host Utilities ，但这并不是必需的。这些实用程序不会更改 Linux 主机上的任何设置。这些实用程序可改进管理并帮助 NetApp 客户支持收集有关您的配置的信息。</block>
  <block id="00fc1bf20dbc4f3e92a58dc60bc9ed11" category="paragraph">如果您当前安装了某个版本的 Linux Unified Host Utilities ，则应进行升级，或者，应将其删除，然后按照以下步骤安装最新版本。</block>
  <block id="53fb5541a1076b0275ddc8379f39602d" category="list-text">从下载 32 位或 64 位 Linux Unified Host Utilities 软件包 <block ref="6669d666f8f453569510bbfca28c3a1e" category="inline-link-macro-rx"></block> 站点到主机。</block>
  <block id="8c00d982a2880d4d1d69e922c0dcea7c" category="list-text">使用以下命令安装软件包：</block>
  <block id="04a6a4dcd6c76702d2da3ff70e4a7ec8" category="paragraph">`rpm -ivh netapp_linux_unified_host_utilitis-7-1.x86_64`</block>
  <block id="b80744314bf569766c44748e7c613ca7" category="section-title">SAN 工具包</block>
  <block id="fdc9ca1731d1c119aadc1c244f9b44ce" category="paragraph">安装 NetApp Host Utilities 软件包时，工具包会自动安装。此套件提供 `sanlun` 实用程序，可帮助您管理 LUN 和 HBA 。`sanlun` 命令可返回有关映射到主机的 LUN 的信息，多路径以及创建启动程序组所需的信息。</block>
  <block id="35182f1950df8120cb4894c510afca6f" category="section-title">SAN 启动</block>
  <block id="863caf0294a7c372ca28147bbbaedbd7" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="1d4d73668c8df825ee5b823e8af57ec1" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步骤</block>
  <block id="12979f8a3c6b4227894a0c63e81784a9" category="list-text">将 SAN 启动 LUN 映射到主机。</block>
  <block id="7ae7cf34d310673da37557313a55892d" category="list-text">验证多个路径是否可用。</block>
  <block id="a744de0e861e6bf93c1b8497aee8c74b" category="paragraph">请记住，只有在主机操作系统启动并在多个路径上运行后，多个路径才可用。</block>
  <block id="ae2b455a54af72efa36eb66631dcf444" category="list-text">在服务器 BIOS 中为 SAN 启动 LUN 映射到的端口启用 SAN 启动。</block>
  <block id="482fb3c22fb491f46c3f0e54cea6b9d1" category="paragraph">有关如何启用 HBA BIOS 的信息，请参见供应商专用文档。</block>
  <block id="5a776bf93e0712efccb14ab4ad4ab170" category="list-text">重新启动主机以验证启动是否成功。</block>
  <block id="4150162ad42bffea7bb903b4c7a4ffd9" category="section-title">多路径</block>
  <block id="b2e31960cfc83035081d62c551af6ad1" category="paragraph">对于 Oracle Linux 6.9 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.9 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="76b3ab7d42f49c0911f72a955e15db22" category="list-text">创建 initrd-image 的备份。</block>
  <block id="8bec1661077d28352868870f186e4392" category="list-text">将以下参数值附加到内核中，以使 ALUA 和非 ALUA 正常工作： `rdloaddriver=SCSI_DH_ALUA`</block>
  <block id="4c489d4721694c4117162307ded4345c" category="list-text">使用 `mkinitrd` 命令重新创建 initrd-image 。Oracle 6x 及更高版本使用以下命令之一： `mkinitrd -f /boot/ initrd-"uname -r".img uname -r` 或命令： `dracut -f`</block>
  <block id="8418b94a2a307b3e96b6474bc55e08b7" category="list-text">重新启动主机。</block>
  <block id="0aa6d9cb7674d34a808be2224e074189" category="paragraph">以下示例显示了具有两个主动 / 优化路径和两个主动 / 非优化路径的 ONTAP LUN 的正确输出：</block>
  <block id="aa89a86e36a09e87ac1e23a259c8d26c" category="admonition">请勿使用过多的路径访问单个 LUN 。所需路径不应超过 4 个。在存储故障期间， 8 个以上的路径可能会出现发生原因路径问题。</block>
  <block id="21a58bdeaf70327c6f6f5fd597b24fa3" category="section-title">建议设置</block>
  <block id="31000f5c5314f347ab410a2c9b059d03" category="paragraph">Oracle Linux 6.9 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="eed881bb2a34d1ee7f7f847943028439" category="paragraph">要启动多路径守护进程，必须存在 multipath.conf 文件，但您可以使用以下命令创建一个空的零字节文件： `touch /etc/multipath.conf` 首次创建此文件时，可能需要启用并启动多路径服务。</block>
  <block id="3e62478acd97c41a7fea67ffea8ef9a1" category="paragraph">无需直接向 multipath.conf 添加任何内容，除非您的设备不希望由多路径管理，或者您的现有设置覆盖默认值。您可以将以下语法添加到 multipath.conf 文件中，以排除不需要的设备。</block>
  <block id="3bd7fde20a9abc176890c7422cf0f77f" category="admonition">将 &lt;DevID&gt; 替换为要排除的设备的 WWID 字符串。使用以下命令确定 WWID ：</block>
  <block id="4d70a817ac85626aff88bbc73d0a2deb" category="list-text">运行以下命令以确定 WWID ：</block>
  <block id="21613f1f81985ce9edca2dc6272a765e" category="paragraph">您应始终检查 ` /etc/multipath.conf` 文件中的原有设置，尤其是默认部分中的原有设置，这些设置可能会覆盖默认设置。下表显示了 ONTAP LUN 的严重 `multipathd` 参数以及所需值。如果某个主机已从其他供应商连接到 LUN ，并且这些参数中的任何一个被覆盖，则需要在 `multipath.conf` 中稍后使用 stantzas 进行更正，该 stantzas 专门应用于 ONTAP LUN 。如果不执行此操作， ONTAP LUN 可能无法按预期工作。只有在与 NetApp 和 / 或操作系统供应商协商后，才应覆盖这些默认值，并且只有在完全了解影响的情况下才应覆盖这些默认值。</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">参数</block>
  <block id="51ac4bf63a0c6a9cefa7ba69b4154ef1" category="cell">正在设置 ...</block>
  <block id="dbffbd283cd0d9c7937014167893297e" category="cell">detect_prio</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">是的。</block>
  <block id="f92718f463480c9c4b4291e7fd4ef19e" category="cell">dev_los_TMO</block>
  <block id="45debffea7d147b9e0bf49e293576a06" category="cell">" 无限 "</block>
  <block id="a571d3783c8d552371d5e8b486416b18" category="cell">故障恢复</block>
  <block id="516ff1e73f558b0ae701ae4561a63e2c" category="cell">即时</block>
  <block id="2b0488825c6eb266b344708a7cddcf4f" category="cell">fast_io_fail_sMO</block>
  <block id="e4da3b7fbbce2345d7772b0674a318d5" category="cell">5.</block>
  <block id="9f034b63948763d489f944319c2eb3de" category="cell">features</block>
  <block id="28ee0e433730bbbca1e0c830375a12f2" category="cell">"3 queue_if_no_path pG_init_retries 50"</block>
  <block id="8ed3e71dbbc580b4bbaa9dcce8493bc6" category="cell">flush_on_last_del</block>
  <block id="5701577075ff4f9e54d3ad56a3ba4f38" category="cell">是的。</block>
  <block id="357a02c5f1ac624818eb86d192ef02af" category="cell">硬件处理程序</block>
  <block id="f4ea5f46dd32b666be3f802dfe2982c2" category="cell">0</block>
  <block id="9434de34302b4f40887a7277cf35a8fc" category="cell">no_path_retry</block>
  <block id="a9d1cbf71942327e98b40cf5ef38a960" category="cell">队列</block>
  <block id="3b07c0a70dc66d6564dcdf2f5ab1ed63" category="cell">path_checker</block>
  <block id="f7cf064213f0c112681049d482b3695b" category="cell">"TUR"</block>
  <block id="1c51c00662754cd025cb61ff206ae0f1" category="cell">path_grouping_policy</block>
  <block id="81641add62ae647cd1c02f52241922a9" category="cell">"Group_by-prio"</block>
  <block id="8f95a0e667787fdfd1050c84a0a3242d" category="cell">path_selector</block>
  <block id="5990eef79be7b76a71fd8654f163960d" category="cell">" 循环 0"</block>
  <block id="e2f0125c5971e1ce714f86f145386ee3" category="cell">Polling interval</block>
  <block id="768ece56ce712f5866156382bfc1361a" category="cell">PRIO</block>
  <block id="fdbe87552687527a87a881e55c25f96d" category="cell">ONTAP</block>
  <block id="f5bf48aa40cad7891eb709fcf1fde128" category="cell">产品</block>
  <block id="de88f26939dec2b3ccb2f5223fb79770" category="cell">lun.*</block>
  <block id="900d1935a03e019eab2619da7c009da5" category="cell">Retain Attached Hw_handler</block>
  <block id="ba425f4425e634f6ee52c8f273549073" category="cell">rr_weight</block>
  <block id="d118c6d820fefed92bc68d8ed2d49a89" category="cell">" 统一 "</block>
  <block id="7a435144ffdde744d88ded2e7b6364a5" category="cell">user_friendly_names</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">否</block>
  <block id="7c3613dba5171cb6027c67835dd3b9d4" category="cell">供应商</block>
  <block id="971c047750d8e3b03c71d24020b3816f" category="cell">NetApp</block>
  <block id="97bfb8bbe6415581f3c953b6daabb241" category="paragraph">以下示例显示了如何更正被覆盖的默认值。在这种情况下， `multipath.conf` 文件会为 `path_checker` 和 `detect_prio` 定义与 ONTAP LUN 不兼容的值。如果由于其他 SAN 阵列仍连接到主机而无法删除这些参数，则可以专门针对具有设备实例的 ONTAP LUN 更正这些参数。</block>
  <block id="0ab1d58d11afaa3c04cf66282eb98ab3" category="inline-link-macro">建议设置</block>
  <block id="1bb315bd19c80a6c214d6eae6e6c8a99" category="admonition">要配置 Oracle Linux 6.9 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="e6290e19ce3858749b0edbfa1565d904" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.9 。</block>
  <block id="feb7e43ffe4beba7af662974e4d78a62" category="section-title">已知问题和限制</block>
  <block id="8e164918c56328c6560a73785d09e24f" category="cell">NetApp 错误 ID</block>
  <block id="b78a3223503896721cca1303f776159b" category="cell">标题</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Description</block>
  <block id="e84ba13cb7ac93e87b8a828e83224c06" category="cell">Bugzilla ID</block>
  <block id="634ce17c0c1f028975bdefe291d45220" category="inline-link-macro">1082780</block>
  <block id="777197cb0e422c596874100405fc362f" category="cell"><block ref="91e82093309bf20c099d28c5559f3009" category="inline-link-macro-rx"></block></block>
  <block id="38b857ac7145e662f13bf1705fe21a46" category="cell">使用 QLE8362 卡的 OL6.9 虚拟机管理程序偶尔会出现固件转储</block>
  <block id="10968bb02641daba6ea997ddf4f9106c" category="cell">在使用 QLE8362 卡的 OL6.9 虚拟机管理程序上执行存储故障转移操作期间，偶尔会观察到固件转储。固件转储可能会导致主机上的 I/O 中断，中断时间可能长达数千秒。适配器完成固件转储后， I/O 操作将以正常方式恢复。主机上不需要进一步的恢复操作步骤。要指示固件转储， /var/log/message 文件中会显示以下消息： qla2xxx [0000 ： 0c ： 00.3]-d001 ： 3 ：已将固件转储保存到临时缓冲区（ 3/ffc90008901000 ），转储状态标志（ 0x3f ）。</block>
  <block id="009d69d2d1b986815e7b825382d73af5" category="inline-link-macro">16039</block>
  <block id="4669d0134fa80f8f8565af912be55d7c" category="cell"><block ref="4669d0134fa80f8f8565af912be55d7c" category="inline-link-macro-rx"></block></block>
  <block id="e7565a20fc615772fc73eed9c1b34d4a" category="inline-link-macro">已知问题</block>
  <block id="6d7f9adf0bf7944b1d3ff491429c9aa3" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="6381fe6a72f9bd9f067a0ec390d2a8fb" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.9 。</block>
  <block id="5dd03e8d039863e563e049be198c3fd3" category="section-title">发行说明</block>
  <block id="f25da2d4ec4aacff4750d97e83acec21" category="section-title">ASM 镜像</block>
  <block id="446548f2b1301893641e29657fc7fe53" category="inline-link-macro">基于 ONTAP 的 Oracle 数据库</block>
  <block id="7466d31b9a4018d8f402bd6f92090e59" category="summary">介绍如何安装 Solaris 主机实用程序</block>
  <block id="e1084bfbacc7e9ee1de94f35fce4fca3" category="doc">将 Solaris 11.3 与 NetApp ONTAP 结合使用</block>
  <block id="16dcd3f6f3bbebb1de9769e4045dbb3f" category="section-title">安装 Solaris Host Utilities</block>
  <block id="f4d76a41ec782faaf93445d4818eaab2" category="paragraph">您可以从 NetApp 支持站点下载包含 Host Utilities 软件包的压缩文件。获取此文件后，您必须将其解压缩，以获取安装 Host Utilities 所需的软件包。</block>
  <block id="c454d997c91275b70f2f0433fad3fe36" category="list-text">转到包含下载内容的目录。</block>
  <block id="88a1748445927988a69d31c53331a565" category="list-text">提取文件。</block>
  <block id="d18516a8d2909b9e174694d2d903b1be" category="paragraph">以下示例将解压缩 SPARC 系统的文件。对于 x86-64 平台，请使用 x86/x64 软件包。</block>
  <block id="f6e9198a006ec354ae70027fd194c6a2" category="paragraph">`gunzip netapp_solaris host_utilities_6_2N20170913_0304_sparc.tar.gz`</block>
  <block id="b95d86816560689a3b4b5773be73b5f0" category="list-text">使用 `tar xvf` 命令解压缩文件。</block>
  <block id="cc3b132d19fd65d931654a8f68e6a763" category="paragraph">`tar xvf netapp_solaris host_utilities_6_2N20170913_0304_sparc.tar`</block>
  <block id="5579afabd38a89da9e9a86d43642cb09" category="list-text">将从 tar 文件提取的软件包添加到主机。</block>
  <block id="63b3ac26a4b95703d93b29c78815132e" category="paragraph">`pkgadd -d NTAPSANTool.pkg`</block>
  <block id="9edc8f09fd5b1e5afec2430fd6f561df" category="paragraph">这些软件包将添加到 ` /opt/NTAP/SANToolkit/bin` 目录中。</block>
  <block id="449da45e57042ec00e617f9cb2c44720" category="paragraph">要完成安装，您必须使用 `host_config` 命令为您的环境（此处为 MPxIO ）配置主机参数。</block>
  <block id="6206b10fce149a43f48967cbbd4b4f8c" category="paragraph">`host_config` 命令的格式如下：</block>
  <block id="83a1f575f8aec1b513562056a413cff2" category="paragraph">` /opt/NTAP/SANToolkit/bin/host_config \&lt;-setup&gt;\&lt;-protocol fcp_iscsi_mixed&gt;\&lt;-multipath mpxio_dmp&gt; non&gt; （ -noalua ）（ -mcc 60_90_120 ）`</block>
  <block id="d6d9e93cf83aed5c603cd4b87151241f" category="paragraph">`host_config` 命令执行以下操作：</block>
  <block id="7fe49d85363417a51c8021e0f89e7738" category="list-text">对 x86 和 SPARC 系统的光纤通道和 SCSI 驱动程序进行设置更改</block>
  <block id="2610c005c622702199776b8040e6ffd7" category="list-text">为两种 MPxIO 配置提供 SCSI 超时设置</block>
  <block id="217eb929d03545e608e38137c6093b07" category="list-text">设置 VID/PID 信息</block>
  <block id="35d2d8916f36066d72523b66cbc092aa" category="list-text">启用或禁用 ALUA</block>
  <block id="8acf6be34fc54828b14850ddb21f6aac" category="list-text">为 x86 和 SPARC 系统配置 MPxIO 使用的 ALUA 设置以及 SCSI 驱动程序。</block>
  <block id="8d3237fb2b6bc072b413d450b7bcf588" category="paragraph">在以下示例中， `sanlun lun show` 命令将返回 LUN 信息。</block>
  <block id="ab282a630118bded723e0887eac42503" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="1c6d071c1749743e8ebf715f1c64c2a1" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="2dde53d56f3621a460e634d6d12b32a5" category="paragraph">SAN 启动是将 SAN 连接的磁盘（ LUN ）设置为 Solaris 主机的启动设备的过程。</block>
  <block id="5a7aaaebad4b1e6fdc00f4ada3d48417" category="inline-link-macro">《 Solaris Host Utilities 安装和设置指南》</block>
  <block id="39242df65d7d9cca33b0be6a74f57145" category="paragraph">多路径允许您在主机和存储系统之间配置多个网络路径。如果一个路径发生故障，则流量将继续在其余路径上传输。</block>
  <block id="56dcd6f4fc148f38b926523ede2073aa" category="section-title">Non-ASA 配置</block>
  <block id="d77810c832bfd20ceec8a3c51f948767" category="paragraph">对于非 ASA 配置，应存在两组具有不同优先级的路径。优先级较高的路径为主动 / 优化路径，这意味着它们由聚合所在的控制器提供服务。优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="5fedfc5a04eb29a4d6e049f629f9d9b2" category="paragraph">以下示例显示了具有两个主动 / 优化路径和两个主动 / 非优化路径的 ONTAP LUN 的正确输出：</block>
  <block id="a63b2b5307b2543c7245f5a90ff9c36a" category="paragraph">在 OS 原生 `mpathadm show lu &lt;lun&gt;` 命令中，每个 LUN 的 * 访问状态 * 部分会显示路径优先级。</block>
  <block id="dba35953d3af1713968cdc2eba05813a" category="section-title">全 SAN 阵列配置</block>
  <block id="718434eaab1a4acbc3513dfaac0abc65" category="paragraph">在所有 SAN 阵列（ ASA ）配置中，指向给定逻辑单元（ LUN ）的所有路径均处于活动状态并已进行优化。这意味着可以同时通过所有路径提供 I/O ，从而提高性能。</block>
  <block id="0ad7491bc01531fcac211e10a0f8a9a0" category="paragraph">以下示例显示了 ONTAP LUN 的正确输出：</block>
  <block id="9736a41a8ee8c6b91a7dd1b18160526d" category="paragraph">对于 ASA 和非 ASA 配置， `sanlun` 命令的输出是相同的。</block>
  <block id="27c76d8dc74b940e914489c7f1b1cbb0" category="admonition">从 ONTAP 9.8 开始，支持适用于 Solaris 主机的所有 SAN 阵列（ ASA ）配置。</block>
  <block id="99b326a00b1e264525770e74f6741330" category="paragraph">以下是为采用 NetApp ONTAP LUN 的 Solaris 11.3 SPARC 和 x86_64 建议的一些参数设置。这些参数值由 Host Utilities 设置。</block>
  <block id="689202409e48743b914713f96d93947c" category="cell">价值</block>
  <block id="c0710e4c6669e9d9625063dae931aff1" category="cell">throttle_max</block>
  <block id="c9f0f895fb98ab9159f51fd0297e236d" category="cell">8.</block>
  <block id="b0c2901e0a1b1324d5d840954fb61581" category="cell">not_ready_retries</block>
  <block id="94f6d7e04a4d452035300f18b984988c" category="cell">300</block>
  <block id="f85717f580a467f74624bc242abd14de" category="cell">busy_retries</block>
  <block id="34173cb38f07f89ddbebc2ac9128303f" category="cell">30 个</block>
  <block id="da4c48366480ba84aa8f7d9667a2b61c" category="cell">reset_retries</block>
  <block id="dfc830769bd7e608c6b92961dfec4e39" category="cell">throttle_min</block>
  <block id="c81e728d9d4c2f636f067f89cc14862c" category="cell">2.</block>
  <block id="83c82ba45d16473ee7f64a4103fb6521" category="cell">timeout_retries</block>
  <block id="d3d9446802a44259755d38e6d163e820" category="cell">10</block>
  <block id="579c809b7cf293fc0f5db92d1dba3775" category="cell">物理块大小</block>
  <block id="f7efa4f864ae9b88d43527f4b14f750f" category="cell">4096</block>
  <block id="3d37ecaaa38a68cc4cb45fa6244e970c" category="section-title">MetroCluster 的建议设置</block>
  <block id="cb99705ba926b18eb56469f75cc39c4c" category="inline-link">KB1001373</block>
  <block id="8f9dff1e201aa562bc3dd3aafff4d268" category="section-title">Oracle Solaris 虚拟化</block>
  <block id="d73e6214e3336f5200c990aa71164cec" category="list-text">Solaris 虚拟化选项包括 Solaris 逻辑域（也称为 LDOM 或适用于 SPARC 的 Oracle VM Server ）， Solaris 动态域， Solaris 区域和 Solaris 容器。尽管这些技术基于非常不同的架构，但它们通常被重新命名为 "Oracle 虚拟机 " 。</block>
  <block id="5526d07285513042d4092f2ededbb3d5" category="list-text">在某些情况下，可以同时使用多个选项，例如特定 Solaris 逻辑域中的 Solaris 容器。</block>
  <block id="bc8be72fdc9d6054f356bb2b7f80fd12" category="inline-link">NetApp 互操作性表</block>
  <block id="a63c36dd82631ec1965478d89094624d" category="paragraph">如果在 LDOM 中将 LUN 用作虚拟磁盘设备，则虚拟化会屏蔽 LUN 的源，而 LDOM 将无法正确检测块大小。要防止出现此问题描述，必须针对 Oracle 错误 15824910 修补 LDOM 操作系统，并创建一个 `vDC.conf` 文件，将虚拟磁盘的块大小设置为 4096 。有关详细信息，请参见 Oracle 文档 2157669.1 。</block>
  <block id="d814467c80971fad7dc38d7544ce98d0" category="paragraph">要验证修补程序，请执行以下操作：</block>
  <block id="9f6b080eca87f7396d496ea0c81b7e3e" category="list-text">创建 zpool 。</block>
  <block id="1f80ff8a7f656ba475234df3ba5b12d0" category="list-text">对 zpool 运行 `zdb -C` 并验证 * 磁盘移 * 的值是否为 12 。</block>
  <block id="056c8d7c593315d3a152a1043acca1b4" category="paragraph">如果 * 换片 * 的值不是 12 ，请验证是否安装了正确的修补程序，然后重新检查 vDC.conf 的内容。</block>
  <block id="e12f2377b359c4e907e0289ded101bbb" category="paragraph">在 * 换档 * 显示值 12 之前，请勿继续操作。</block>
  <block id="9dca40973dd4348be41eafe643b703ec" category="admonition">对于各种版本的 Solaris 上的 Oracle 错误 15824910 ，我们提供了修补程序。如果需要帮助确定最佳内核修补程序，请联系 Oracle 。</block>
  <block id="36ab1d57f4ac9530d3a3340c5c45fa71" category="cell">Oracle ID</block>
  <block id="00973b68a5065faa4a281a0e725eda56" category="cell">1366780</block>
  <block id="7e8e5478b94a9cb677c6d439dce145ce" category="cell">在 x86 架构上使用 Emulex 32G HBA 时发生 Solaris LIF 问题</block>
  <block id="e84f6ac369848cb6d7e082d7741f9522" category="cell">对于 x86_64 平台上的 Emulex 固件版本 12.6.x 及更高版本，请参见</block>
  <block id="c0100c2009c306f8f4ee8e407477e33f" category="cell">SR 3-24746803021</block>
  <block id="a45d90a5f7a08888afb625a60a87c1fe" category="cell">1368957</block>
  <block id="ad7a7ee02c1833f8de304fb448e63f7d" category="cell">"Solaris 11.x"cfgadm -c configure" 导致端到端 Emulex 配置出现 I/O 错误 "</block>
  <block id="dfbca5d94a0cbae9d4fce80b686be2a2" category="cell">在 Emulex 端到端配置上运行 "cfgadm -c configure" 会导致 I/O 错误。此问题已在 9.5P17 ， 9.6P14 ， 9.7P13 和 9.8P2 中修复</block>
  <block id="d4cd0dabcf4caa22ad92fab40844c786" category="cell">不适用</block>
  <block id="0960de670071121018c377f3ca40c5e7" category="summary">介绍如何将 IBM AIX 7.1 与 ONTAP 结合使用</block>
  <block id="241d5f190b08a8c6040501ba121d06b4" category="doc">将 IBM AIX 7.1 与 NetApp ONTAP 结合使用</block>
  <block id="1e2586276f930618fab0e81207301a0c" category="section-title">安装 AIX Host Utilities</block>
  <block id="7c7e86701edb3aaa86c9a8f043c6e949" category="paragraph">在将 AIX MPIO 与 NetApp ONTAP 存储结合使用时，必须安装 AIX 主机实用程序套件。</block>
  <block id="9fd30469c1e3a7c262c116e88d7e9274" category="paragraph">您可以从 NetApp 支持站点下载包含 Host Utilities 软件包的压缩文件。获取此文件后，您必须将其解压缩，以获取安装 Host Utilities 所需的两个软件包。</block>
  <block id="83ea987146445e3a3ff4069f8c0095ac" category="list-text">登录到主机。</block>
  <block id="f22bfff17408247273e66b8771e95a3d" category="list-text">在 AIX 主机上，以 * 根 * 身份登录。</block>
  <block id="716d37b2c6f554f878cb0230e2c5b8b7" category="list-text">从 NetApp 支持站点将包含 Host Utilities 的压缩文件副本下载到主机上的目录中。</block>
  <block id="f1893c3e5e775c895395a0a1524f20a9" category="list-text">解压缩文件并提取 SAN 工具包软件包。</block>
  <block id="7479ee4eaf5b0a177d10a5a42ff8dc26" category="list-text">安装 AIX MPIO ：</block>
  <block id="bb592bc57b2d28b13d87379c7d6269df" category="paragraph">SAN 启动是将 SAN 连接的磁盘（ LUN ）设置为 AIX 主机的启动设备的过程。您可以将 SAN 启动 LUN 设置为在运行采用 FC 或 FCoE 协议的 AIX Host Utilities 的 AIX MPIO 环境中运行。在 AIX MPIO 环境中，用于创建 SAN 启动 LUN 并在其上安装新操作系统映像的方法可能会有所不同，具体取决于您使用的协议。</block>
  <block id="3687a533941379b59a8738b1c2ed0311" category="paragraph">多路径允许您在主机和存储系统之间配置多个网络路径。如果一个路径发生故障，则流量将继续在其余路径上传输。Host Utilities 的 AIX 环境使用 AIX 原生多路径解决方案， MPIO 。</block>
  <block id="7924ef77d0345ab3b49395dc2db2cfd8" category="paragraph">对于 AIX ，路径控制模块（ PCM ）负责控制多个路径。PCM 是存储供应商提供的用于处理路径管理的代码。在 Host Utilities 安装过程中会安装并启用此功能。</block>
  <block id="2b72917ba6f1cc277017f5a9601aa2ef" category="admonition">从适用于 AIX 主机的 ONTAP 9.8 开始，支持所有 SAN 阵列（ ASA ）配置。</block>
  <block id="5a14ed309081290d9e2d925584ae805b" category="paragraph">以下是为 NetApp ONTAP LUN 建议的一些参数设置。安装 ONTAP 主机实用程序套件后，系统会自动设置 NetApp LUN 的关键参数。</block>
  <block id="0ba29c6a1afacf586b03a26162c72274" category="cell">environment</block>
  <block id="e282cd884ba9b656c4bc8b82b5d8be14" category="cell">AIX 的价值</block>
  <block id="3b0649c72650c313a357338dcdfb64ec" category="cell">注意</block>
  <block id="ed469618898d75b149e5c7c4b6a1c415" category="cell">算法</block>
  <block id="7e6c7f4878b6fa562299bd45be030c4d" category="cell">MPIO</block>
  <block id="4412c3395f407a75c2adce7824ebf428" category="cell">循环</block>
  <block id="1298c754530eead6dbb968f4249b8165" category="cell">由 Host Utilities 设置</block>
  <block id="9e859f212e8384c095f73596735d53a0" category="cell">hcheck_cmd</block>
  <block id="5311173563ec0769cd7ae3fa3e7e0b10" category="cell">查询</block>
  <block id="6988b47d2f8810c38ad64e87feafcb30" category="cell">hcheck_interval</block>
  <block id="f0782c3568286ef957727ee31a985ba0" category="cell">hcheck_mode</block>
  <block id="0d703a43d4f6488d679c8cba068fc7e8" category="cell">非活动</block>
  <block id="081c81cd7221d16727362fb6cc3e9887" category="cell">lun_reset_st</block>
  <block id="d28b14c23469a7ba3bb77f47fcf42b1b" category="cell">MPIO / 非 MPIO</block>
  <block id="72e42f207529b821d398fc99e0fca116" category="cell">max_transfer</block>
  <block id="65d69825148b8d70d27402a1f886b516" category="cell">FC LUN ： 0x100000 字节</block>
  <block id="664998cf50e9bcb3d490413ee19d0d27" category="cell">QFull</block>
  <block id="a0d15932b5705b3c0f6a6b42b61ae4aa" category="cell">2 秒延迟</block>
  <block id="9d51746070ef554ad4e93a16de4aed0f" category="cell">queue_depth</block>
  <block id="ea5d2f1c4608232e07d3aa3d998e5135" category="cell">64</block>
  <block id="594d668c4d1ddfca32b3c24b33db2da3" category="cell">reserve_policy</block>
  <block id="89ab430e638e4ac51b1bd74a6128d7ec" category="cell">no_reserve</block>
  <block id="b6c88cf55f9bbfbc7a233193fadad830" category="cell">re_timeout （磁盘）</block>
  <block id="3d393dc956fea776f25db075df639cb1" category="cell">30 秒</block>
  <block id="1cc98e45f986ed8b0237cf222ebfc27e" category="cell">使用操作系统默认值</block>
  <block id="6821fad0809cda2478b64a1caab5591f" category="cell">dyntrk</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">是的。</block>
  <block id="1d2fb8692a14a1945821f3c8e59f095a" category="cell">FC_err_recov</block>
  <block id="2e3ae278a1182858ab2e620903d5fa9c" category="cell">fast_fail</block>
  <block id="0ed546e5af377a4c81e9ee18e7255a94" category="cell">q_type</block>
  <block id="8dbdda48fb8748d6746f1965824e966a" category="cell">简单</block>
  <block id="92f144138fa4bcf3ed61a6b57eb2d3f0" category="cell">num_cmd_elems</block>
  <block id="59ab97def4a8063135fdb7b700d42567" category="cell">1024 （用于 AIX ）</block>
  <block id="cc09e9b715b19878584d7de2582a4981" category="cell">FC EN1B ， FC EN1C</block>
  <block id="297f86e3f009c4831d4973ff8e686c8e" category="cell">500 （用于 AIX ）（独立 / 物理） 200 （用于 VIOC ）</block>
  <block id="c78667df66d3342c7fe6a58f227a56c1" category="cell">FC EN0G</block>
  <block id="52929637ce970c2251eb80190b86d5c8" category="inline-link-macro">NetApp KB1001318</block>
  <block id="fe0ab6ec217528ab607813727508be0a" category="paragraph">没有已知问题和限制。</block>
  <block id="063981d5e2e841e661249aba9ca9682a" category="summary">使用 ONTAP 为 Oracle Linux 8.1 设置 VME/FC 主机配置，包括示例</block>
  <block id="ab5f40e0204a9868aebbaee0226f0547" category="doc">适用于采用 ONTAP 的 Oracle Linux 8.1 的 NVMe/FC 主机配置</block>
  <block id="3a8ba1ff8824968961222d6b447b4973" category="section-title">可支持性</block>
  <block id="da160308e3b4b4a80bf1b72b5bdbedb8" category="inline-link-macro">Hardware Universe</block>
  <block id="482723983a4f2af954e36ff41e567451" category="section-title">已知限制</block>
  <block id="77835a1b9432b93fd521ab9f863d3c08" category="list-text">NVMe-CLI 软件包中不提供原生 NVMe/FC 自动连接脚本。使用 HBA 供应商提供的外部自动连接脚本。</block>
  <block id="42824b1aefd5f24b6dcc64364263ea75" category="list-text">默认情况下， NVMe 多路径不会启用轮循负载平衡。要启用此功能，必须编写 udev 规则。有关在 Oracle Linux 8.1 上启用 NVMe/FC 的章节提供了相关步骤。</block>
  <block id="dd1236487335da312131092e529f99af" category="list-text">在 Oracle Linux 8.1 上，不支持 NVMe/FC ，因此也不支持 NVMe/FC 的 Linux 统一主机实用程序（ Unified Host Utilities ， LUhu ）。使用原生 NVMe-CLI 中包含的 NetApp 插件中提供的 ONTAP 命令输出。</block>
  <block id="ea05ffc0f6f8f227481ba6edf37099d6" category="section-title">启用 NVMe/FC</block>
  <block id="3b5ac1dcd2533f5e278af9f8297049b5" category="list-text">在服务器上安装 Oracle Linux 8.1 。</block>
  <block id="9ec77828480f1a42c7e9c6fa09be9026" category="list-text">升级 NVMe-CLI 软件包。</block>
  <block id="3d8955b26bfbc81a964a71512390e793" category="list-text">在 /lib/udev/rules.d/71-nvme-iopolicy-netapp-ONTAP.rules 中将以下字符串作为单独的 udev 规则添加。这样可以为 NVMe 多路径启用轮循负载平衡。</block>
  <block id="1a15bf20a800cdb72fc9ff90c8ba930a" category="list-text">在 Oracle Linux 8.1 主机上，检查 /etc/nve/hostnqn 上的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="435842f501e97880395ece733bcbdc4a" category="paragraph">如果 +hostnqn+ 字符串不匹配，则应使用 vserver modify 命令更新相应 ONTAP 阵列子系统上的主机 NQN 字符串，以便与主机上 etc/nve/hostnqn 中的主机 NQN 字符串匹配。</block>
  <block id="d27af977823b8308d5d5cf4dc158a485" category="section-title">为 NVMe/FC 配置 Broadcom FC 适配器</block>
  <block id="e1e5de918db5678c70186987c2c34177" category="list-text">默认情况下， lpfc 中的 NVMe 支持已启用：</block>
  <block id="2955b4c6f6584d3e46c78a90afeb2c7c" category="paragraph">较新的 lpfc 驱动程序（收件箱和发件箱）的 lpfc_enable_FC4_type 默认设置为 3 。因此，您无需在 /etc/modprobe.d/lpfc.conf 中明确设置此值。</block>
  <block id="f6819fa140833120f7f3801a144cc85c" category="list-text">接下来，安装建议的 lpfc 自动连接脚本：</block>
  <block id="1d1492ad6334ac79f35c1f6b273c682a" category="list-text">验证是否已安装自动连接脚本。</block>
  <block id="a8838295e719564afa235864cf8037cf" category="list-text">验证启动程序端口是否已启动且正在运行。</block>
  <block id="868dd93a6f1aeb0ff748d235566d1c4e" category="list-text">验证 NVMe/FC 启动程序端口是否已启用且能够查看目标端口，并且所有端口均已启动且正在运行。</block>
  <block id="49f5eedacc16d9fb295ac209c276281f" category="paragraph">在以下示例中，仅启用了一个启动程序端口，并与两个目标 LIF 连接，如以下输出所示：</block>
  <block id="864d504d782b9fe5527151b8a795cdae" category="section-title">正在验证 NVMe/FC</block>
  <block id="b6a29cb5683f3c681aef0fb1df5f0331" category="list-text">验证以下 NVMe/FC 设置。</block>
  <block id="5143c4b425bd02e9b522b5a1f01f39c4" category="paragraph">在上述示例中，两个命名空间映射到 Oracle Linux 8.1 ANA 主机。这些 LIF 可通过四个目标 LIF 进行查看：两个本地节点 LIF 和两个其他配对节点 / 远程节点 LIF 。此设置会将主机上每个命名空间的两个 ANA 优化路径和两个 ANA 不可访问路径显示为。</block>
  <block id="72663606b8411ccc0666f2a99b78df08" category="list-text">验证是否已创建命名空间。</block>
  <block id="d58a6348af94cbfcbf65485358c4a07d" category="list-text">验证 ANA 路径的状态。</block>
  <block id="61713dcee5b85916fbe59e04b45b37d0" category="list-text">验证适用于 ONTAP 设备的 NetApp 插件。</block>
  <block id="4d1a5dc427910a8f8e64f05cd745f04b" category="section-title">为 Broadcom NVMe/FC 启用 1 MB I/O 大小</block>
  <block id="b2c535b12eae5c28a532e07cea962627" category="list-text">将 `lpfc_sg_seg_cnt` 参数设置为 256 。</block>
  <block id="d73152e7a2f3eb9fac20bc98a1ee9686" category="list-text">运行 `dracut -f` 命令，然后重新启动主机。</block>
  <block id="681e25842821aed88b9536b9cde94730" category="list-text">验证 `lpfc_sg_seg_cnt` 是否为 256 。</block>
  <block id="911e585c5684ba9f5c2b87af879f4a13" category="summary">如何使用 ONTAP 为 RHEL 8.2 配置 NVMe/FC 主机</block>
  <block id="1e2ea077f54493b4670fb3cb63e05215" category="doc">适用于采用 ONTAP 的 RHEL 8.2 的 NVMe/FC 主机配置</block>
  <block id="c6669fd579995b65e30bee38f5da1a94" category="paragraph">对于 RHEL 8.2 ，默认情况下，内核 NVMe 多路径保持禁用状态。因此，您需要手动启用它。下一节 " 在 RHEL 8.2 上启用 NVMe/FC " 介绍了执行此操作的步骤。</block>
  <block id="797aea72ebbc1431192817ec206cafb4" category="list-text">在服务器上安装 Red Hat Enterprise Linux 8.2 GA 。</block>
  <block id="219a0c52523adf3bd5e0b81ca98a88a1" category="paragraph">如果使用 `yum update/upgrade` 从 RHEL 8.1 升级到 RHEL 8.2 ，则您的 ` /etc/nve/host*` 文件可能会丢失。要避免文件丢失，请执行以下操作：</block>
  <block id="6af8ec9e9e6b66a700434d4b32213979" category="list-text">备份 ` /etc/nvme/host*` 文件。</block>
  <block id="70645ea09148c685de3985c33c7f1620" category="list-text">如果您已手动编辑 `udev` 规则，请将其删除：</block>
  <block id="aa62c82ad70fa52092c6b694ab798a13" category="list-text">执行升级。</block>
  <block id="637c9dab407a19b5ffba6acd84571167" category="list-text">升级完成后，运行以下命令：</block>
  <block id="29dfe6da86bf07e6603e28dfb347ad93" category="list-text">在 ` /etc/nvme/` 中还原主机文件。</block>
  <block id="6583872aab9c396f958f3f06d3512a9d" category="list-text">将原始的 ` /etc/nve/host*` 内容从备份复制到 ` /etc/nvme/` 的实际主机文件。</block>
  <block id="360ef025710e08a61d1403840b1b7d2f" category="list-text">安装完成后，验证您是否正在运行指定的 Red Hat Enterprise Linux 内核。</block>
  <block id="dd04c64108aac34c4bea60bf8e6c1a4d" category="list-text">安装 NVMe-CLI 软件包。</block>
  <block id="701947e628918eea072dd2f4c817f9ac" category="list-text">启用内核 NVMe 多路径。</block>
  <block id="72e702431882de8ed92aa1c2e3726dea" category="list-text">在 RHEL 8.2 主机上，检查 /etc/nve/hostnqn 上的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="2490396f1344fd16bd1bd0da5ce25167" category="paragraph">如果主机 NQN 字符串不匹配，请使用 `vserver modify` 命令更新相应 ONTAP 阵列子系统上的主机 NQN 字符串，使其与主机上 /etc/nve/hostnqn 中的主机 NQN 字符串匹配。</block>
  <block id="b041c12317a88da69581757a98db42d2" category="list-text">更新 `enable_Foreign` Setting _ （ optional ） _ 。</block>
  <block id="4e9e6a353c31b00bcbf2e522fd8093c3" category="list-text">运行 `systemctl restart multipathd` 以重新启动 multipathd 守护进程。</block>
  <block id="f89e24c920e9c7f547e3742a47871d9c" category="list-text">验证您使用的是受支持的适配器。</block>
  <block id="8cd46a779e9b68135d1a640170cd6b2e" category="list-text">验证 `lpfc_enable_FC4_type` 是否设置为 "* 3*" 。</block>
  <block id="41ec6565fe85097ed5372fdce96af64d" category="list-text">确认启动程序端口已启动且正在运行，并且可以查看目标 LIF 。</block>
  <block id="f30b11db09a328ad94a09fea8754a723" category="list-text">启用 1 MB I/O 大小 _ （可选） _ 。</block>
  <block id="4e3bebaa265fd72e0985a381fa90b8e4" category="paragraph">对于大小高达 1 MB 的 lpfc 驱动程序问题描述 I/O 请求，需要将 `lpfc_SG_seg_cnt` 参数设置为 256 。</block>
  <block id="1449b3a95e91bdcf0d43c00dc4f60e5c" category="list-text">运行 `dracut -f` 命令，然后重新启动主机。</block>
  <block id="6218e0ecfb5322fccd6e215e3e9134d7" category="list-text">主机启动后，验证 lpfc_sg_seg_cnt 是否设置为 256 。</block>
  <block id="eba3a332cb321562f0fc9dfcc5b1c84c" category="list-text">验证您是否正在使用建议的 Broadcom lpfc 固件以及收件箱驱动程序。</block>
  <block id="abdf9c787f0ce3f5d12b402c6e131791" category="section-title">lpfc 详细日志记录</block>
  <block id="5fc5720a1a04d98fd8788b6a94e31e4e" category="summary">使用 ONTAP 为 Oracle Linux 7.8 设置 VME/FC 主机配置，包括示例</block>
  <block id="62eef3d72485420aaef57ae6f4135044" category="doc">适用于采用 ONTAP 的 Oracle Linux 7.8 的 NVMe/FC 主机配置</block>
  <block id="cddebb777dcce0d200e1342fa6f70131" category="list-text">默认情况下， NVMe 多路径不会启用轮循负载平衡。要启用此功能，必须编写 udev 规则。有关在 Oracle Linux 7.8 上启用 NVMe/FC 的章节提供了相关步骤。</block>
  <block id="c3283cf60ecf7c97f753acd8d8735312" category="list-text">在 Oracle Linux 7.8 上，不支持 NVMe/FC 的 sanlun ，因此也不支持 NVMe/FC 的 Linux 统一主机实用程序（ Unified Host Utilities ， LUhu ）。使用原生 NVMe-CLI 中包含的 NetApp 插件中提供的 ONTAP 命令输出。</block>
  <block id="fd58025e044ac8cc0f93e71ed39a3720" category="list-text">在服务器上安装 Oracle Linux 7.8 。</block>
  <block id="de4b2454229cdcf5a156dbdf82d30b67" category="list-text">在 Oracle Linux L 7.8 主机上，检查 /etc/nve/hostnqn 上的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="aec81109cc90f6dcce296e00814fd999" category="paragraph">在上述示例中，两个命名空间映射到 Oracle Linux 7.8 ANA 主机。这些 LIF 可通过四个目标 LIF 进行查看：两个本地节点 LIF 和两个其他配对节点 / 远程节点 LIF 。此设置会将主机上每个命名空间的两个 ANA 优化路径和两个 ANA 不可访问路径显示为。</block>
  <block id="b2d91944503b473fe8f36b2e57bc92ad" category="summary">将 Windows Server 2012 R2 与 ONTAP 结合使用</block>
  <block id="bb0f6fb06e60baa493bb3441eb78e1ef" category="section-title">正在启动操作系统</block>
  <block id="cf8e37c6ed225ec772faf3c88fe433b9" category="paragraph">启动操作系统有两个选项：使用本地启动或 SAN 启动。要进行本地启动，请在本地硬盘（ SSD ， SATA ， RAID 等）上安装操作系统。有关 SAN 启动的信息，请参见以下说明。</block>
  <block id="d39909bec744e2f2c23d014243c69d33" category="section-title">SAN 启动</block>
  <block id="7fbd0449d14b878cf9b9ba9434075a41" category="paragraph">如果您选择使用 SAN 启动，则您的配置必须支持它。您可以使用 NetApp 互操作性表工具验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="e6b99fad9f3e47e4b52f44d0b0dac069" category="list-text">验证多个路径是否可用。请记住，只有在主机操作系统启动并在多个路径上运行后，多个路径才可用。</block>
  <block id="03ed98061513afaf0a716e8d7756931a" category="list-text">在服务器 BIOS 中为 SAN 启动 LUN 映射到的端口启用 SAN 启动。有关如何启用 HBA BIOS 的信息，请参见供应商专用文档。</block>
  <block id="34fbc6aa2d83f69c8f3d03faf01392c7" category="section-title">安装 Windows 修补程序</block>
  <block id="c812232f894e468682a433753368a4f5" category="paragraph">建议在服务器上安装 * 最新的累积更新 * 。</block>
  <block id="880b9ba9933b6e3ce087d9412e66470b" category="inline-link-macro">Microsoft Update Catalog 2012 R2</block>
  <block id="0732474ba551155a9a0983a068b65a4e" category="admonition">转至 <block ref="c91fa8395bb99838be8ab4e7b48666cc" category="inline-link-macro-rx"></block> 用于获取并安装适用于您的 Windows 版本的所需 Windows 修补程序的网站。</block>
  <block id="b9ae3f85c9e860efac72637c24ed529b" category="list-text">从 Microsoft 支持站点下载修补程序。</block>
  <block id="623e88bd2085eeb3f49a2784ec97654e" category="admonition">某些修补程序不能直接下载。在这种情况下，您需要向 Microsoft 支持人员请求给定的修补程序。</block>
  <block id="5a3b43f9090be87b411af7ac82adcb38" category="list-text">按照 Microsoft 提供的说明安装修补程序。</block>
  <block id="56dd1899b4280d897ff6670fb0968e02" category="admonition">许多修补程序都需要重新启动 Windows 主机，但您可以选择等待重新启动主机，直到安装或升级 Host Utilities 为止。</block>
  <block id="36b258cf83367d27741cf0be3d246eca" category="section-title">安装 Windows Unified Host Utilities</block>
  <block id="ba490f365e20da97a23546cfe0da8569" category="inline-link-macro">WUHU 7.1 文档</block>
  <block id="d25621141f24193488d8ea2276c47e01" category="paragraph">如果 Windows 主机具有多条存储系统路径，则必须安装 MPIO 软件并设置多路径。如果没有 MPIO 软件，操作系统可能会将每个路径视为一个单独的磁盘，从而可能导致数据损坏。MPIO 软件为操作系统提供一个用于所有路径的磁盘，而设备专用模块（ DSM ）则用于管理路径故障转移。</block>
  <block id="a0e497cbff11ff2d61625663418c3fc8" category="paragraph">在 Windows 系统上，任何 MPIO 解决方案的两个主要组件是 DSM 和 Windows MPIO 。在 Hyper-V 虚拟机中运行的 Windows XP 或 Windows Vista 不支持 MPIO 。</block>
  <block id="60bdc643bd0e4fed0f4a29dbcd77bc2b" category="admonition">选择 MPIO 支持后， Windows Unified Host Utilities 将启用 Windows Server 2012 R2 的随附 MPIO 功能。</block>
  <block id="4f27a34799ad8580f67b93c57e242ad0" category="section-title">SAN 配置</block>
  <block id="4bab92c0679e684c0db0cc740cd47758" category="section-title">Non-ASA 配置</block>
  <block id="62400040936d82d99ac08dd73758a123" category="paragraph">对于非 ASA 配置，应存在两组具有不同优先级的路径。</block>
  <block id="052d14b0f88c518cfcaa937d0cd9cd22" category="paragraph">优先级较高的路径为主动 / 优化路径，这意味着它们由聚合所在的控制器提供服务。</block>
  <block id="502fbd3ccf57633c65ae1692b6d1a9e4" category="paragraph">优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。</block>
  <block id="9a5314b1a306337a06216b7efd89d414" category="admonition">只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="098ea71f2042c61bc1f4527ee7d06503" category="paragraph">以下示例显示了具有两个主动 / 优化路径和两个主动 / 非优化路径的 ONTAP LUN 的正确输出。</block>
  <block id="8f2eee8da6df59eb11ac9371e3b986f6" category="image-alt">非 ASA</block>
  <block id="7a0a3a29c4e371b5125adb49cae3a738" category="section-title">全 SAN 阵列配置</block>
  <block id="e1c9ad969fa62c5a5a7b128c39c401d9" category="paragraph">对于全 SAN 阵列（ ASA ）配置，应存在一组具有单个优先级的路径。所有路径均为主动 / 优化路径；也就是说，它们由控制器提供服务，并在所有活动路径上发送 I/O 。</block>
  <block id="457391c9c82bfdcbb4947278c0401e41" category="image-alt">ASA</block>
  <block id="6aa0ace12fc074a16fce7ea7a0a32c67" category="admonition">请勿使用过多的路径访问单个 LUN 。所需路径不应超过四个。在存储故障期间，超过八个路径可能会出现发生原因路径问题。</block>
  <block id="c9bbd6792eac761da84ef7d035e5b41c" category="section-title">Hyper-V VHD 需要对齐才能获得最佳性能</block>
  <block id="b5db8e140c9b8a986547e3b2766d1acf" category="paragraph">如果磁盘分区的数据块边界与底层 LUN 的块边界不对齐，则存储系统通常必须为每个操作系统块读取或写入完成两次块读取或写入。错位导致的额外块读取和写入可能会导致严重的性能问题。</block>
  <block id="f7b5fa867e9aa465eda58085dc8cbee4" category="paragraph">未对齐的原因是主启动记录定义的每个分区的起始扇区的位置。</block>
  <block id="270748dbbd5a9031b10d44f9f16973cf" category="admonition">默认情况下， Windows Server 2016 创建的分区应对齐。</block>
  <block id="7b221632977cbed9f448c74705b35ed9" category="paragraph">使用 ONTAP PowerShell 工具包中的 `Get-NaVirtualDiskAlignment` cmdlet 检查分区是否与底层 LUN 对齐。如果分区对齐不正确，请使用 `修复 -NaVirtualDiskAlignment` cmdlet 创建对齐正确的新 VHD 文件。此 cmdlet 会将所有分区复制到新文件中。原始 VHD 文件不会被修改或删除。复制数据时，必须关闭虚拟机。</block>
  <block id="a432483f271039135d89450152b7c2cd" category="paragraph">您可以从 NetApp 社区下载 ONTAP PowerShell 工具包。您必须将 `Dataontap.zip` 文件解压缩到环境变量 ` %PSModulePath%` 指定的位置（或使用 `Install.ps1` 脚本为您执行此操作）。完成安装后，请使用 `SHow-NaHelp` cmdlet 获取 cmdlet 帮助。</block>
  <block id="1390f52cfb4ccd4f9cbdcd7bcdb075a9" category="paragraph">PowerShell 工具包仅支持具有 MBR 类型分区的固定大小 VHD 文件。不支持使用 Windows 动态磁盘或 GPT 分区的 VHD 。此外， PowerShell 工具包还要求最小分区大小为 4 GB 。较小的分区无法正确对齐。</block>
  <block id="1104f990ade81e5b4d644288a54cf49a" category="admonition">对于在 VHD 上使用 Grub 启动加载程序的 Linux 虚拟机，您需要在运行 PowerShell 工具包后更新启动配置。</block>
  <block id="f4f9ad21012cf66e650af6b1058ce16b" category="section-title">使用 PowerShell 工具包更正 MBR 对齐后重新安装适用于 Linux 的 Grub 子系统</block>
  <block id="b9ef2c298abb1a6d04513bf9fee94dda" category="paragraph">在使用 Grub 启动加载程序的 Linux 子操作系统上使用 PowerShell 工具包对磁盘运行 `mbralign` 以更正 MBR 对齐后，您必须重新安装 Grub 以确保子操作系统正确启动。</block>
  <block id="a6e4f0d5cc29281e962b33fc7c84286f" category="paragraph">已对虚拟机的 VHD 文件完成 PowerShell 工具包 cmdlet 。本主题仅适用于使用 Grub 启动加载程序和 `SystemRescueCd` 的 Linux 子操作系统。</block>
  <block id="972f2c4ba9001b48966c37ef2a152dc0" category="list-text">为虚拟机挂载正确版本的 Linux 安装 CD 中磁盘 1 的 ISO 映像。</block>
  <block id="75cb80233f6f80283591654412489249" category="list-text">在 Hyper-V Manager 中打开虚拟机的控制台。</block>
  <block id="3099a5656e3f912505f9d6912d810465" category="list-text">如果虚拟机正在运行并在 Grub 屏幕上挂起，请单击显示区域以确保其处于活动状态，然后单击 * Ctrl-Alt-Delete* 工具栏图标以重新启动虚拟机。如果虚拟机未运行，请启动它，然后立即单击显示区域以确保其处于活动状态。</block>
  <block id="737083ee251b627f57dd05899466dc4b" category="list-text">一旦看到 VMware BIOS 启动屏幕，请按一次 * Esc * 键。此时将显示启动菜单。</block>
  <block id="ccc37fa0e9dd606175ec88322d6be351" category="list-text">在启动菜单中，选择 * CD-ROM * 。</block>
  <block id="8fc05f93a1e2b7d0f8e575b13b63b37d" category="list-text">在 Linux 启动屏幕中，输入： `Linux rescue`</block>
  <block id="c1dc6d18649b347b978130011d44a49a" category="list-text">采用 Anaconda/red 配置屏幕的默认值。网络连接是可选的。</block>
  <block id="241c8b3bd8818322d5fba757a4374a34" category="list-text">输入 `grub` 以启动 Grub</block>
  <block id="92f0faf086af04bc7264f494a2325bb8" category="list-text">如果此 VM 中只有一个虚拟磁盘，或者存在多个磁盘，但第一个是启动磁盘，请运行以下 Grub 命令：</block>
  <block id="2ad561b2290177fb94422e288a709d8a" category="paragraph">如果虚拟机中有多个虚拟磁盘，并且启动磁盘不是第一个磁盘，或者您要通过从未对齐的备份 VHD 启动来修复 Grub ，请输入以下命令以确定启动磁盘：</block>
  <block id="e05674955ac595342c4c496ecfbdc101" category="paragraph">然后运行以下命令：</block>
  <block id="03ed2a207516388ba04bfabe01205803" category="admonition">请注意，上面的 `boot_disk` 是启动磁盘的实际磁盘标识符的占位符。</block>
  <block id="501d6d7f3776c626c1ec5d95589d5cca" category="list-text">按 * Ctrl-D* 退出。</block>
  <block id="ec93937c58f140d445e59c5bbc51be26" category="paragraph">Linux 应急功能将关闭，然后重新启动。</block>
  <block id="2e8526cbe762cb1b8393d935a3b0bf16" category="section-title">建议设置</block>
  <block id="1801611ab26d1810208b951594169cfe" category="paragraph">在使用 FC 的系统上，选择 MPIO 时，需要为 Emulex 和 QLogic FC HBA 设置以下超时值。</block>
  <block id="27a26e8988975d0cca1aae0df3ce6936" category="paragraph">对于 Emulex 光纤通道 HBA ：</block>
  <block id="1dd9d61dc0438fbaf47669042c33c32f" category="cell">属性类型</block>
  <block id="4a697eb9fdac91d5651375075c998596" category="cell">属性值</block>
  <block id="ec66408da57b16ff80b53777a6defe4d" category="cell">LinkTimeOut</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1.</block>
  <block id="313fad726a197f1c8b81e29dbda22a11" category="cell">节点超时</block>
  <block id="74802e20676d4776b1eea0dca80bcb9a" category="paragraph">对于 QLogic 光纤通道 HBA ：</block>
  <block id="08a7801aadb2d395506d0735d17dcf62" category="cell">LinkDownTimeOut</block>
  <block id="f9c8e6ceed8ad8db75740e78e48a6236" category="cell">PortDownRetransCount</block>
  <block id="881b9c4cb273bade29a78089e1cf6ee9" category="inline-link-macro">《 Windows 7.1 Host Utilities 安装指南》</block>
  <block id="c5fac7adc428bbd803e2710cafe09003" category="admonition">Windows Unified Host Utility 将设置这些值。有关详细的建议设置，请参见 <block ref="53418a54750628f8c611b4cd8982473c" category="inline-link-macro-rx"></block>。</block>
  <block id="a986b4819866ccf2fd420f54ba13180b" category="paragraph">Windows Server 2012 R2 没有已知问题。</block>
  <block id="cdf5d86cb1edacde3eb5e2a5ecdde6c3" category="summary">介绍如何将 Oracle Linux 6.7 与 ONTAP 结合使用</block>
  <block id="813ff0ec64503bac99ad0f3eb909ddff" category="doc">将 Oracle Linux 6.7 与 NetApp ONTAP 结合使用</block>
  <block id="7a10fec24c048df32aa9daca418df81a" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="b5abfd2250ee315cd6ad25de3df45edd" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="7c7b1ac412755c409b674d6d1d5261c8" category="paragraph">对于 Oracle Linux 6.7 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.7 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="30551084db41b5a626c643ea028e9abc" category="paragraph">Oracle Linux 6.7 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="efdd9d35dd70bc0d26752d2b48b4d556" category="admonition">要配置 Oracle Linux 6.7 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="8889d65b7bf0d43fb28eb69a57d4d394" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.7 。</block>
  <block id="038243cdb50150566123ac124dda8a72" category="paragraph">Oracle 6.7 没有已知问题。</block>
  <block id="ffc40f78b93020104da2125464f60645" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="fd679b4991af24edfd6d66f5cbc5db76" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.7 。</block>
  <block id="894e4bdfe9d6da54721793a917a39e41" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 6.4</block>
  <block id="09393803a5018bd913eeebc4ff241b9d" category="doc">将 Oracle Linux 6.4 与 NetApp ONTAP 结合使用</block>
  <block id="fc705c5393a2e9aef173ed40205014bb" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="77ab0bbf377853176c70e55d32dcb81a" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="acc24e9cf246ca31a5b0a8efe708e78a" category="paragraph">对于 Oracle Linux 6.4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.4 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="07cbee168940977c800471bc6700728e" category="paragraph">Oracle Linux 6.4 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="508728c2aac56abccb2b3721d56d9ecb" category="admonition">要配置 Oracle Linux 6.4 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="a06e2728aa3780c72bf0b5a9e2b2f14f" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.4 。</block>
  <block id="1974e1837127ea7adab8a19f52272924" category="inline-link-macro">713555</block>
  <block id="0cd135086668eba9ddaef37e78d77f1e" category="cell"><block ref="f16938549e28826d7c8dd807dbea5e81" category="inline-link-macro-rx"></block></block>
  <block id="79f201b7fe80e54927437e15bc553fda" category="cell">对于接管 / 交还和重新启动等控制器故障，使用 UEK2 的 OL6.4 和 OL5.9 会显示 QLogic 适配器重置</block>
  <block id="dbfbaf84e7d693312dc4a94d1b83d0c8" category="cell">如果发生控制器故障（例如接管，交还和重新启动），则在使用 UEK2 的 OL6.4 主机（ kernel-UEK-2.6.39-400.17.1.el6uek ）或使用 UEK2 的 OL5.9 主机（ kernel-UEK-2.6.39 400.17.1.el5uek ）上会显示 QLogic 适配器重置。这些重置是间歇性的。发生这些适配器重置时，可能会发生长时间的 I/O 中断（有时超过 10 分钟），直到适配器重置成功且路径状态由 dm-multipath 更新为止。在 /var/log/messages 中，如果遇到此错误，则会显示类似于以下内容的消息： kernel ： qla2xxx [0000 ： 11 ： 00.0]-8018 ： 0 ： adapter reset issued nexus=0 ： 2 ： 13 。这一点在内核版本中可见：在 OL6.4 上： kernel-UEK-2.6.39-400.171.el6uek 在 OL5.9 上： kernel-UEK-2.6.39-400.171.el5uek</block>
  <block id="1ad93267910df9c994eae8e51f527c7b" category="inline-link-macro">13999</block>
  <block id="7f7561e4143163119b13af6a2108f109" category="cell"><block ref="7f7561e4143163119b13af6a2108f109" category="inline-link-macro-rx"></block></block>
  <block id="102e1da9281e0b32f9b431ce48529bea" category="inline-link-macro">715217</block>
  <block id="6594707e38059de09488d34baa325a17" category="cell"><block ref="266e6e2d9bbadc25ae6193fd8a9a77a8" category="inline-link-macro-rx"></block></block>
  <block id="79533d80ff43942fa2eb66ec4bf65e8b" category="cell">使用 UEK2 的 OL6.4 或 OL5.9 主机上的路径恢复延迟可能会导致控制器或网络结构故障的 I/O 恢复延迟</block>
  <block id="45d39d9a54a6f9899f9b5ea6d07e6087" category="cell">在使用 UEK2 内核的 Oracle Linux 6.4 或 Oracle Linux 5.9 主机上，如果 I/O 发生控制器故障（存储故障转移或交还，重新启动等）或网络结构故障（ FC 端口禁用或启用），则 DM-Multipath 的路径恢复需要很长时间（ 4 分钟）。到 10 分钟）。有时，在将路径恢复到活动状态期间，还会出现以下 lpfc 驱动程序错误：内核： SD 0 ： 0 ： 8 ： 3 ： [SDLT] 结果： hostbyte=did_error driverbyte=driver_OK 由于故障事件期间路径恢复延迟， I/O 恢复也会延迟。OL 6.4 版本： device-mapper-1.02.7-9.el6 device-mapper-multipath-0.4.9-64.0.1.el6 kernel-UEK-2.6.39-400.171.el6uek OL 5.9 版本： device-mapper-1.02.7-9.el5 device-mapper-3.9-64.9.4.0.9.-64.1.elek-kernel5-17.1.5uele.5.17.1</block>
  <block id="c47a3ba2c793b5b9e21260f903c37d4d" category="inline-link-macro">14001</block>
  <block id="4db6d2f73b06fdf69b87d966cab54b34" category="cell"><block ref="4db6d2f73b06fdf69b87d966cab54b34" category="inline-link-macro-rx"></block></block>
  <block id="6f3a2ae9be03559c1880f12626561ea5" category="inline-link-macro">709911</block>
  <block id="402ff352b5b7120831a3dccefef4b5dc" category="cell"><block ref="4222d77b1ef65545c702a6cbec804e78" category="inline-link-macro-rx"></block></block>
  <block id="788f15e101785a60949d4926bf0906ae" category="cell">存储故障后，使用 UEK2 内核的 OL6.4 和 OL5.9 iSCSI 上的 DM 多路径需要很长时间才能更新 LUN 路径状态</block>
  <block id="9aeace4ea17e27b31802153d35eb0e3e" category="cell">在运行 Oracle Linux 6 Update4 和 Oracle Linux 5 Update9 iSCSI 以及 Unbreakable Enterprise Kernel Release 2 （ UEK2 ）的系统上，在存储故障事件期间出现问题，其中 DM Multipath （ DMMP ）需要大约 15 分钟来更新设备映射程序（ DM ）设备（ LUN ）的路径状态。如果在此时间间隔内运行 "multipath -ll" 命令，则该 DM 设备（ LUN ）的路径状态将显示为 "Failed ready Runing" 。路径状态最终更新为 "active ready running" 。 以下版本会显示此问题描述： Oracle Linux 6 Update 4 ： UEK2 内核： 2.6.39-400.17.1.el6uek.x86_64 多路径： device-mapper-multipath-0.4.0.9-64.1.el6.x86_64 iSCSI ： iscsi-initiator-utils-6.2.0.873-2.0.el6.1.el6.0.9_1.vmf_1.640.5-iscsi_4.0.5-1.vmf_1.vmfs.0.5-1.iscsi-8.0.5-1.vmfs.0.5-1.vmfs.0.5-iscsi ： iscsi ： iscsi ： iscsi-utils-6.0.873-utils-us-8.0.8-8.0.8-4.0.5-1.vmfs.0.5-1.vmfs.0.5-1.vmfs.0.5-1.vmfs.0.5-1.vmfs.0.5-1.vmfs.0.5-1.</block>
  <block id="bf15fc6473a38b79c0a233e9c6581775" category="inline-link-macro">13984</block>
  <block id="8db06c6e2c0de0ad27c52fbe6aab99bc" category="cell"><block ref="8db06c6e2c0de0ad27c52fbe6aab99bc" category="inline-link-macro-rx"></block></block>
  <block id="842cd6b2d622e6f6d6f096991479222c" category="inline-link-macro">739909</block>
  <block id="23aa57b371bac8344dedcd1613b8be86" category="cell"><block ref="27cd76b3a4455543cfaba6391cb8f5b5" category="inline-link-macro-rx"></block></block>
  <block id="c0f2efac60484d28bcdd08cfb17caa1d" category="cell">使用 UEK2 的 OL6.x 和 OL5.x 主机出现 FC 故障后， dm-multipath 设备上的 SG_IO ioctl 系统调用失败</block>
  <block id="97e64aa1a81f574216de1997c1b5ba68" category="cell">在使用 UEK2 内核的 Oracle Linux 6.x 主机和使用 UEK2 内核的 Oracle Linux 5.x 主机上出现问题。多路径设备上的 SG_* 命令在发生网络结构故障后失败，并显示 EAGAin 错误代码（ errno ），从而使活动路径组中的所有路径都关闭。只有在多路径设备未发生 I/O 时，才会出现此问题。以下是示例： # sg_inq -v /dev/mapper/3600a098041764937303f436c75324370 查询数据库： 12 00 00 24 00 ioctl （ SG_IO v3 ）失败，并显示 OS_err （ errno ） = 11 查询：传递操作系统错误：资源暂时不可用 HDIO_get_ioctl 身份失败： 资源暂时不可用 [11] /dev/mapper/3600a098041764937303f436c75324370 # 上的 SCSI 查询和提取 ATA 信息失败。发生此问题的原因是，在 ioctl（ ）调用期间，如果 DM-Multipath 设备上没有发生 I/O ，则无法激活路径组切换到其他活动组。在以下版本的 kernel-Uek 和 device-mapper-multipath 软件包中发现了此问题： OL6.4 版本： kernel-UEK-2.6.39-400.171.el6uek device-mapper-multipath-0.4.9.-64.1.el6 OL5.9 版本： kernel-UEK-2.6.39-400.17.1.el5uek-device-4.0.5-1.el6 多路径映射程序</block>
  <block id="ee0f827fe45c91c956bacfd78d91d47b" category="inline-link-macro">14082</block>
  <block id="01dab0d6fe6067acdd00c767b503f115" category="cell"><block ref="01dab0d6fe6067acdd00c767b503f115" category="inline-link-macro-rx"></block></block>
  <block id="7b9fb98af3d3330107d455e90e676611" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="f736929b1834226891236b2c0b0b218e" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.4 。</block>
  <block id="903b07b1963af0c45e65b6d887a9b059" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.9</block>
  <block id="318b80625145e5ced9a69b2b70948bc0" category="doc">将 Red Hat Enterprise Linux 6.9 与 NetApp ONTAP 结合使用</block>
  <block id="30882960e4e91384155a1bff6c886630" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="70efe35e64cc9ba99c6f021b1f4d02ec" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="b2da1ca8334b29f1d40436a25662d8d6" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.9 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.9 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="72421574ca16f2cc8486132314d384b7" category="list-text">使用 `mkinitrd` 命令重新创建 initrd-image 。RHEL 6x 及更高版本使用以下命令之一： `mkinitrd -f /boot/ initrd-"uname -r".img uname -r` 或命令： `dracut -f`</block>
  <block id="fa75e27f7177881cb444c05d8eae6152" category="list-text">验证 `cat /proc/cmdline` 命令的输出，以确保设置完成。</block>
  <block id="32ef1514a118a90d123d7385cc9d865f" category="paragraph">您可以使用 `multipath -ll` 命令验证 ONTAP LUN 的设置。以下各节提供了映射到 ASA 和非 ASA 角色的 LUN 的示例多路径输出。</block>
  <block id="481485305bd44028530f59a9a9614451" category="paragraph">RHEL 6.9 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="9934ae29c19cdf10db5a185a6b1403b4" category="paragraph">要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="639757de418f2423907f2b63fbc1458b" category="paragraph">首次创建此文件时，您可能需要启用并启动多路径服务。</block>
  <block id="6e7eef95f0e9ee9b717340ce72d65e5b" category="paragraph">不需要直接向 `multipath.conf` 文件添加任何内容，除非您的设备不希望由多路径管理，或者您的现有设置覆盖默认值。</block>
  <block id="36da0e0b56843a1256e96e81029390fa" category="paragraph">您可以将以下语法添加到 `multipath.conf` 文件中，以排除不需要的设备。</block>
  <block id="32fdadaf90804487f6b463983fc1c553" category="paragraph">将 ` &lt;DevID&gt;` 替换为要排除的设备的 WWID 字符串。使用以下命令确定 WWID ：</block>
  <block id="ff73d7e0f0c6051bbd80575105bb1cb1" category="list-text">将此 WWID 添加到 ` /etc/multipath.conf` 中的黑名单 stanza 中：</block>
  <block id="e652073cb2a43641b24496c09164f62a" category="paragraph">以下示例显示了如何更正被覆盖的默认值。在这种情况下， `multipath.conf` 文件会为 `path_checker` 和 `no_path_retry` 定义与 ONTAP LUN 不兼容的值。如果由于其他 SAN 阵列仍连接到主机而无法删除这些参数，则可以专门针对具有设备实例的 ONTAP LUN 更正这些参数。</block>
  <block id="5fa917b25abcb73abe17905f90a2c698" category="section-title">KVM 设置</block>
  <block id="1c673ef626dadf1264ece247fbed2de7" category="paragraph">您也可以使用建议的设置来配置基于内核的虚拟机（ KVM ）。由于 LUN 已映射到虚拟机管理程序，因此配置 KVM 不需要进行任何更改。</block>
  <block id="ae8092674c13f36003f14ece68d3c42c" category="inline-link-macro">1067272</block>
  <block id="15af5af1296f3b00950876c7349c589b" category="cell"><block ref="eb38e5b23df5e0f2a1ba579e254db319" category="inline-link-macro-rx"></block></block>
  <block id="6689d526e6da9f46eb73959de7ccfb3d" category="cell">在存储故障转移操作期间， Emulex LPe32002 主机上的远程端口状态可能处于 " 已阻止 " 状态</block>
  <block id="dfc052f6b0b40c1faced595a085c2d50" category="cell">在存储故障转移操作期间，使用 LPe32002 适配器的 RHEL 6.9 主机上的某些远程端口状态可能会进入 " 已阻止 " 状态。由于逻辑接口在存储节点关闭时会关闭，因此远程端口会将存储节点状态设置为 " 已阻止 " 状态。但是，当存储节点恢复到最佳状态时，逻辑接口也会启动，远程端口状态应为 " 联机 " 。但是，在某些情况下，远程端口仍处于 " 已阻止 " 状态。此状态会对多路径层的 LUN 显示为 "Failed Failed" 。</block>
  <block id="f6324e9e3ba7fc3d910e1e675b9ce321" category="inline-link-macro">427496</block>
  <block id="f94b92a960ca7340be0a051407ff734e" category="cell"><block ref="f94b92a960ca7340be0a051407ff734e" category="inline-link-macro-rx"></block></block>
  <block id="41c83455913a93be4b440521e4eac4a6" category="inline-link-macro">1076584</block>
  <block id="bd280470f9fb5a81e270305b53204d0f" category="cell"><block ref="9caa015d3334857faa7c3d61e0b9334f" category="inline-link-macro-rx"></block></block>
  <block id="8a35d17d4ad08e708a249ff2f9752b5a" category="cell">存储故障转移操作期间， Red Hat Enterprise Linux 6.9 QLogic QE8362 HBA 上会发生固件转储</block>
  <block id="c61e89bea3bd59d60d354b2b2ee41bb6" category="cell">在使用 QLogic QLE8362 主机总线适配器（ HBA ）的 Red Hat Enterprise Linux （ RHEL ） 6.9 主机上执行存储故障转移操作期间，可能会发生固件转储，但有时会观察到固件转储。固件转储可能会表现为主机上的 I/O 中断，持续时间长达 1200 秒。适配器完成固件核心转储后， I/O 操作将正常恢复。主机上不需要进一步的恢复操作步骤。要指示固件转储， /var/log/message 文件中会显示以下消息： kernel ： qla2xxx [0000 ： 0c ： 00.3]-d001 ： 3 ：已将固件转储保存到临时缓冲区（ 3/ffc90018b01000 ），转储状态标志（ 0x3f ）</block>
  <block id="b720a262f078ee7e33e54643f48df1b0" category="inline-link-macro">1438711</block>
  <block id="bd70b4627500ea5c8939b9ea0e8ba9df" category="cell"><block ref="bd70b4627500ea5c8939b9ea0e8ba9df" category="inline-link-macro-rx"></block></block>
  <block id="99d5775ff67d3ebcdc6e872f0bb0e7bd" category="summary">介绍如何将 Oracle Linux 6.10 与 ONTAP 结合使用</block>
  <block id="388bfd7f21d0d1033ae06f4b6a500eef" category="doc">将 Oracle Linux 6.10 与 NetApp ONTAP 结合使用</block>
  <block id="31df1b3be5d57ead2772d8f24d7f3661" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="0c6007e6b6b7d891a61a3130a6b08c13" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="3b3051e9028e74cd5ada27ca8f32e352" category="paragraph">对于 Oracle Linux 6.10 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.10 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="00d1a8ad09df702e5b164c26cbd1bc1a" category="paragraph">Oracle Linux 6.10 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="e56af6b270edfc4a1dd8c5ee0e1144e1" category="admonition">要配置 Oracle Linux 6.10 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="a294cf4df5bbbd1673f2ccf0dacf7b03" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.10 。</block>
  <block id="95a2a60b3c81348f445296ddb1b67056" category="paragraph">Oracle 6.10 没有已知问题。</block>
  <block id="e2fadd98203b659772427cfe42d4a39e" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="9a91dd1025c16135359284037044a8d3" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.10 。</block>
  <block id="e16f67a9f3c6e6f9fd2a71ca2c71b042" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.0</block>
  <block id="c82b43a4429e717f0637f9a165129a72" category="doc">将 Oracle Linux 7.0 与 NetApp ONTAP 结合使用</block>
  <block id="a8dc135d317a36a2ccd92726f9e0e598" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="33a1f2b8cd02575a35b77c10ba65d8f8" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="31db1dbc8875fe1d1fb0c598273975d6" category="paragraph">对于 Oracle Linux 7.0 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.0 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="40c5d9e1e896025a107a6c97b22c1167" category="list-text">使用 `dracut -f` 命令重新创建 initrd-image 。</block>
  <block id="ed1146f14c5bbbbb36046ba06da1cd88" category="paragraph">Oracle Linux 7.0 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="a071ebe8686e61a0aa4fe307a3225ad9" category="cell">" 服务时间 0"</block>
  <block id="833392375a19e092bb249773aab90ae7" category="admonition">要配置 Oracle Linux 7.0 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="95c92cba905c8a4ca7d7698440b6011a" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.0 。</block>
  <block id="141ad1ff5cf1058b78e7b327d5363940" category="inline-link-macro">901558</block>
  <block id="36449de1465a8388d5bd6898a3ae93a1" category="cell"><block ref="7ace244e7f60745da9174ac22c242ea9" category="inline-link-macro-rx"></block></block>
  <block id="f7f82c29a44c5277ce27b17a6e4a45c0" category="cell">OL7.0 ：由于 Emulex 8G （ LPe12002 ）主机上的 OL 7.0 Uek r3U5 测试版出现 "RSCN 超时 " 错误，主机丢失 LUN 的所有路径并挂起</block>
  <block id="09e33a526489b73c952a64dd843c9a3b" category="cell">您可能会发现，在对 I/O 执行存储故障转移操作期间， Emulex 8G （ LPe12002 ）主机挂起，并且 I/O 中断率较高您可能会发现路径无法恢复，这是由于 RSCN 超时导致的，主机丢失所有路径并挂起。达到此问题描述的概率很高。</block>
  <block id="722bdebbbc5e6f165bdb8a939be2a35f" category="inline-link-macro">14898</block>
  <block id="d43c7062a321897475a74301e48fe8f9" category="cell"><block ref="d43c7062a321897475a74301e48fe8f9" category="inline-link-macro-rx"></block></block>
  <block id="b15feddd9b4f1d23e73c109324c3a1d3" category="inline-link-macro">901557</block>
  <block id="4e9eb27f9ba0d13fc056bc68489f4cc5" category="cell"><block ref="757afc833102d287158052ecff4aa0f8" category="inline-link-macro-rx"></block></block>
  <block id="905be380a5cf4045892a845261cf2ca9" category="cell">OL 7.0 ：在使用 IO 执行存储故障转移操作期间，在 QLogic 8G FC （ QLE2562 ） SAN 主机上观察到高 IO 中断</block>
  <block id="9ca61b9ed5c5b141e2e563126e3fe821" category="cell">在使用 IO 执行存储故障转移操作期间，您可能会发现 QLogic 8G FC （ QLE2562 ）主机上的 IO 中断较高。中止和设备重置会在主机上表现为 IO 中断。遇到此 IO 中断的可能性很高。</block>
  <block id="d7c603d749620911ae33948d0d688b6a" category="inline-link-macro">14894</block>
  <block id="50b66d8442d1a889ad9f6824fdecb53c" category="cell"><block ref="50b66d8442d1a889ad9f6824fdecb53c" category="inline-link-macro-rx"></block></block>
  <block id="b57fe8d67ce7e8b23436c6228a9844ae" category="inline-link-macro">894766</block>
  <block id="1e7db3fd2dab6919804846f952f02300" category="cell"><block ref="6960627c9953978229447a40b4f35f7e" category="inline-link-macro-rx"></block></block>
  <block id="243e8d80abd39f22538ed54c7b95b785" category="cell">OL7.0 ： dracut 无法在 UEKR3U5 alpha 上的 initramfs 中包含 scsi_dh_alua.ko 模块</block>
  <block id="2b240993e14d428bca40885f69c834d2" category="cell">即使在内核命令行中添加参数 "rdloaddriver=SCSI_DH_ALUA" 并创建了 dracut ， SCSI_DH_ALUA 模块也可能无法加载。因此，未按建议为 NetApp LUN 启用 ALUA 。</block>
  <block id="2d6f064d4b257e01d5595f970ed714fc" category="inline-link-macro">14860</block>
  <block id="35f00962ea0e0524efaa1d498615d7af" category="cell"><block ref="35f00962ea0e0524efaa1d498615d7af" category="inline-link-macro-rx"></block></block>
  <block id="0f52c52921eb352109559caece80f1fe" category="inline-link-macro">894796</block>
  <block id="ecc82191bb7a9a243d2283ea9c7b0216" category="cell"><block ref="e5c2727a17035b48e2347f7bebb799e2" category="inline-link-macro-rx"></block></block>
  <block id="43bce7f4fa80451d6519c90b20bc882a" category="cell">尽管在安装 OL 7.0 操作系统期间登录成功，但 Anaconda 仍会显示 iSCSI 登录失败消息</block>
  <block id="111244c57c63118901aaf37fd7dc6652" category="cell">在安装 OL 7.0 时， anaconda 安装屏幕会显示 iSCSI 登录到多个目标 IP 失败，尽管 iSCSI 登录成功。AnacondA 显示以下错误消息： "Node Login Failed" 只有在为 iSCSI 登录选择多个目标 IP 时，您才会看到此错误。您可以单击 " 确定 " 按钮继续安装操作系统。此错误不会妨碍安装 iSCSI 或 OL 7.0 操作系统。</block>
  <block id="1d7466dd4217d4f000c48e9f2cdbfce9" category="inline-link-macro">14870</block>
  <block id="89a604b2fc4306436f64848cbf18928a" category="cell"><block ref="89a604b2fc4306436f64848cbf18928a" category="inline-link-macro-rx"></block></block>
  <block id="0b49dd30562999499de068c03e8d8475" category="inline-link-macro">894771</block>
  <block id="e36fc25b14a43aecb2be9299a4d1a15f" category="cell"><block ref="2ade0e7a464a0266f27561f87bd72d36" category="inline-link-macro-rx"></block></block>
  <block id="76ac94ee86c78014de635dac93c950cb" category="cell">OL7.0 ： Anacondup 不会在内核 cmd 行中添加 bootdev 参数来设置 iSCSI SANboot OS 安装的 IP 地址</block>
  <block id="5e60ad980d93367ed750fec269220ca4" category="cell">Anaconda 不会在内核命令行中添加 bootdev 参数，您可以在 iSCSI 多路径 LUN 上安装 OL 7.0 操作系统期间设置 IPv4 地址。因此，您不能为任何配置为在 OL 7.0 启动期间与存储子系统建立 iSCSI 会话的以太网接口分配 IP 地址。由于未建立 iSCSI 会话，因此在操作系统启动时不会发现根 LUN ，因此操作系统启动失败。</block>
  <block id="55e71b4408e917b9c7bb0df7d0b81af4" category="inline-link-macro">14871</block>
  <block id="cc0da9d8191a444fe3bbea67cdc455b6" category="cell"><block ref="cc0da9d8191a444fe3bbea67cdc455b6" category="inline-link-macro-rx"></block></block>
  <block id="31d4b7b1b5735d1ba80e9d02816156ef" category="inline-link-macro">916501</block>
  <block id="d29e31150c6fcebfe259ef1e60f97a7a" category="cell"><block ref="aaf2fffdc60a7c2259559deac3f25e1c" category="inline-link-macro-rx"></block></block>
  <block id="f83731b7eb4660b4b25652429ded993f" category="cell">在使用 IO 执行存储故障转移操作期间观察到 QLogic 10G FCoE （ QLE8152 ）主机内核崩溃</block>
  <block id="2a5337b34ae2f42558961dd451ec2a21" category="cell">您可能会发现 10G FCoE Qlogic （ QLE8152 ）主机上的 Qlogic 驱动程序模块发生内核崩溃。在使用 IO 执行存储故障转移操作期间发生崩溃。发生此崩溃的可能性较高，从而导致主机上的 IO 中断时间较长。</block>
  <block id="9841401331f8c5563c4b060ff5370e72" category="inline-link-macro">15019</block>
  <block id="3c146cad71f41f0977cca30911d433b7" category="cell"><block ref="3c146cad71f41f0977cca30911d433b7" category="inline-link-macro-rx"></block></block>
  <block id="199f02bdbc224d2c63b2ecdb586ffdec" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 8.4</block>
  <block id="c26038fbed8a35ee02f96936352801ca" category="doc">将 Red Hat Enterprise Linux 8.4 与 NetApp ONTAP 结合使用</block>
  <block id="f041d7aa93ccef62fcc7abea92526fc2" category="paragraph">上提供了 NetApp Linux Unified Host Utilities 软件包 <block ref="6197019285627f055449b196a622ffa6" category="inline-link-macro-rx"></block> 在 64 位 .rpm 文件中。</block>
  <block id="722c71516edb740dbf949ee9187f7daa" category="list-text">从下载 64 位 Linux Unified Host Utilities 软件包<block ref="5d5134ddaf42180d688670ce5e1f032a" category="inline-link-rx"></block> 主机。</block>
  <block id="3f3aace2ffb7262d9561af1516e90d56" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="e902c52a637fd9b5e253806bf7aafa95" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="cd1096d4eecda656e5c9911606fb0c35" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 8.4 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。RHEL 8.4 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="0c1a2fa6a162d103bd725793b80bb571" category="paragraph">RHEL 8.4 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="2d42bb9d7307ce616ea0bcece7fd8556" category="cell">"2 pG_INIT_retries 50"</block>
  <block id="a2e4546887c7d826529e2c2bc558c869" category="summary">介绍如何将 Oracle Linux 7.1 与 ONTAP 结合使用</block>
  <block id="7c30b44b559434a28ec34eef25698142" category="doc">将 Oracle Linux 7.1 与 NetApp ONTAP 结合使用</block>
  <block id="409809eafe9ba8af313e70c545a2b09f" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="65858e88d5a37b29d5e945cdcd520db6" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="073055d89f87f920dc7706848774e7b2" category="paragraph">Oracle Linux 7.1 支持 Unbreakable Enterprise Kernel （ Uek ） R3 和 Uek r4 。默认情况下，操作系统使用 Uek R3 内核启动。</block>
  <block id="66cd34e86ff7d645147b1d5d5a6c9f10" category="paragraph">对于 Oracle Linux 7.1 Uek R3 ，创建一个空 multipath.conf 文件。默认情况下， Oracle Linux 7.1 Uek 的设置会自动更新 ALUA 和不更新 ALUA 。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="f4d88f38762443125e864f0e0bf3dc56" category="list-text">使用 `dracut -f` 命令重新创建 initrd-image 。</block>
  <block id="6ff43f8d58cf03692931460affd888be" category="paragraph">Oracle Linux 7.1 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="de50d87828d6c062d5ee3ed42e95ae42" category="admonition">要配置 Oracle Linux 7.1 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="ac06888ec4e3e5a4526108ac1f8520b7" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.1 。</block>
  <block id="d92da7c3e5e1c0b3a496a0771d576f96" category="paragraph">Oracle Linux 7.1 没有已知问题。</block>
  <block id="8d1d1e53a5b8a67ed06ee929fcb68093" category="summary">介绍如何将 Linux Unified Host Utilities 7.1 与 ONTAP 结合使用</block>
  <block id="87adc74f7e5083adf88fa77a4e7aaa7b" category="doc">Linux Unified Host Utilities 7.1</block>
  <block id="e11da9afe91d381489a365c86cc614ab" category="section-title">前提条件</block>
  <block id="43483b029ef264a410a7bccd99e5f66a" category="list-text">为了确保操作可靠，您必须验证您的整个 iSCSI ， FC 或 FCoE 配置是否受支持。</block>
  <block id="22faa027e7ce368aea785de25ef0414c" category="paragraph">您可以使用<block ref="77ab0bbf377853176c70e55d32dcb81a" category="inline-link-rx"></block> 以验证您的配置。</block>
  <block id="67d2c540b82f607f8c9d3201f2309ec6" category="list-text">您必须在供应商的网站上安装供应商提供的 HBA 管理软件包。</block>
  <block id="d361b7136a02633fc7c5b4ea205655d8" category="paragraph">通过管理软件， SAN 工具包命令可以收集有关 FC HBA 的信息，例如其 WWPN 。要使 sanlun fcp show 适配器正常工作，请确保安装了以下软件包：</block>
  <block id="a12eee609318f789b110fe7492bac976" category="list-text">QLogic HBA — QConvergeConsole CLI</block>
  <block id="59b271fe18b45209cf86bc956dfb5f7e" category="list-text">Emulex HBA — OneCommand Manager 核心应用程序 CLI</block>
  <block id="5ab8738b15e4372e4fe9670449a5b820" category="list-text">Brocade HBA — Brocade Command Utility CLI</block>
  <block id="ffdedbe1187a1ddb0d5c60a0ac382630" category="paragraph">Linux Unified Host Utilities 是一款 NetApp 主机软件，可在 Linux 主机上提供命令行工具包。</block>
  <block id="00c00a19ea488ceb63e99f408a6b6118" category="admonition">此工具包在 Host Utilities 的所有配置和协议中通用。因此，其中某些内容适用于一种配置，而不适用于另一种配置。未使用的组件不会影响系统性能。</block>
  <block id="7f239a97a66cea4e3bb767698099b430" category="admonition">Citrix XenServer ， Oracle VM 和 Red Hat Enterprise Virtualization Hypervisor 不支持 SAN 工具包。</block>
  <block id="afd7ebe87c934a3e70afff3d554de044" category="paragraph">上提供了 NetApp Linux Unified Host Utilities 软件包 <block ref="6669d666f8f453569510bbfca28c3a1e" category="inline-link-macro-rx"></block> 在 32 位或 64 位 .rpm 文件中。</block>
  <block id="c361420559f71f223ab1528978c7f7d3" category="list-text">如果当前已安装 Linux Unified Host Utilities 版本，请使用以下命令将其删除：</block>
  <block id="e373b253d3dda0488582e96b90463674" category="paragraph">`rpm -e NetApp_Linux_unified_host_utilities_7-1`</block>
  <block id="8c0eeca7c70428976293084f983f0af1" category="paragraph">对于旧版本的 Linux Host Utilities ，请转到安装了主机实用程序软件的目录，然后输入 `uninstall` 命令。</block>
  <block id="a8f1b63b218bea414f41305d19ffed0c" category="list-text">从下载 32 位或 64 位 Linux Unified Host Utilities 软件包 <block ref="6669d666f8f453569510bbfca28c3a1e" category="inline-link-macro-rx"></block> 主机。</block>
  <block id="d01163b5f1a458851231ad2885e038b0" category="list-text">转到软件包下载到的目录，然后使用以下命令进行安装：</block>
  <block id="d47e6034707138c9dbef5d431a5e5151" category="paragraph">`rpm -ivh netapp_linux_unified_host_utilities_7-1.x86_64 x xx.rpm`</block>
  <block id="fac4447e0ea2e4cd1a2d9e2fefeab694" category="list-text">验证安装。</block>
  <block id="9101768b4d54a2f6e27232b9fbe17223" category="paragraph">`sanlun 版本`</block>
  <block id="6d2b9dfcc5e17ee20842b0ee95b55c8c" category="section-title">命令参考示例</block>
  <block id="33e3a93ebe70160b86590a742c254d67" category="section-title">列出映射到主机的所有主机启动程序</block>
  <block id="98baefaf33f7b1a7340fecca79b121d7" category="section-title">列出映射到主机的所有 LUN</block>
  <block id="db8b5cb66e41a6692e5280271b55feb6" category="section-title">列出从给定 SVM 映射到主机的所有 LUN</block>
  <block id="475c20ed4a6682ddf4e29696ef0600f4" category="section-title">列出映射到主机的给定 LUN 的所有属性</block>
  <block id="97b1d501c6990b34b9d8e6c6a3bd4c72" category="section-title">列出将给定 LUN 映射到主机的 ONTAP SVM 标识</block>
  <block id="7b9797972142cfc5839e6afb2cfe2e15" category="section-title">按主机设备文件名列出 ONTAP LUN 属性</block>
  <block id="e562a7759abbf518b77dba4c6bf7b87d" category="section-title">列出连接到主机的所有 SVM 目标 LIF WWPN</block>
  <block id="ccf6dcaf9d267935d140bb63387e1b16" category="section-title">列出给定 SVM 目标 LIF WWPN 在主机上看到的 ONTAP LUN</block>
  <block id="6bf77654a8e211c90c63557c6541b3a2" category="section-title">通知文件</block>
  <block id="d67213454856023fc9b29996cb21f0d6" category="inline-link-macro">Linux Unified Host Utilities 通知文件</block>
  <block id="9571def175ecc3ee331559407e9d5ed4" category="summary">介绍如何使用 AIX 发现和配置 LUN</block>
  <block id="e93853ce3f41e3f009822b5ea83cbc28" category="doc">（不使用 PowerVM 的 AIX MPIO ）使用 AIX 发现和配置 LUN</block>
  <block id="e6e3f8fd2b82161da0a58fef26f9e35a" category="paragraph">如果在不使用 PowerVM 的情况下使用 AIX ，则可以使用 cfgmgr 命令使主机发现 LUN 。您无需重新启动主机即可发现 LUN 。要确认主机是否发现了 LUN ，您可以使用 sanlun 实用程序。</block>
  <block id="12db200b370b8e6338ff799157e5faa9" category="admonition">以下步骤不适用于运行 PowerVM 环境的主机。</block>
  <block id="080e9c7916d00328189e183a451bff56" category="list-text">以 root 身份登录到主机。</block>
  <block id="ddebf1b4bb289bda921faf83eca00e5e" category="list-text">在 AIX 主机上，输入以下命令以发现新创建的 LUN ：</block>
  <block id="c9867c92861070574d1a0a456309c178" category="paragraph">`cfgmgr`</block>
  <block id="21b450809d7909679670d0d0f4be983f" category="paragraph">`cfgmgr` 命令有助于实现以下功能：</block>
  <block id="78c18a0ec4c11bcb1c4a85c4cdf0d99e" category="list-text">用于登录到网络结构的启动程序。</block>
  <block id="3c6865608d53dd6d5f242c89eb95b89e" category="list-text">要检查新设备的系统。</block>
  <block id="a730e8552a7628ff9ad83769197f8f97" category="list-text">系统以创建新设备条目。</block>
  <block id="cbc84a8076ce6555fbe978ee3017aafd" category="list-text">要显示所有 AIX 磁盘，包括 NetApp LUN ，请输入以下命令：</block>
  <block id="98639b9d44269d8b2b99b8ec47b51484" category="paragraph">`lsdev -CC disk`</block>
  <block id="dd4865aa42fae9d7b3e5284ece55c182" category="paragraph">LUN 在主机上显示为磁盘。这些磁盘的使用方式与在主机上使用本地磁盘的方式相同。如果在 Host Utilities 中安装了主机设置 ODM 文件，则这些 LUN 将显示为 NetApp FCP 磁盘。</block>
  <block id="bbf4b44fdcdfd6ff6a768c79c8c1e3a9" category="paragraph">记下 hdisk 实例编号。您可以在执行路径配置时使用它们。</block>
  <block id="a8eca5755cf6f0251ca72470384ecefc" category="paragraph">以下是 lsdev -CC disk 命令在使用 FC 的环境中生成的输出类型。</block>
  <block id="fd1e5484fcadc0246ed555af3a0a321e" category="list-text">输入以下命令以获取有关设置的信息：</block>
  <block id="67c7ca4a26a170ea2a8efdc694228371" category="paragraph">`lsattr -EL hdisk_name`</block>
  <block id="31fbfdc935e44385ab38f556f2d02fca" category="paragraph">此命令将生成以下输出。</block>
  <block id="0d0949375c2589080b62253f2e594602" category="list-text">如果您的配置支持 ALUA ，则可以使用它来设置路径优先级。验证是否已启用 ALUA ：</block>
  <block id="a43c259c520ea454d6ab03474cbdc70f" category="paragraph">`lun igroup show -instance igroup_name`</block>
  <block id="1c4f5c70da3e31a2947ae461fa4390f7" category="list-text">如果未启用 ALUA ，请启用它：</block>
  <block id="3296bb311cfeba7a3594bbb3345ed48c" category="paragraph">`igroup set igroup_name ALUA yes`</block>
  <block id="02852f95998d2322fb03275e520edbd9" category="list-text">如果您的配置不支持 ALUA ，则必须执行 dotpaths 实用程序来设置路径优先级。dotpaths 实用程序会在您安装 Host Utilities 时安装。如果已启用 ALUA ，请勿使用 dotpaths 实用程序。</block>
  <block id="870ecf3e7591ac83e5ec47f34ea116a2" category="list-text">要设置所有 Data ONTAP LUN 的优先级，请输入：</block>
  <block id="d6481f8866b326271b6f63509eac77c4" category="paragraph">`dotpaths`</block>
  <block id="fee03d4bfd315e17cc06c4801b57dbb9" category="list-text">要设置一组特定磁盘的优先级，请输入：</block>
  <block id="026fc3b94c1e740d1a7b9a7482c56944" category="paragraph">`dotpaths [-hv] [hdiskN ...]`</block>
  <block id="8f6489cc32f6141446bbbf6eba20b321" category="paragraph">使用 ` -v` 选项启用详细模式并显示所有优先级。使用 ` -q` 选项查询所有或单个磁盘优先级。</block>
  <block id="2a894c946342eacded4eef5c9a7b96b9" category="list-text">要验证主机是否已发现 LUN ，请输入以下命令：</block>
  <block id="6fb1a7b78cf35553296a12dc1837ac9b" category="paragraph">` # sanlun lun show`</block>
  <block id="a77e4ad3538b9cf71836906bd7b5d5a5" category="paragraph">此示例显示了 MPIO 多路径环境中 `sanlun lun show` 命令的典型输出。</block>
  <block id="0a4a555ba90159c1b3608a4b2e3295e1" category="summary">介绍如何在 ONTAP 中使用 CentOS 7.4</block>
  <block id="d0d45ae68c3b85d3e6ac89f423d578ce" category="doc">将 CentOS 7.4 与 NetApp ONTAP 结合使用</block>
  <block id="2c4482fc356b97d876c074f19f3c021c" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="14c4ef0ebddeee898c232e26b853e472" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="74b9535debb295fda5221dbd495584f5" category="paragraph">对于 CentOS 7.4 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 7.4 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="3056cb9ca32def2fb2f2fd97cb7a82d7" category="paragraph">CentOS 7.4 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="6b83d866c4dfa9b95b03b5a6ede846f7" category="summary">将 Windows Server 2019 与 ONTAP 结合使用</block>
  <block id="51da3f0f90428027f2a496d366e696eb" category="inline-link-macro">Microsoft Update Catalog 2019</block>
  <block id="c1d8c8391831a9a897601503e32894d5" category="admonition">转至 <block ref="145f31fd192f816eb74b3bac6d3cac60" category="inline-link-macro-rx"></block> 用于获取并安装适用于您的 Windows 版本的所需 Windows 修补程序的网站。</block>
  <block id="5b88fa50c8fa5adb567c3fdd8e0c00fc" category="admonition">如果选择 MPIO 支持，则 Windows Unified Host Utilities 将启用 Windows Server 2019 的随附 MPIO 功能。</block>
  <block id="e91fdc5014f1e70d6afdea6c60886518" category="paragraph">Windows Server 2019 没有已知问题。</block>
  <block id="77e11862f04c6ec12fa9eddd581dafa1" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.9</block>
  <block id="056cf2ef3afb4d9f0677425ab6097f25" category="doc">将 Oracle Linux 7.9 与 NetApp ONTAP 结合使用</block>
  <block id="6dc52e1e053dff71affc3d2bba0668d4" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="e5d3b515d8d9f71d6ecc6d12f04876c6" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="150ce233c309a7f628f109b1bf8bd7f6" category="paragraph">对于 Oracle Linux （ OL ） 7.9 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。OL 7.9 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="e604f6870b50383d4e1d8ffa3a2b18bb" category="paragraph">您可以使用 `multipath -ll` 命令验证 ONTAP LUN 的设置。以下各节提供了映射到非 ASA 和 ASA 角色的 LUN 的示例多路径输出。</block>
  <block id="018b5066316a231e6135e020acfa4d1a" category="paragraph">Oracle Linux 7.9 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="89d8b4fe15405a87af2ec65fc634abbc" category="paragraph">以下示例显示了如何更正被覆盖的默认值。在这种情况下， `multipath.conf` 文件会为 `path_checker` 和 `detect_prio` 定义与 ONTAP LUN 不兼容的值。如果由于其他 SAN 阵列仍连接到主机而无法删除这些参数，则可以专门针对具有设备实例的 ONTAP LUN 更正这些参数。</block>
  <block id="4872a64c8bfb39aee94e3643229c1575" category="admonition">要配置 Oracle Linux 7.9 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="44610b841747038fd655ebbf0a88f02e" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.9 。</block>
  <block id="11865fef1836f821ffed6eec18f2c0a0" category="inline-link-macro">1328943</block>
  <block id="8266cf33622df229b81f9514ab689c0d" category="cell"><block ref="5ede96a42c1003ab3708b0ee377953cf" category="inline-link-macro-rx"></block></block>
  <block id="1b6f85a0d130a3ebbc8bb2a5d02d32b5" category="cell">在 Emulex LPe32002 （ 32G ）主机的存储故障转移期间观察到 I/O 延迟</block>
  <block id="166327ea23d320202db49689e089e8f1" category="cell">在使用 QLogic LPe32002 32G HBA 的 Oracle Linux 7.8 内核（ 5.4.17-2011.1.2.el8uek.x86_64 ）上执行存储故障转移操作期间， I/O 操作可能无法通过现有活动路径继续。如果在存储故障转移期间由于无法继续通过现有活动路径而导致 I/O 进度停止，则 I/O 操作可能无法恢复，从而导致 I/O 延迟。只有在存储故障转移交还操作完成后， I/O 操作才会恢复。</block>
  <block id="7a5cdf95716ea8fdfcfafa0f545139e0" category="inline-link-macro">17319</block>
  <block id="69e5ae046a9943b657bd5c50bd583d28" category="cell"><block ref="69e5ae046a9943b657bd5c50bd583d28" category="inline-link-macro-rx"></block></block>
  <block id="f87d076eb7d3558e4df3a472ec88d6f2" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.6</block>
  <block id="541a27f09949b345aba2634d6146896a" category="doc">将 Red Hat Enterprise Linux 6.6 与 NetApp ONTAP 结合使用</block>
  <block id="be07fd5a515d15ddc2960a66b75da141" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="5d0c5cfb6f99c570837d3b798f48dd99" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="aaa84a008bcbd7b13ea49132c73d1afa" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.6 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.6 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="0280cbd8a9282986e27e929164001013" category="paragraph">RHEL 6.6 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="3dd1380ca8825e58f232363f493daa52" category="inline-link-macro">863878</block>
  <block id="7c6368b45cd4a10d967aedcac959efaa" category="cell"><block ref="d55a62707aaaf29806d28ef6f3b7058c" category="inline-link-macro-rx"></block></block>
  <block id="cfc3ef228e5c554b3af78e00b3866bd7" category="cell">在存储故障期间， RHEL 6U6 主机发生内核崩溃</block>
  <block id="86bcd8bb1315a4f054fd1f555f9d899c" category="cell">在存储 / 网络结构期间，您可能会发现 RHEL 6U6 主机上发生内核崩溃。</block>
  <block id="40956347cef6494ff3c3ef61bbcc1287" category="inline-link-macro">1158363</block>
  <block id="306f2643a2658b159e8dd3393fb52742" category="cell"><block ref="306f2643a2658b159e8dd3393fb52742" category="inline-link-macro-rx"></block></block>
  <block id="2704e91bd5f573cbad7eba20723ba864" category="cell"><block ref="378b02b2d7a64c9eae783f8e2a49ec5e" category="inline-link-macro-rx"></block></block>
  <block id="40b50e78109d71c974de2da8c30f4afa" category="cell">在 RHEL 6U4 中发生存储故障期间， QLogic 16G FC （ QLE2672 ）主机上的 IO 停滞时间高达 300 秒</block>
  <block id="034e508587b2a511fa0b5f33efc527be" category="cell">在存储 / 网络结构出现故障期间，您可能会发现 QLogic 16G FC （ QLE2672 ）主机上的 IO 停滞长达 300 秒。</block>
  <block id="a2110af557f7501c388329c163189694" category="inline-link-macro">1135962.</block>
  <block id="e39c75b884f0fd6f578b62f243ed4a2e" category="cell"><block ref="e39c75b884f0fd6f578b62f243ed4a2e" category="inline-link-macro-rx"></block></block>
  <block id="b9f3e02ef3d9223f789bce52be09acab" category="inline-link-macro">795684</block>
  <block id="c7d76ba7e2d3e0a292f2b51c84704276" category="cell"><block ref="61a24ea643a2edb19ad6c476806b4823" category="inline-link-macro-rx"></block></block>
  <block id="43736b02ccf596e4213cc67f0c6102c5" category="cell">RHEL6 U5 multipathd 在模块和存储故障转移故障操作期间错误地对多路径映射进行分组</block>
  <block id="f549ae562768e489107707fb1bef11e9" category="cell">在 LUN 按需移动操作期间，您可能会发现 LUN 上的路径分组不正确，并出现存储故障。在 LUN 移动操作期间，由于存储故障导致设备故障，多路径的路径优先级将发生变化，并且多路径无法重新加载设备表。这会导致路径分组不正确。</block>
  <block id="1b9fbbbdfb63c72061ee9b73d3b68300" category="inline-link-macro">1151020</block>
  <block id="4d4d33d5567c483eb5e65c4545674190" category="cell"><block ref="4d4d33d5567c483eb5e65c4545674190" category="inline-link-macro-rx"></block></block>
  <block id="1669e5f0b1148e1054b39b7a819b7fdb" category="summary">介绍如何将 IBM AIX 7.2 和 / 或 PowerVM VIOS 3.1 与 ONTAP 结合使用</block>
  <block id="5526e4fbaeff80cd5d23977ccd71e110" category="doc">将 IBM AIX 7.2 和 / 或 PowerVM （ VIOS 3.1 ）与 NetApp ONTAP 结合使用</block>
  <block id="be02c5fbd2d78a32d06d7da8385cae85" category="list-text">在 PowerVM 主机上，以 * padmin* 身份登录，然后输入 `oem_setup_env` 命令以成为 root 。</block>
  <block id="a40ecef4a09b118c1f7f8b069486d849" category="list-text">解压缩文件并提取 SAN 工具包软件包。</block>
  <block id="f79c6b17105bfd3884500ded694cb1f2" category="paragraph">SAN 启动是将 SAN 连接的磁盘（ LUN ）设置为 AIX/PowerVM 主机的启动设备的过程。您可以将 SAN 启动 LUN 设置为在运行采用 FC 或 FCoE 协议的 AIX Host Utilities 的 AIX MPIO 环境中运行。在 AIX MPIO 环境中，用于创建 SAN 启动 LUN 并在其上安装新操作系统映像的方法可能会有所不同，具体取决于您使用的协议。</block>
  <block id="4b1288921d45a28c64d922c51edfb95d" category="paragraph">多路径允许您在主机和存储系统之间配置多个网络路径。如果一个路径发生故障，则流量将继续在其余路径上传输。Host Utilities 的 AIX 和 PowerVM 环境使用 AIX 的原生 Multipathing 解决方案（ MPIO ）。</block>
  <block id="0e413d300c65d6eeae3946b5cd377d21" category="cell">对于 AIX 3072 ，对于 VIOS 为 1024</block>
  <block id="c4dd079617b8872443b613d8a94e3cbc" category="cell">合作伙伴 ID</block>
  <block id="de6158aaf59eefd0e967674f80bf69a0" category="cell">1307653</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="cell"></block>
  <block id="efe683deb739d72b3d44d53878cbd348" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 12</block>
  <block id="2c814ca0b63de52ca6cd66cde0e904f8" category="doc">将 SUSE Linux Enterprise Server 12 与 NetApp ONTAP 结合使用</block>
  <block id="b94389e6af9ad2829e75db3797917210" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="7038607a0479f24929e014f2be329604" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="7ac69be8c86fae53d6626eba5e2377d9" category="paragraph">对于 SUSE Linux Enterprise Server 12 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 12 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="8533fbdc6c768eacd5f192e1a25400c6" category="paragraph">对 SUSE Linux Enterprise Server 12 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="1ad7f1f0694cd5d565246dd8f5e08ff3" category="inline-link-macro">873555</block>
  <block id="5bc6dd2808e58ceb12daa3fa188c92d2" category="cell"><block ref="46d58291164df69e74195823c43d724c" category="inline-link-macro-rx"></block></block>
  <block id="3f173227feb8878f022ad1b36c91e876" category="cell">在本地启动时启动多路径期间， SCSI_DH_ALUA 模块未加载</block>
  <block id="d3810cc1f6dda6df4587ddfeb62972ee" category="cell">SCSI_DH_ALUA 是一个 Linux ALUA 设备处理程序模块。在本地启动的 multipathd 启动期间，不会加载此数据。由于此原因，虽然在目标端启用了 ALUA ，但不会加载设备处理程序。</block>
  <block id="287067aef77ff4738a7cc3c50b3339e4" category="inline-link-macro">908529</block>
  <block id="fed658b9cfd79da37615650ca2c42093" category="cell"><block ref="fed658b9cfd79da37615650ca2c42093" category="inline-link-macro-rx"></block></block>
  <block id="79c7a9bb0aa24422c212e2b382099d0a" category="inline-link-macro">863584</block>
  <block id="4d73614eae0a505c039fae3f1ee9900d" category="cell"><block ref="3c45cc75b4c66415e3786feb781dcee8" category="inline-link-macro-rx"></block></block>
  <block id="a42499118062067bb57ae3e080112f10" category="cell">在 SLES12 上创建 DM 设备时，屏幕上会显示消息 " 发现冲突的设备节点 "/dev/mapper/360xx"</block>
  <block id="0f002f358a4edc403bdbf073453e31c0" category="cell">您可能会发现在 SLES 12 的 /dev/mapper 目录下创建指向 DM 设备的链接失败，并看到消息 "Conflicting device node '/dev/mapper/360xx" found" 。</block>
  <block id="ff10bb6c0f40e17e1883d63e28693d0e" category="inline-link-macro">903001</block>
  <block id="e8e776800f4382d5eb416732843fe83f" category="cell"><block ref="e8e776800f4382d5eb416732843fe83f" category="inline-link-macro-rx"></block></block>
  <block id="43f008f2dfc233acd97b155115e02d78" category="inline-link-macro">84749</block>
  <block id="442330e970ceb587a68e59d052af913a" category="cell"><block ref="4c1cf8590d2642eac66c4c5c98ac5df5" category="inline-link-macro-rx"></block></block>
  <block id="aa5d2614a5cdd3ecb6439fff78eae1c5" category="cell">多路径守护进程显示了 SLES 12 上的路径故障</block>
  <block id="f3c857b5b590c65054bfa6277dd7b8d8" category="cell">在存储或网络结构发生 I/O 故障期间，您可能会发现 SLES12 多路径守护进程上的路径故障。</block>
  <block id="a7fa045c10beb12763eabc5c7d40c12d" category="inline-link-macro">890854</block>
  <block id="2b269897e2264fa9a527c98486a50901" category="cell"><block ref="2b269897e2264fa9a527c98486a50901" category="inline-link-macro-rx"></block></block>
  <block id="d5b87a9bead00882f8de6225046dcee1" category="doc">将 HP-UX 11i v3 与 NetApp ONTAP 结合使用</block>
  <block id="2e8763624890988e007bc08afaef7ac9" category="section-title">安装 HP-UX Host Utilities</block>
  <block id="78dad9d652edc0f2255634fdd6120f93" category="paragraph">您可以从 NetApp 支持站点下载包含 Host Utilities 软件包的压缩文件。获取文件后，必须对其进行解压缩，以获取安装 Host Utilities 所需的软件包。</block>
  <block id="f814c4c509cfee1aaec985d122ae9223" category="list-text">解压缩文件。</block>
  <block id="71120ace9a1b2ca11e40c0238dfc437a" category="paragraph">`gunzip netapp_hpux_host_utilities_6.0_ia_pa.depot.gz`</block>
  <block id="aff7322c9fe28f35bf9e7856103e8654" category="list-text">输入以下命令以安装软件：</block>
  <block id="a5533a66b8f65a46e1f36f072c3cd5b2" category="paragraph">`swinstall -s /netapp_hpux_host_utilities_6.0_ia_pa.depot netapp_santoolkit`</block>
  <block id="ddc2649d8ce88b7496c6892a73f21b97" category="paragraph">SAN 启动是将 SAN 连接的磁盘（ LUN ）设置为 HP-UX 主机的启动设备的过程。Host Utilities 支持在 HP-UX 环境中使用 FC 和 FCoE 协议进行 SAN 启动。</block>
  <block id="5035af636b04d5d790764adb96eca32e" category="paragraph">多路径允许您在主机和存储系统之间配置多个网络路径。如果一个路径发生故障，则流量将继续在其余路径上传输。要使主机具有多个 LUN 路径，必须启用多路径。HP-UX Host Utilities 可根据您的配置支持不同的多路径解决方案。以下内容适用于原生多路径解决方案。</block>
  <block id="07225f15ac7d120dbda7241cfb1e9dad" category="admonition">从适用于 HP-UX 11iv3 的 ONTAP 9.8 开始，支持所有 SAN 阵列（ ASA ）配置</block>
  <block id="be76827f3ddb5b7ebbea2ece62ea4620" category="paragraph">以下是为 HPUX 11i v3 和 NetApp ONTAP LUN 建议的一些参数设置。NetApp 使用 HP-UX 的默认设置。</block>
  <block id="8e4f0617579847364a65d0fdc8745222" category="cell">使用默认值</block>
  <block id="578add6ad4c2e17d922ca103b43ba78b" category="cell">瞬时 _ 秒</block>
  <block id="da4fb5c6e93e74d3df8527599fa62642" category="cell">120</block>
  <block id="01f3f5452006cf340719592a88e3846d" category="cell">LEG_Mpath_enable</block>
  <block id="c0d83f0b82a6b30de8811e69e6d95c61" category="cell">true</block>
  <block id="6ac2eb161262a88c20d30c2a8405cc1a" category="cell">max_q_depth</block>
  <block id="ffaa7ba443346d83ad8c050308962e05" category="cell">path_fail_secs</block>
  <block id="f8e78ed2b7e5f3e49635eb2dac718b4a" category="cell">load_bal_policy</block>
  <block id="8b8e290f4a968cfd7533eefddbac3f0b" category="cell">循环</block>
  <block id="1885ddcecff8f91b0975af971f8cc3e4" category="cell">已启用 la_enabled</block>
  <block id="e4204a0208badbec59a9c1ac68364a31" category="cell">ESD_secs</block>
  <block id="ccea754e7046e3a8078e83df3db0dd24" category="cell">1344935</block>
  <block id="ae1b434f4d27837b33cfc80ed6814a95" category="cell">报告 ASA 配置的路径问题。</block>
  <block id="1288c56822a6bb56a7acdc5941948855" category="cell">1306354</block>
  <block id="fc3dae564fdea298fb1911d12d99bb45" category="cell">在 ONTAP 全 SAN 阵列中强制实施 1 MB 的 SCSI 最大传输长度。要在连接到 ONTAP 全 SAN 阵列时限制 HP-UX 主机的最大传输长度，需要将 HP-UX SCSI 子系统允许的最大 I/O 大小设置为 1 MB 。有关详细信息，请参见 HP-UX 供应商文档。</block>
  <block id="f2ec2908e789bd4d085520a7536b0d19" category="summary">介绍如何将 CentOS 6.10 与 ONTAP 结合使用</block>
  <block id="0e83be94544606967434ef88712ad07b" category="doc">将 CentOS 6.10 与 NetApp ONTAP 结合使用</block>
  <block id="7436db3876fe5d542e3b6b58a534f7a4" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="b5b4b85cd71cbe960202af5e84538bed" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="4b3e0af5715dc402a6648fb7a4556734" category="paragraph">对于 CentOS 6.10 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.10 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="43387e22eb25565e2d012f61068ff5ff" category="paragraph">要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="b18c060669cade5ce424afe8e8256931" category="list-text">使用 `mkinitrd` 命令重新创建 initrd-image 。CentOS 6x 及更高版本使用以下命令之一： `mkinitrd -f /boot/ initrd-"uname -r".img uname -r` 或命令： `dracut -f`</block>
  <block id="78bd859689f18ba7562b89cdcdf70e0d" category="paragraph">系统会对 CentOS 6.10 进行编译，以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="fa82877b3beb26d7d7bc882389d60aca" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="9a91dd1025c16135359284037044a8d3" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.10 。</block>
  <block id="a0910b05bf7b380feb3e51dedef01f6e" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 8.1</block>
  <block id="56dae044218e2b309646f0730651a8b0" category="doc">将 Red Hat Enterprise Linux 8.1 与 NetApp ONTAP 结合使用</block>
  <block id="75919ec422e4172d7a9aa1ac6607ac3c" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 8.1 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 8.1 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="f1f74b1d6778d497db7ab5df6c80940e" category="paragraph">RHEL 8.1 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="3220aa43d981bbff1470bdfc949b411d" category="inline-link-macro">1275843</block>
  <block id="e6d42473201caaea82de0b5c2a555d7a" category="cell"><block ref="4f55b76a23d8369790b6e42bb31d2f7d" category="inline-link-macro-rx"></block></block>
  <block id="7d9311eb75abaaf8a1ae1ac3d36997a2" category="cell">在存储故障转移操作期间，使用 QLogic QLE2672 16 Gb FC HBA 的 Red Hat Enterprise Linux 8.1 可能会发生内核中断</block>
  <block id="4857e16a42f8b19c60491d1697a00941" category="cell">在使用 QLogic QLE2672 光纤通道（ FC ）主机总线适配器（ HBA ）的 Red Hat Enterprise Linux 8.1 内核上执行存储故障转移操作期间，可能会发生内核中断。内核中断会导致 Red Hat Enterprise Linux 8.1 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核中断会生成位于 /var/crash/ 目录中的 vmcore 文件。您可以检查 vmcore 文件以确定中断的发生原因。 QLogic QLE2672 HBA 事件的存储故障转移会影响 "kmem_cache_alloc+131" 模块。您可以通过查找以下字符串在 vmcore 文件中查找此事件： " [Exception RIP ： kmem_cache_alloc +131]" 内核中断后，重新启动主机操作系统并恢复操作系统。然后重新启动应用程序</block>
  <block id="320a3be8f022635b190f4a46b82defbc" category="inline-link-macro">1760819</block>
  <block id="7957891c4d80535102988fd9cfed1dcf" category="cell"><block ref="7957891c4d80535102988fd9cfed1dcf" category="inline-link-macro-rx"></block></block>
  <block id="15ad2e1adac4ea9b6229ed1eefd94fe8" category="inline-link-macro">1275838</block>
  <block id="9c43375f927b99273a306d0aebeb2994" category="cell"><block ref="4bbb58887cd919ace315c85680b9a039" category="inline-link-macro-rx"></block></block>
  <block id="e0b97884fc83fb859795a6a777d0967f" category="cell">在存储故障转移操作期间，使用 QLogic QLE2742 32 Gb FC HBA 的 Red Hat Enterprise Linux 8.1 会发生内核中断</block>
  <block id="a9da78f9446abea28b98061980144d02" category="cell">在使用 QLogic QLE2742 光纤通道（ FC ）主机总线适配器（ HBA ）的 Red Hat Enterprise Linux 8.1 内核上执行存储故障转移操作期间，发生内核中断。内核中断会导致 Red Hat Enterprise Linux 8.1 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核中断会生成位于 /var/crash/ 目录中的 vmcore 文件。您可以检查 vmcore 文件以确定中断的发生原因。发生 QLogic QLE2742 HBA 事件的存储故障转移会影响 "kmem_cache_alloc +131" 模块。您可以通过查找以下字符串在 vmcore 文件中查找此事件： " [Exception RIP ： kmem_cache_alloc +131]" 内核中断后，重新启动主机操作系统并恢复操作系统。然后重新启动应用程序。</block>
  <block id="bceda67102d714db7eabc71a5613196f" category="inline-link-macro">1744082</block>
  <block id="0ddcdd1631fc8bb76d218948403203a2" category="cell"><block ref="0ddcdd1631fc8bb76d218948403203a2" category="inline-link-macro-rx"></block></block>
  <block id="9b1553709d838b9b131df89b8a3464da" category="inline-link-macro">1266250</block>
  <block id="be2cbf983ce5aaf5cec559b7a8d44b84" category="cell"><block ref="35083bea0af3fa7f91401543bde4bbe0" category="inline-link-macro-rx"></block></block>
  <block id="9e6450c950b8558765ce9270afe312a9" category="cell">在 iSCSI SAN LUN 上安装 Red Hat Enterprise Linux 8.1 期间，登录到多个路径失败</block>
  <block id="30045ce4258ea19d1fa94bb454681b76" category="cell">在 iSCSI SAN LUN 多路径设备上安装 Red Hat Enterprise Linux 8.1 期间，无法登录到多个路径。无法在多路径 iSCSI 设备上安装，并且 SAN 启动设备上未启用多路径服务。</block>
  <block id="0de74f329c314fdb51938166b2c287c5" category="inline-link-macro">1758504</block>
  <block id="6787b7492d135e7e607f2ac873e53ae1" category="cell"><block ref="6787b7492d135e7e607f2ac873e53ae1" category="inline-link-macro-rx"></block></block>
  <block id="60c701fe07370fac945573158f732b05" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 12 SP4</block>
  <block id="67e1cc50445d9196739a5702120346bc" category="doc">将 SUSE Linux Enterprise Server 12 SP4 与 NetApp ONTAP 结合使用</block>
  <block id="3a754ad11b84b93f6a753f6d500e2e18" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="2ad585f32bf1ef6f5e41daa29755a76e" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="3529e81ba1cd826d75b4d7a1b09ad42b" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 12 SP4 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="b74c73025d50f0eb73b7c1960f6267aa" category="paragraph">对 SUSE Linux Enterprise Server 12 SP4 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="01f6871b863f8fbca0616c70ec368d8b" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP4 ，没有已知问题。</block>
  <block id="81a952f0a3b26ee44dabb3aa10180e75" category="summary">介绍如何在 ONTAP 中使用 CentOS 6.8</block>
  <block id="5fdfc777bc6679732010b3027a9e2313" category="doc">将 CentOS 6.8 与 NetApp ONTAP 结合使用</block>
  <block id="aeb75138ac824554509c3b3d36b308ba" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="516e9c81d2e1659fb212fdf2d79e1e5b" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="60f8eeb8d7158ff3d8c8948d846f8e3b" category="paragraph">对于 CentOS 6.8 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.8 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="b470854a78b9856c135ae5a7ed45b720" category="paragraph">系统会对 CentOS 6.8 进行编译，以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="1d153902c02cd7301318e3e1be83184a" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="7703b3b38de881e061b6dbcbbcaf9f81" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.8 。</block>
  <block id="880612d7054085e9af1cd3802ce4127d" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.4</block>
  <block id="fa3bf7c49cf6385faaa35028851c1e95" category="doc">将 Oracle Linux 7.4 与 NetApp ONTAP 结合使用</block>
  <block id="8e9958756ea0631069f36b8e89a2d608" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="8d9c8de6f4b2e448cb81a405a9d25d82" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="491bbe882aaf63711fd558642fdb4958" category="paragraph">对于 Oracle Linux 7.4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.4 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="b40b14c09ac6309724dbe56155f4669f" category="paragraph">Oracle Linux 7.4 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="2eb61a48a1fac76dc294d58129d11e72" category="admonition">要配置 Oracle Linux 7.4 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="0f891679fa4536a4e919969e65b85526" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.4 。</block>
  <block id="f6a519893db9e6c1633112ee90905e2a" category="inline-link-macro">1109468</block>
  <block id="7079c64a5b24cdd32462fc31603b1135" category="cell"><block ref="db94b7133d12176606a6a4461fe651e0" category="inline-link-macro-rx"></block></block>
  <block id="82acca8af52f5f8d8536c7d62c245815" category="cell">在使用 QLE8362 卡的 OL7.4 虚拟机管理程序上观察到固件转储</block>
  <block id="d6afe009ea52239221866c17107326f9" category="cell">在使用 QLE8362 卡的 OL7.4 虚拟机管理程序上执行存储故障转移操作期间，偶尔会观察到固件转储。固件转储可能会导致主机上的 I/O 中断，这可能长达 500 秒。适配器完成固件转储后， I/O 操作将以正常方式恢复。主机上不需要进一步的恢复操作步骤。要指示固件转储， /var/log/message 文件中会显示以下消息： qla2xxx [0000 ： 0c ： 00.3]-d001 ： 8 ：固件转储保存到临时缓冲区（ 8/ffc90008901000 ），转储状态标志（ 0x3f ）</block>
  <block id="345708c99f04fb1a4ad3efd34001b3f3" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.6</block>
  <block id="42d3f5ff107f6dc25aa90bf3ca4f70b3" category="doc">将 Oracle Linux 7.6 与 NetApp ONTAP 结合使用</block>
  <block id="5bd115055ddcf306cb31af8a3af1a92f" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="f109c5b6a89675687df14f8180af7396" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="73844c9e711a64b7c0cb09b929c5368f" category="paragraph">对于 Oracle Linux 7.6 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.6 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="8d61b8bfb9dde8239ba049eb5b61cb3f" category="paragraph">Oracle Linux 7.6 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="02cfb45c5eca5d228b8fdc27610724b9" category="admonition">要配置 Oracle Linux 7.6 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="01c1a2a180a79aab210cc480d73c73eb" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.6 。</block>
  <block id="9f1d7307449f2a1971a05bc6e54a02e9" category="inline-link-macro">1202736</block>
  <block id="3b8a92ff3e01668248ad17ab6e44808a" category="cell">由于使用 QLogic QLE2742 适配器的 OL7U6 主机上的远程端口处于 " 不存在 " 状态，因此 LUN 在主机发现期间可能不可用</block>
  <block id="266caf48844d8cdb3bb559a8663357b3" category="cell">在主机发现期间，使用 QLogic QLE2742 适配器的 OL7U6 主机上的光纤通道（ Fibre Channel ， FC ）远程端口的状态可能会进入 " 不存在 " 状态。处于 " 不存在 " 状态的远程端口可能会使 LUN 的发生原因路径不可用。在存储故障转移期间，路径冗余可能会减少并导致 I/O 中断。您可以输入以下命令来检查远程端口状态： # cat /sys/class/fc_remote_ports/rport-*/port_state 以下是显示的输出示例：联机不存在联机</block>
  <block id="f95008d294f277e432261d458fe91c76" category="inline-link-macro">16613</block>
  <block id="b51283a454db6279c0f85ca8d39b071b" category="cell"><block ref="b51283a454db6279c0f85ca8d39b071b" category="inline-link-macro-rx"></block></block>
  <block id="5624202524c863954fd4270ff814d9ec" category="inline-link-macro">1204078</block>
  <block id="e053b68e3667628d3c9f9104950b35b4" category="cell"><block ref="779f6732159318ae884ba5b402eebb3b" category="inline-link-macro-rx"></block></block>
  <block id="110e0b5a03d1167053a9543acb43aacf" category="cell">在存储故障转移操作期间，使用 Qlogic （ QLE2672 ） 16 Gb FC HBA 运行的 Oracle Linux 7.6 会发生内核中断</block>
  <block id="c0bf7a084fa2c4a01bd1c93955f36853" category="cell">在使用 Qlogic QLE2672 光纤通道（ FC ）主机总线适配器（ HBA ）的 Oracle Linux 7.6 上执行存储故障转移操作期间，由于内核发生崩溃，发生内核中断。内核崩溃会导致 Oracle Linux 7.6 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核崩溃将生成位于 /var/crash/ 目录中的 vmcore 文件。您可以分析 vmcore 文件以确定崩溃的发生原因。内核中断后，您可以重新启动主机操作系统并恢复操作系统，然后根据需要重新启动任何应用程序。</block>
  <block id="81853dc778186bff64ba4b47dacfe8aa" category="inline-link-macro">16606</block>
  <block id="f9de5b33d228fc7a257b05e2d0b6c683" category="inline-link-macro">1204451</block>
  <block id="3c392133be4d94a24a2bafbe80d3f9fa" category="cell"><block ref="e4f067f2a87df9a65f3b48107d7ac51a" category="inline-link-macro-rx"></block></block>
  <block id="4b97d2c9a1fc0afb4fde2570b328366a" category="cell">在存储故障转移操作期间，使用 Qlogic （ QLE2742 ） 32 Gb FC HBA 运行的 Oracle Linux 7.6 可能会发生内核中断</block>
  <block id="a41dd8fa5c4b21d6d565247a17260afc" category="cell">在使用 Qlogic QLE2742 光纤通道（ FC ）主机总线适配器（ HBA ）的 Oracle Linux 7.6 上执行存储故障转移操作期间，内核可能会因发生崩溃而发生内核中断。内核崩溃会导致 Oracle Linux 7.6 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核崩溃将生成位于 /var/crash/ 目录中的 vmcore 文件。您可以分析 vmcore 文件以确定崩溃的发生原因。内核中断后，您可以重新启动主机操作系统并恢复操作系统，然后根据需要重新启动任何应用程序。</block>
  <block id="3f38fd6bbb9e743a2fb63f16cfbbbe8c" category="inline-link-macro">16605</block>
  <block id="d6c0c50761ad6452637a662cef9b7c83" category="inline-link-macro">1204352</block>
  <block id="49c68535f9d278fae88a21a2b48a79ef" category="cell"><block ref="2d73099ef4fd4b2be1ad69d22e7490ca" category="inline-link-macro-rx"></block></block>
  <block id="233dfa37455a25cad0ff70b82758fd04" category="cell">在存储故障转移操作期间，使用 Emulex （ LPe32002 — M2 ） 32 Gb FC HBA 运行的 Oracle Linux 7.6 可能会发生内核中断</block>
  <block id="de4751a6623d2dc19176d3eefc40a63a" category="cell">在使用 Emulex LPe32002 — M2 光纤通道（ FC ）主机总线适配器（ HBA ）的 Oracle Linux 7.6 上执行存储故障转移操作期间，内核可能会因发生崩溃而发生内核中断。内核崩溃会导致 Oracle Linux 7.6 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核崩溃将生成位于 /var/crash/ 目录中的 vmcore 文件。您可以分析 vmcore 文件以确定崩溃的发生原因。内核中断后，您可以重新启动主机操作系统并恢复操作系统，然后根据需要重新启动任何应用程序。</block>
  <block id="b3a5a6df0cf1dfc30882b20f8a493092" category="inline-link-macro">16607</block>
  <block id="1be16d281967c5fd1105ba268364fdff" category="inline-link-macro">11246134.</block>
  <block id="596f5900897f794536e4fd09d9e67d1b" category="cell"><block ref="b642b2365a114acdecf31316d612089a" category="inline-link-macro-rx"></block></block>
  <block id="6493a407c9bbe979a9aad945277aad29" category="cell">在存储故障转移操作期间，使用 Emulex LPe16002B-M6 16G FC HBA 运行的 Oracle Linux 7.6 和 UEK5U2 内核上的 I/O 未进度</block>
  <block id="310e18c99baea86232364acadb939a15" category="cell">在运行了 Emulex LPe16002B-M6 16G 光纤通道（ FC ）主机总线适配器（ HBA ）的 UEK5U2 内核的 Oracle Linux 7.6 上执行存储故障转移操作期间， I/O 进度可能会因报告被阻止而停止。存储故障转移操作报告从 " 联机 " 状态更改为 " 已阻止 " 状态，从而导致读取和写入操作延迟。操作成功完成后，报告将无法返回到 " 联机 " 状态，并继续保持 " 已阻止 " 状态。</block>
  <block id="65ddc1f88e46d28edac152bdb47193e0" category="inline-link-macro">16852</block>
  <block id="7f7d7442869ba0a43e1c8a7628283fb6" category="inline-link-macro">1246327</block>
  <block id="425d6a0675c65fcbb55962fe041d3750" category="cell"><block ref="2fc4638611f41ecf99c51cb3b7693e41" category="inline-link-macro-rx"></block></block>
  <block id="803346e13fcd7415573e4bec58e22f89" category="cell">存储故障转移操作期间， QLogic QLE2672 16G 主机上的远程端口状态被阻止</block>
  <block id="b2aadc0859a33b6672ced88dfb500d44" category="cell">在存储故障转移操作期间， QLogic QLE2672 16G 主机上的 Red Hat Enterprise Linux （ RHEL ） 7.6 上的光纤通道（ FC ）远程端口可能会被阻止。由于逻辑接口在存储节点关闭时会关闭，因此远程端口会将存储节点状态设置为 blocked 。如果同时运行 QLogic QLE2672 16G 主机和 QLE2742 32 Gb 光纤通道（ FC ）主机总线适配器（ HBA ），则 IO 进度可能会因端口被阻止而停止。当存储节点恢复到最佳状态时，逻辑接口也会启动，远程端口应联机。但是，远程端口可能仍会被阻止。此阻止状态会将多路径层的 LUN 注册为故障。您可以使用以下命令验证远程端口的状态： # cat /sys/class/fc_remote_ports/rport-*/port_stat 您应看到以下输出： blocked blocked blocked blocked Online</block>
  <block id="775a46e8c6d09ce5548db66cc249435c" category="inline-link-macro">16853</block>
  <block id="bd1474c0722e21037b60abd57027a5a8" category="cell"><block ref="bd1474c0722e21037b60abd57027a5a8" category="inline-link-macro-rx"></block></block>
  <block id="86d37c3499918a5cbe18b451f7900060" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.2</block>
  <block id="8f2095186e969c0bbff5cc8714becb71" category="doc">将 Oracle Linux 7.2 与 NetApp ONTAP 结合使用</block>
  <block id="3b7adc7d1307fa9347f749b4d3af8dfe" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="60647916c5dfa2199413b5c9ab776d39" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="879a2e4d18651bb7cc6629fafa11ad2c" category="paragraph">Oracle Linux 7.2 支持 Unbreakable Enterprise Kernel （ Uek ） R3 和 Uek r4 。默认情况下，操作系统使用 Uek R3 内核启动。</block>
  <block id="5325d7d76c5577b461889cc0a50b355e" category="paragraph">对于 Oracle Linux 7.2 Uek R3 ，创建一个空 multipath.conf 文件。默认情况下， Oracle Linux 7.2 Uek 的设置会自动更新 ALUA 和不更新 ALUA 。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="f33003e6d8c615a78b0ba29f1a147520" category="paragraph">对于 Oracle Linux 7.2 Uek r4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.2 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="8b2711a091056ad63103e1e13083ec13" category="paragraph">Oracle Linux 7.2 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="31cf8046288558f6d4e1ae6619a70d13" category="admonition">要配置 Oracle Linux 7.2 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="b6341682387f7873fba9fb1f6f4c5842" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.2 。</block>
  <block id="28a076f4875989d2a91944bc7342d0fc" category="paragraph">Oracle Linux 7.2 没有已知问题。</block>
  <block id="43b1876560748141954ab34c38e01ac0" category="summary">介绍如何使用 ONTAP 为 RHEL 8.1 配置 NVMe/FC</block>
  <block id="2eb230255bdd45a2ff65ed6cf50006b8" category="doc">适用于采用 ONTAP 的 RHEL 8.1 的 NVMe/FC 主机配置</block>
  <block id="d3ee6ae724222bd797217eee4ad1f96b" category="paragraph">以下版本的 RHEL 在 ONTAP 9.6 或更高版本上支持 NVMe/FC ：</block>
  <block id="2e3750c608ef9c088598a72e91ddb608" category="list-text">RHEL 8.1</block>
  <block id="23573be9c7dbe4494659f6a90bc05b8a" category="list-text">NVMe-CLI 软件包中不提供原生 NVMe/FC 自动连接脚本。您可以使用 HBA 供应商提供的外部自动连接脚本。</block>
  <block id="1293e1b1ae6bd1e6a01f05541df9ce9f" category="list-text">默认情况下， NVMe 多路径处于禁用状态。必须手动启用它。有关在 RHEL 8.1 上启用 NVMe/FC 的章节提供了相关步骤。</block>
  <block id="0d683aa46dbb260c50031bd00c3f5e6f" category="list-text">默认情况下，不会启用轮循负载平衡。要启用此功能，必须编写 udev 规则。有关在 RHEL 8.1 上启用 NVMe/FC 的章节提供了相关步骤。</block>
  <block id="1f66f3a5a69d2cce3c5a6e2c4cee2b1a" category="list-text">在服务器上安装 Red Hat Enterprise Linux 8.1 。</block>
  <block id="6f72b48df47d9c45155f84a6cbab74f6" category="list-text">安装 NVMe-CLI-1.8.1-3.el8 软件包。</block>
  <block id="e8b45cd7975466cea80842914943b27f" category="list-text">在 RHEL 8.1 主机上，检查 /etc/nve/hostnqn 上的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="2ea0bf6794f8a5c2e251d97b7658ded2" category="admonition">如果主机 NQN 字符串不匹配，则应使用 vserver modify 命令更新相应 ONTAP 阵列子系统上的主机 NQN 字符串，使其与主机上 /etc/nve/hostnqn 中的主机 NQN 字符串匹配。</block>
  <block id="84326778ec2c81c70ec1be4d6149023f" category="list-text">验证您使用的是受支持的适配器。有关最新支持的适配器列表，请参见 NetApp 互操作性表。</block>
  <block id="6a701e84e4abe6869867b5a9a2f8b893" category="list-text">复制并安装 Broadcom lpfc 出箱驱动程序和自动连接脚本。</block>
  <block id="9c71fb723038d142a0fc6518df6aaed2" category="admonition">操作系统附带的原生驱动程序称为收件箱驱动程序。如果您下载的是出机驱动程序（操作系统版本不包含的驱动程序），则下载内容会包含一个自动连接脚本，应在驱动程序安装过程中安装该脚本。</block>
  <block id="bb9502d8ef37c864dd9c3f3a197ab4e9" category="list-text">验证您使用的是建议的 Broadcom lpfc 固件，开箱驱动程序和自动连接软件包版本。</block>
  <block id="f17e2682405234dfca14c2a2181e2cd1" category="list-text">验证 lpfc_enable_FC4_type 是否设置为 3 。</block>
  <block id="36ee6988f1a73952a5c1d70203b97852" category="list-text">验证 NVMe/FC 启动程序端口是否已启用，正在运行且能够查看目标 LIF 。</block>
  <block id="28d6df6dca047dcc2e777e7124494ec5" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.0</block>
  <block id="1f40e1a1a4e6362e04a98d9072900e16" category="doc">将 Red Hat Enterprise Linux 7.0 与 NetApp ONTAP 结合使用</block>
  <block id="546af78030809541fd22a7381f44e6f3" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="ac8113ff6c666fd4e19867c5326a1178" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="0522c3e73855540eb2f0017e0bee58f6" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.0 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.0 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="4feea064d1000e2b82e86e44608847d0" category="paragraph">RHEL 7.0 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="04488a0bd269503a1ea3a47fe93a7b7f" category="inline-link-macro">844417</block>
  <block id="6c17b0f0234f39da13553a38107913c1" category="cell"><block ref="95a9102507af9f3ef170e893db92aa0d" category="inline-link-macro-rx"></block></block>
  <block id="69460499fb32604ce99d2202e67c3b50" category="cell">在执行存储故障转移操作的 I/O 期间， Emulex 16G FC （ LPe16002B-M6 ）主机崩溃</block>
  <block id="938ae41ce3b0130f6ec39355095fef8e" category="cell">在执行存储故障转移操作的 I/O 期间，您可能会发现 16G FC Emulex （ LPe16002B-M6 ）主机崩溃。</block>
  <block id="f9124d1d4dd608a600a3766f5120e47d" category="inline-link-macro">1131393</block>
  <block id="d5482cb5ecf45971276c5b64006e4601" category="cell"><block ref="d5482cb5ecf45971276c5b64006e4601" category="inline-link-macro-rx"></block></block>
  <block id="6405b7880498750d41c93c6ff89cff96" category="inline-link-macro">811587</block>
  <block id="d92bbc344480c1c4676dd6c7e7c9051a" category="cell"><block ref="25d4a04a283671c8f8df69363684eeb6" category="inline-link-macro-rx"></block></block>
  <block id="0f0f2a7f79c2c3ba23fa1559babfa30e" category="inline-link-macro">1079735</block>
  <block id="95638024faeb1b88e63544893187319a" category="cell"><block ref="95638024faeb1b88e63544893187319a" category="inline-link-macro-rx"></block></block>
  <block id="e3a4319bc10063852c504b5613965892" category="inline-link-macro">803071</block>
  <block id="18b0326d52bd20b9f07e25f01ff7a7f8" category="cell"><block ref="d76156bb15a180ce870200aaa220a25c" category="inline-link-macro-rx"></block></block>
  <block id="25075cc65a40b38f598bf74d44085187" category="inline-link-macro">1067895</block>
  <block id="56fb59c990e9312e128da1b0e75d0ad7" category="cell"><block ref="56fb59c990e9312e128da1b0e75d0ad7" category="inline-link-macro-rx"></block></block>
  <block id="fe10bf02cac14b527073d56ad68ea0d9" category="inline-link-macro">820163</block>
  <block id="e61b41ec03dc6a7a5c73f96233f3f803" category="cell"><block ref="911c76fb9ad4021a1f383f66b11e6a74" category="inline-link-macro-rx"></block></block>
  <block id="6b1b934c2f0a24d69275ea2e6f568b91" category="cell">在存储故障转移操作的 I/O 期间观察到 QLogic 主机挂起或路径故障</block>
  <block id="44c8ddef58e9a1a6681cc56a75963cce" category="cell">在执行存储故障转移操作的 I/O 期间，您可能会发现 QLogic 主机出现主机挂起或路径故障。在这种情况下，您可能会看到以下消息： "mailbox cmd timeout occurred ， cmd=0x54 ， MB&lt;0]=0x54 and Firmware dump saved to temp buffer" ，这会导致主机挂起 / 路径故障。</block>
  <block id="ed270290a71bf02ff89a0d5ff81e0dc1" category="inline-link-macro">1090378</block>
  <block id="25efc82113873d1cad6809f7cac40e33" category="cell"><block ref="25efc82113873d1cad6809f7cac40e33" category="inline-link-macro-rx"></block></block>
  <block id="7ced44d26ed0cab51eebd7115b20664d" category="inline-link-macro">799323</block>
  <block id="adb237a95eaa1f6584cb4481fea5bbb1" category="cell"><block ref="f10a7befc9bc4d4101abc10635a20919" category="inline-link-macro-rx"></block></block>
  <block id="28ffca95f560b372f37e92a47d022750" category="cell">在存储故障转移操作的 I/O 期间观察到 Emulex FCoE （ OCe10102-FX-D ）主机挂起或路径故障</block>
  <block id="d55d79b6330424fc43bbdce9eb47ec8b" category="cell">在执行存储故障转移操作的 I/O 期间，您可能会发现 Emulex 10G FCoE 主机（ OCe10102-FX-D ）上出现主机挂起或路径故障。在这种情况下，您可能会看到以下消息： "DRIVER's buffer pool is empty ， IO useded and SCSI Layer I/O Abort Request Status" （驱动程序的缓冲池为空， IO 繁忙和 SCSI 层 I/O 中止请求状态）消息，这些消息会导致主机挂起 / 路径故障。</block>
  <block id="e58aede2c9be7f325d55bb4c4ccd5e3f" category="inline-link-macro">1061755</block>
  <block id="d3a6abf57d967be1b2ca961c01c4f93b" category="cell"><block ref="d3a6abf57d967be1b2ca961c01c4f93b" category="inline-link-macro-rx"></block></block>
  <block id="d696987992555daac44e6e0221ca5aa8" category="inline-link-macro">849212</block>
  <block id="333d134a2f4244baf148d678579abef9" category="cell"><block ref="4c874aa4796d22540097a0906a154f2c" category="inline-link-macro-rx"></block></block>
  <block id="f4d030c17534e71245b7ad007df27f45" category="cell">在存储故障转移操作的 I/O 期间，观察到 Emulex 16G FC （ LPe16002B-M6 ）主机挂起或路径故障</block>
  <block id="4ca1bd1052174da8e9aa737bbb1b32fd" category="cell">在执行存储故障转移操作的 I/O 期间，您可能会发现 Emulex 16G FC （ LPe16002B-M6 ）主机出现主机挂起或路径故障。在这种情况下，您可能会看到以下消息： "RSCN 超时数据和 iotag x1301 超出范围：最大 iotag" 消息，这些消息会导致主机挂起 / 路径故障。</block>
  <block id="9d68fa54bf7ad8cdef855ce856a5dfde" category="inline-link-macro">1109274</block>
  <block id="a3477c48ec4cc3717a8bc1e138229f37" category="cell"><block ref="a3477c48ec4cc3717a8bc1e138229f37" category="inline-link-macro-rx"></block></block>
  <block id="4ef8ad7e74bdf446d5db36da2dd1b24a" category="inline-link-macro">836800</block>
  <block id="3d23d6bf2cafcca60ba9774578396d12" category="cell"><block ref="5adc4cadb3537d660246eb69c4800937" category="inline-link-macro-rx"></block></block>
  <block id="56c232b9fb8984a71220d9c5a78fea18" category="cell">尽管在安装 RHEL 7.0 操作系统期间登录成功，但 Anacondation 仍会显示 iSCSI 登录失败消息</block>
  <block id="99e7a8ab2ec7111edb9e26a71a6c0a86" category="cell">在 iSCSI 多路径 LUN 上安装 root （ / ）时，以太网接口的 IP 地址会在内核命令行中指定，以便在 iSCSI 服务启动之前分配 IP 地址。但是，在 iSCSI 服务启动之前， dracut 无法在启动期间为所有以太网端口分配 IP 地址。这会导致 iSCSI 登录在没有 IP 地址的接口上失败。您将看到 iSCSI 服务多次尝试登录，这将导致操作系统启动时间出现发生原因延迟。</block>
  <block id="82c537bd6ca0ad5de09f0dbfec40d4c6" category="inline-link-macro">11149696</block>
  <block id="1a62cde3612df1efca4d12fd4a32f94c" category="cell"><block ref="1a62cde3612df1efca4d12fd4a32f94c" category="inline-link-macro-rx"></block></block>
  <block id="a8c077074773359e7cd193725f41a860" category="inline-link-macro">836875</block>
  <block id="5f2c9318592eaf6ee83d6c6bb5a5d002" category="cell"><block ref="83d2e393f0ac9d3a1c3786fb315d90c6" category="inline-link-macro-rx"></block></block>
  <block id="d44e6fb07493c929aa84d152539e0412" category="cell">在启动 iSCSI 多路径 LUN 上安装的 RHEL 7.0 操作系统期间，并不总是分配 IP 地址</block>
  <block id="8b5e0ba2f3aea90174a30a7c43bebcee" category="cell">安装 RHEL 7.0 时， anacondation 安装屏幕会显示 iSCSI 登录成功后，对多个目标 IP 的 iSCSI 登录失败。AnacondA 显示以下错误消息： "Node Login Failed" 只有在为 iSCSI 登录选择多个目标 IP 时，您才会看到此错误。您可以单击 " 确定 " 按钮继续安装操作系统。此错误不会妨碍安装 iSCSI 或 RHEL 7.0 操作系统。</block>
  <block id="dbea348e345c9dc3ff3f4f607ac1f83a" category="inline-link-macro">1114820</block>
  <block id="d8bfb33ec6a7d7df212d1ce5855ecf68" category="cell"><block ref="d8bfb33ec6a7d7df212d1ce5855ecf68" category="inline-link-macro-rx"></block></block>
  <block id="ecf13e437df4cb2ff5ec5edeeab0adbe" category="inline-link-macro">836657</block>
  <block id="8f1e30f29d9588ad4042431720826957" category="cell"><block ref="041c2851ebb0c7c2f188babcdefb8252" category="inline-link-macro-rx"></block></block>
  <block id="d8eb8fe260fdcd93af7707dd8bac33ee" category="cell">Anaconda/kernel cmd 行中不会添加 bootdev 参数来为 iSCSI 多路径 LUN 上安装的 RHEL 7.0 操作系统设置 IP 地址</block>
  <block id="6ad39c26575ec2ca15832d288d5cb802" category="cell">Anaconda 不会在内核命令行中添加 bootdev 参数，您可以在 iSCSI 多路径 LUN 上安装 RHEL 7.0 操作系统期间设置 IPv4 地址。这样可以防止向任何配置为在 RHEL 7.0 启动期间与存储子系统建立 iSCSI 会话的以太网接口分配 IP 地址。由于未建立 iSCSI 会话，因此在操作系统启动时不会发现根 LUN ，因此操作系统启动失败。</block>
  <block id="eb3bcbb68e079ea47da67205a19dc8fc" category="inline-link-macro">1114464</block>
  <block id="fee00e9426ca326e086b5ed3ca226599" category="cell"><block ref="fee00e9426ca326e086b5ed3ca226599" category="inline-link-macro-rx"></block></block>
  <block id="6b41fb8eea99b0d8d062e30f5b71d616" category="summary">适用于采用 ONTAP 的 Windows Server 2019 的 NVMe/FC 主机配置</block>
  <block id="20a78b272b5f3dce057f1a808d44d00c" category="paragraph">对于 Windows Server 2019 ， ONTAP 9.7 或更高版本支持 NVMe/FC 。</block>
  <block id="959ca5b147c021ab1f2cf1f45d4db6bb" category="paragraph">请注意， Broadcom 启动程序可以通过相同的 32G FC 适配器端口同时为 NVMe/FC 和 FCP 流量提供服务。对于 FCP 和 FC/NVMe ，请使用 MSDSM 作为 Microsoft 多路径 I/O （ MPIO ）选项。</block>
  <block id="e069702f93877aa76c32a99b6780156b" category="paragraph">ONTAP NVMe/FC 不支持 Windows 故障转移集群（ WFC ），因为 ONTAP 当前不支持对 NVMe/FC 进行永久性预留。</block>
  <block id="f834e9106683e94a02939e2811ebbee2" category="admonition">Broadcom 提供的适用于 Windows NVMe/FC 的外部驱动程序并非真正的 NVMe/FC 驱动程序，而是一个转换式 SCSI ⇄ NVMe 驱动程序。这种转换开销不一定会影响性能，但它会抵消 NVMe/FC 的性能优势。因此，在 Windows 服务器上， NVMe/FC 和 FCP 性能是相同的，而在 Linux 等其他操作系统上， NVMe/FC 性能明显优于 FCP 。</block>
  <block id="e2e5374e9a78d7eca1de41fc5244e80e" category="paragraph">按照以下步骤在 Windows 启动程序主机上启用 FC/NVMe ：</block>
  <block id="410517e1f795e6fa809a7ff5630e2bdd" category="list-text">在 Windows 主机上安装 OneCommand Manager 实用程序。</block>
  <block id="7d182740e5fe1d15ec7f97f69178b4a8" category="list-text">在每个 HBA 启动程序端口上，设置以下 HBA 驱动程序参数：</block>
  <block id="1d71ea83cceb2b7470e1c54838adb506" category="list-text">EnableNVMe = 1</block>
  <block id="814e9f528f5fa391cd6774e57a5c651c" category="list-text">NVMEMode = 0</block>
  <block id="12975cfd6b02fcd31121a100cbbb128c" category="list-text">限制传输大小 =1</block>
  <block id="95feeb984f6b07e38a54290d155380fb" category="paragraph">在 Windows 环境中使用适用于 FC/NVMe 的 Broadcom 适配器时，每个主机总线适配器（ HBA ）端口都会关联一个 ` +hostnqn+` 。` +hostnqn+` 的格式如下。</block>
  <block id="cc6f38a02ffcad6a7b76b5c9c2a8a868" category="list-text">打开 MPIO 属性。</block>
  <block id="8eff5eebf9f16bb0e2893ae3c5998da1" category="list-text">从 * 发现多路径 * 选项卡中，添加为 NVMe 列出的设备 ID 。</block>
  <block id="1fc4b6b7368b8cca78fdc9a59572d5bb" category="paragraph">MPIO 可以识别 NVMe 设备，这些设备可在磁盘管理下查看。</block>
  <block id="3d078be6c0d773e21485712592093767" category="list-text">打开 * 磁盘管理 * 并转到 * 磁盘属性 * 。</block>
  <block id="c56c265dd3b76c17d91729b1a2c7b1da" category="list-text">从 * MPIO * 选项卡中，单击 * 详细信息 * 。</block>
  <block id="112e9e2cfc2ae539865d9bd23d9f1b92" category="list-text">设置以下 MSDSM 设置：</block>
  <block id="fd04a7962ed8b4dabd3626eddb6a9088" category="list-text">PathVerifiedPeriod ： *</block>
  <block id="2820aa7b776fec678048e070f821f6cd" category="list-text">PathVerifyEnabled ： * 启用 *</block>
  <block id="e12372d6121f335ab4e6eea4bc8f1e6f" category="list-text">RetransyCount ： *</block>
  <block id="54120b80a0abdcd4af10bf272d08459d" category="list-text">RetransyInterval ： *</block>
  <block id="85becc53ef98b63dce1fc3e1b356bd02" category="list-text">PDORemovedPeriod ： * 130 *</block>
  <block id="a0ae59a68ecc7cb46a13fb68c3b08410" category="list-text">选择 MPIO 策略 * 使用子集执行轮循 * 。</block>
  <block id="2dca3dab4f027df43c5e5409a002b806" category="list-text">更改注册表值：</block>
  <block id="7db08474ec0f5c1218d36b7273f2d1f7" category="paragraph">现在， NVMe 配置已在 Windows 主机上完成。</block>
  <block id="5c03a66bcd7727b86eb8c79ccfacf5bb" category="list-text">验证端口类型是否为 FC+NVMe 。</block>
  <block id="79167b2c6f200dc7fb25ad8a1fc3a343" category="paragraph">现在已启用 NVMe ，您应看到 ` + 端口类型 +` 列为 ` +FC+NVMe+` ，如下所示。</block>
  <block id="d3900b3975cc92bd8c4ed820f19eb77d" category="list-text">验证是否已发现 NVMe/FC 子系统。</block>
  <block id="72d40a24406ca9cb1e27fe3058a463d9" category="paragraph">` +NVMe-list+` 命令可列出 NVMe/FC 发现的子系统。</block>
  <block id="4d30c87ecbf573d3a03790c7a2971315" category="list-text">验证是否已创建命名空间。</block>
  <block id="8eabcd914763b27e42e21afc24ee68ce" category="paragraph">` +nve-list-ns+` 命令可列出指定 NVMe 目标的命名空间，其中列出了连接到主机的命名空间。</block>
  <block id="c973ee9c17b37717f62a4aff80aecfb5" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.1</block>
  <block id="3ce6290065aca5f2379be4018bde8494" category="doc">将 Red Hat Enterprise Linux 7.1 与 NetApp ONTAP 结合使用</block>
  <block id="2b581afbd27b61920ecd4178bff90d65" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="43096333be688daf930575ef64d477b5" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="c828834315e5032a3d50d5a2a3c8c107" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.1 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.1 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="6348d7ef4eea2a689477f692799b8a5d" category="paragraph">RHEL 7.1 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="decf77540b0827bf2f8607451a3743f3" category="cell">在执行存储故障转移操作的 I/O 期间，您可能会发现 Emulex 10G FCoE 主机（ OCe10102-FX-D ）上出现主机挂起或路径故障。在这种情况下，您可能会看到以下消息： " 驱动程序的缓冲区池为空， IO 繁忙， SCSI 层 I/O 中止请求状态 "</block>
  <block id="922724d30ab7c207a8746d06dbe805f2" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 8.2</block>
  <block id="feb6906975dfa95bd38b1b7f935bb959" category="doc">将 Oracle Linux 8.2 与 NetApp ONTAP 结合使用</block>
  <block id="9dbfd05f0dcf7ea7f5d678dc3ac216c7" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="e6f1d72f4eb45ad3af66c651a6a8a1b4" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="ace7da9c570d42fb25b932b78d3ece3e" category="paragraph">对于 Oracle Linux （ OL ） 8.2 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。OL 8.2 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="04a5e299cf45ffa9952cc41f997c1f37" category="paragraph">您可以使用 `multipath -ll` 命令验证 ONTAP LUN 的设置。</block>
  <block id="03462612fe6be5ba3f7d2fc9b60e97da" category="paragraph">以下各节提供了 LUN 映射的非 ASA 角色的示例多路径输出。</block>
  <block id="f2fdee93271556e428dd9507b3da7235" category="cell">无限</block>
  <block id="6cba5c7dad29b66fb547b78b24a3814b" category="cell">2 pG_INIT_retries 50</block>
  <block id="cfcd208495d565ef66e7dff9f98764da" category="cell">0</block>
  <block id="832e21f9da1ad55895637d00686fdb42" category="cell">TUR</block>
  <block id="41b610f10650576893b321759da530ba" category="cell">Group_by-prio</block>
  <block id="b17d506a868ef4f0b2135c9951a04940" category="cell">服务时间 0</block>
  <block id="a9ba4dc88fa11d44cc7c0c918d174778" category="cell">ONTAP</block>
  <block id="a489ffed938ef1b9e86889bc413501ee" category="cell">统一</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="paragraph">示例</block>
  <block id="7ba6633ca0b968c950d64584fba1ce6c" category="admonition">要配置 Oracle Linux 8.2 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="4fa0e58c0abf395a1bcef392b352f5ab" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.2 。</block>
  <block id="810d931656eab0e7389d9a7b04b05ea6" category="paragraph">Oracle Linux 8.2 没有已知问题。</block>
  <block id="64017e4fce264fae779ea6ffb9022691" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="840d5abfe44b15b4222ea5c534ce82a9" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.2 。</block>
  <block id="9e1d6710e38a86bc7fd6db9a2a96438a" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 15 SP1</block>
  <block id="5185d69f780771ca66c7c19448e25cdf" category="doc">将 SUSE Linux Enterprise Server 15 SP1 与 NetApp ONTAP 结合使用</block>
  <block id="0d6b5d3df8b9a42aafd9fa98a9641d82" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="4b97f5ca007d612f607bd68ef2a0c253" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="479f9363c9077236f354b87a168604f9" category="paragraph">对于 SUSE Linux Enterprise Server 15 SP1 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 15 SP1 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="69d80b4b2a69445f087411ee5dc2a6a7" category="paragraph">对 SUSE Linux Enterprise Server 15 SP1 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="be882f43afb14bea32a5b5b195c394ac" category="inline-link-macro">1246622</block>
  <block id="70362c286bd10cfb0e918378e9aa3a94" category="cell"><block ref="af9a1c0589f6efd607b09bbc5f492e3f" category="inline-link-macro-rx"></block></block>
  <block id="b47148f0acf3e7b3db202890d4c8c0c4" category="cell">在存储故障转移操作期间，使用 Emulex LPe12002 8 Gb FC 的 SLES15SP1 上的远程端口传输到阻止状态。</block>
  <block id="15427ef3cacf89471c2525932d2937ee" category="cell">在存储故障转移操作期间，使用 Emulex LPe12002 8 Gb 光纤通道（ FC ）的 SLES15SP1 上的远程端口传输到阻止状态。当存储节点恢复到最佳状态时， LIF 也会启动，并且远程端口状态应显示为联机。 有时，远程端口状态可能会继续显示为 " 已阻止 " 或 " 不存在 " 。 此状态可能会导致多路径层的 LUN 路径出现 " 故障 " ，并导致这些 LUN 的 I/O 中断。您可以根据以下示例命令检查 remoteport 的详细信息： -- cat /sys/class/fc_host/host*/device/rport*/fc_remote_ports/rport*/port_name cat/sys/class/fc_host/host*/device/rport*/fc_remote_ports/rport*/rport_state</block>
  <block id="12e2cfab649729e3b20b64d80b423083" category="inline-link-macro">1139137</block>
  <block id="c97f8d4c7b18c5daac79ce8d70751e54" category="cell"><block ref="c97f8d4c7b18c5daac79ce8d70751e54" category="inline-link-macro-rx"></block></block>
  <block id="53cded606153345462c89bc6a568b1dc" category="summary">提供有关 Veritas Infoscale 7 系列版本的 ONTAP SAN 主机配置设置的指导</block>
  <block id="6cfccda145f20c0cf60058deb053707c" category="doc">将适用于 Linux 的 Veritas Infoscale 7 与 NetApp ONTAP 结合使用</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="section-title">简介</block>
  <block id="988ade58b67caf90656e537886fb1daa" category="paragraph">本文档将为采用 FC ， FCoE 和 iSCSI 协议的 Red Hat Enterprise Linux 和 Oracle Linux （基于 RHCK ）平台的 Veritas Infoscale 存储基础 7 系列版本提供有关 ONTAP SAN 主机配置设置的指导。</block>
  <block id="31296a34c84ac7a114e2a64e59cc9d34" category="paragraph">在下图中， `sanlun show` 命令将返回 LUN 信息。</block>
  <block id="9bdb0807ef78c7192456335c7ef96e18" category="paragraph">请参见 Veritas 支持门户（产品表，平台查找， HCL 表）以验证 SAN 启动配置可支持性和已知注意事项。</block>
  <block id="2385edf0d68ac69421a103d7c6128cd0" category="paragraph">您必须验证您的配置是否满足系统要求。有关详细信息，请参见<block ref="77ab0bbf377853176c70e55d32dcb81a" category="inline-link-rx"></block> 和 Veritas HCL 表。</block>
  <block id="e62a424b2738fe2a52111dd60f4aaaf2" category="paragraph">在此示例中，使用 `vxdmpadm` 命令验证 VxDMP 多路径是否已连接 ONTAP 目标阵列。</block>
  <block id="dbdaf083b30f34a5e231b0307cf5579a" category="paragraph">使用 Veritas 动态多路径（ VxDMP ）时，您必须执行配置任务，将 NetApp LUN 声明为 Veritas 多路径设备。您必须安装 Veritas 为 NetApp 存储系统提供的阵列支持库（ Array Support Library ， Asl ）和阵列策略模块（ Array Policy Module ， apm ）软件包。虽然 Veritas Software Installation 会随产品一起加载默认的 ASl apm 软件包，但建议使用 Veritas 支持门户上列出的最新受支持的软件包。</block>
  <block id="04aa70b1e86aed37b8bb5d17254ffe53" category="paragraph">以下示例显示了 Veritas 支持库（ Asl ）和阵列策略模块（ Array Policy Module ， apm ）配置。</block>
  <block id="6ed6f28773bb7959ef3382f6d7de573e" category="section-title">Veritas Multipath 的设置</block>
  <block id="60509bf0a0d5036839ea07b98548c658" category="paragraph">NetApp 建议使用以下 Veritas VxDMP 可调参数，以便在存储故障转移操作中实现最佳系统配置。</block>
  <block id="9b0192429a485fa5f5e51d83b096590e" category="cell">dmp_lun_retry_timeout</block>
  <block id="072b030ba126b2f4b2374f342be9ed44" category="cell">60</block>
  <block id="cb1bbd675719233c5bfc23916692e065" category="cell">dmp_path_age</block>
  <block id="7c16fa52cbeaf99ece2729801b43247d" category="cell">dmp_restore_interval</block>
  <block id="3c98b0f304fad6c757e2a7a698676c31" category="paragraph">使用 `vxdmpadm` 命令将 DMP 可调参数设置为联机，如下所示：</block>
  <block id="4e2b600516ccb690319c7af87fe58291" category="paragraph">` # vxdmpadm settune dmp_tunable=value`</block>
  <block id="0c83d9e724e53881906c0eb45f4d0851" category="paragraph">可以使用 ` #vxdmpadm gettune` 动态验证这些可调参数的值。</block>
  <block id="d5e9adf370b310d61aa5d2ec222f5511" category="paragraph">以下示例显示了 SAN 主机上的有效 VxDMP 可调参数。</block>
  <block id="a51812839ba18144ee43ff7a244db311" category="section-title">按协议设置</block>
  <block id="97bdb4022a366b3a059398b475667da4" category="list-text">仅限 FC/FCoE ：使用默认超时值。</block>
  <block id="58442720ed7fc6b1681795dfb0faa518" category="list-text">仅适用于 iSCSI ：将 `replacement_timeout` 参数值设置为 120 。</block>
  <block id="7cab6ce56f2426636d1ce1fb5f70db26" category="paragraph">iscsi `replacement_timeout` 参数用于控制 iSCSI 层在对其执行任何命令失败之前应等待超时路径或会话自行重新建立的时间。建议在 iSCSI 配置文件中将 `replacement_timeout` 的值设置为 120 。</block>
  <block id="8c3b270d5a8f816d55f977d505eb8e56" category="section-title">按操作系统平台设置</block>
  <block id="cd66c6c6398ade1a38a74a4cc0b18ade" category="paragraph">对于 Red Hat Enterprise Linux 7 和 8 系列，您必须配置 `udev rport` 值，以便在存储故障转移情形下支持 Veritas Infoscale 环境。使用以下文件内容创建文件 ` /etc/udev/rules.d/40-rport.rules` ：</block>
  <block id="14b3714b111d1beb9fb5c5c6fa61ec6e" category="admonition">有关 Veritas 专用的所有其他设置，请参阅标准 Veritas Infoscale 产品文档。</block>
  <block id="54f2286fb613ffaae5ab0ea0c95d2262" category="section-title">多路径共存</block>
  <block id="60365cf8d316c2c5ee81876935cba20c" category="paragraph">如果您使用的是包括 Veritas Infoscale ， Linux 原生设备映射程序和 LVM 卷管理器在内的异构多路径环境，请参见《 Veritas 产品管理指南》了解配置设置。</block>
  <block id="eb179c0936f34e2f183ff065cea19e3d" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.2</block>
  <block id="044f242221df262f8603090674d49a40" category="doc">将 Red Hat Enterprise Linux 7.2 与 NetApp ONTAP 结合使用</block>
  <block id="1c94e989c366c894bad277fb008fd9f4" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="f576bbfe43e31aa8333db1d931e7e9f1" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="ebe448dc0ce5028084637ff291390170" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.2 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.2 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="66e3d647c1c5bb09a469ba22752e34ec" category="paragraph">RHEL 7.2 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="20d93298193f67cd6c9c0a391f44904d" category="paragraph">RHEL 7.2 没有已知问题。</block>
  <block id="5be7338acb62c4947afb236f2acac6f7" category="summary">介绍如何使用 ONTAP 为适用于 Oracle Linux 7.7 的 NVMe/FC 配置 NVMe/FC</block>
  <block id="eb40a1520d522d20939a9321ce7560a9" category="doc">适用于采用 ONTAP 的 Oracle Linux 7.7 的 NVMe/FC 主机配置</block>
  <block id="440dd386d307a6307c7ea4b97237db4b" category="paragraph">以下版本的 Oracle Linux 在 ONTAP 9.6 或更高版本上支持 NVMe/FC</block>
  <block id="c433a0a97578fca4897042ceac31a2c1" category="list-text">执行第 7.7 项</block>
  <block id="6d02bb87c6003e111f060b4c7c94d2dd" category="list-text">NVMe-CLI 软件包中不提供原生 NVMe/FC 自动连接脚本。您可以使用 HBA 供应商提供的外部自动连接脚本。</block>
  <block id="dc69820103be29718e2c8cd51f522a8d" category="list-text">默认情况下，不会启用轮循负载平衡。要启用此功能，必须编写 udev 规则。有关在 OL 7.7 上启用 NVMe/FC 的章节提供了相关步骤。</block>
  <block id="94cd205e440aaaa92c530c6ab9af2238" category="section-title">在 OL 7.7 上启用 NVMe</block>
  <block id="92a9ec88743bdc144d5f1bb0b27a3132" category="list-text">确保已安装默认 Oracle Linux 7.7 内核。</block>
  <block id="813bc710278c6217380560b691dbdd3d" category="list-text">重新启动主机并验证它是否启动到指定的 OL 7.7 内核。</block>
  <block id="44ece0868fec6fcb843a7f1a0c1bc8b7" category="list-text">升级到 NVMe-CLI-1.8.1-3.el7 软件包。</block>
  <block id="b7992936b0d1e93c6666410fa59b459b" category="list-text">在 ` /lib/udev/rules.d/71-nvme-iopolicy-netapp-ONTAP.rules` 中将以下字符串作为单独的 udev 规则添加。这样可以为 NVMe 多路径启用轮循负载平衡。</block>
  <block id="4a08b4cdc752d6b56372551f5eaf5055" category="list-text">在 OL 7.7 主机上，检查 ` /etc/nve/hostnqn` 处的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="7fa8390ac8c114f16d588d79fe36a1ee" category="admonition">如果主机 NQN 字符串不匹配，则应使用 vserver modify 命令更新相应 ONTAP 阵列子系统上的主机 NQN 字符串，使其与主机上 ` /etc/nve/hostnqn` 中的主机 NQN 字符串匹配。</block>
  <block id="769627b30441d87c853de2b1343baa09" category="list-text">复制并安装 Broadcom 发件箱自动连接脚本软件包。</block>
  <block id="f3a17d79f6544740456771291527984d" category="summary">介绍如何将 Oracle Linux 6.5 与 ONTAP 结合使用</block>
  <block id="7892153bfe939e17bf485f5fd993312f" category="doc">将 Oracle Linux 6.5 与 NetApp ONTAP 结合使用</block>
  <block id="a7612c1b52cef63443272a841e63f053" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="3b4b1f1818c7805cf81dfa92e64600a8" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="33d395db2629e42725961d07de66379b" category="paragraph">对于 Oracle Linux 6.5 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.5 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="b027f2cb101039990e34b69dadd64cc9" category="paragraph">Oracle Linux 6.5 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="ccda5c6e00d9467a80e095e0a00e92d1" category="admonition">要配置 Oracle Linux 6.5 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="d9929df24012e2c19b3258bd0a117bc4" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.5 。</block>
  <block id="7c6d19ca68cd84cbf89340556bd048a2" category="paragraph">Oracle 6.5 没有已知问题。</block>
  <block id="834597fc454ac7d366bc8af44fcf5609" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="0158dc1052dab85818a92b1a427c95b7" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.5 。</block>
  <block id="6a94c5eba3910f79e55ae69f947dc541" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 8.0</block>
  <block id="94ef96ca77c49f563cd4e9efb6e2caba" category="doc">将 Red Hat Enterprise Linux 8.0 与 NetApp ONTAP 结合使用</block>
  <block id="1e56b264d1c8b79d8067436bfdda0ea2" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 8.0 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 8.0 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="eb3208d8f7cf5a53017d9aeebb9a3433" category="paragraph">RHEL 8.0 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="c517a5fb26b575817c996f5b44f027c8" category="inline-link-macro">1238719</block>
  <block id="228d243156f27b227dbffd03f56f02b7" category="cell"><block ref="cf56f7936c19e5af5e4aa99ffc3fc54e" category="inline-link-macro-rx"></block></block>
  <block id="cb5cb6cd9eae3b558f871729ba82fea1" category="cell">存储故障转移操作期间，使用 QLogic QLE2672 16 Gb FC 的 RHEL8 上的内核中断</block>
  <block id="12d1cd1c5d1740dd79dab4f739fc3096" category="cell">在使用 QLogic QLE2672 主机总线适配器（ HBA ）的 Red Hat Enterprise Linux （ RHEL ） 8 内核上执行存储故障转移操作期间，可能会发生内核中断。内核中断会导致操作系统重新启动。重新启动会导致应用程序中断，如果配置了 kdump ，则会在 /var/crash/directory 下生成 vmcore 文件。使用 vmcore 文件确定故障的发生原因。在这种情况下，中断发生在 "kmem_cache_alloc +160" 模块中。它会使用以下字符串记录在 vmcore 文件中： "[ 异常 RIP ： kmem_cache_alloc+160]" 。重新启动主机操作系统以恢复操作系统，然后重新启动应用程序。</block>
  <block id="a0da65f7308e21b74d8171397d6dc538" category="inline-link-macro">1710009</block>
  <block id="2fcd0ae372e33e9ba53dc43d09e26597" category="cell"><block ref="2fcd0ae372e33e9ba53dc43d09e26597" category="inline-link-macro-rx"></block></block>
  <block id="8b3506ef6df97bfa8dfebb3f5c5ec1a3" category="inline-link-macro">1226783</block>
  <block id="58b38bde85e210194d53764fe475769d" category="cell"><block ref="47e35d77a30ef1b3537191c93f23095d" category="inline-link-macro-rx"></block></block>
  <block id="425d344578afde4c716376f753b30240" category="cell">如果在所有光纤通道（ FC ）主机总线适配器（ HBA ）上映射了 204 个以上的 SCSI 设备，则 RHEL8 操作系统将启动至 " 紧急模式 "</block>
  <block id="3a28bca720f3da85de6d53a25e114da5" category="cell">如果在操作系统重新启动过程中将主机映射到 204 个以上的 SCSI 设备， RHEL8 操作系统将无法启动到 " 正常模式 " 并进入 " 紧急模式 " 。这会导致大多数主机服务变得不可用。</block>
  <block id="f66eee4da00a20e82b3b619c4a880da7" category="inline-link-macro">1690356</block>
  <block id="78190beed3e4bea9c462fcff81d8bb98" category="cell"><block ref="78190beed3e4bea9c462fcff81d8bb98" category="inline-link-macro-rx"></block></block>
  <block id="d7a4f35655789400261de0f84c7b9a60" category="inline-link-macro">1230882</block>
  <block id="d3219e821d1d59c1b779a247e33ff85a" category="cell"><block ref="c69520e650bfdbdedc426594f88a3b75" category="inline-link-macro-rx"></block></block>
  <block id="911fc6d267b57fb6abed088e72864c9f" category="cell">在 RHEL8 安装期间，无法在 iSCSI 多路径设备上创建分区。</block>
  <block id="e1f37db2e0922aa7641c6a4832f2c0ab" category="cell">在 RHEL 8 安装期间，磁盘选择中未列出 iSCSI SAN LUN 多路径设备。因此， SAN 启动设备上未启用多路径服务。</block>
  <block id="d91b1cebbe656a64c45236f96fe182fe" category="inline-link-macro">1709995</block>
  <block id="0e6ca90cc43355495838f67a38a60e0f" category="cell"><block ref="0e6ca90cc43355495838f67a38a60e0f" category="inline-link-macro-rx"></block></block>
  <block id="90d1c9c74bbddec0167854bf74485c3d" category="inline-link-macro">12359998</block>
  <block id="280334e73b95ef1b616f10df6df3c8dd" category="cell"><block ref="a353ae97c4b569e1b5ed86fe9487a1e5" category="inline-link-macro-rx"></block></block>
  <block id="dd893bec301bd3aec1f0e5caf954f120" category="cell">rescan-scsi-bus.sh -a 命令扫描的设备不超过 328 个</block>
  <block id="5261438322c7c5a501ca3472a92d0752" category="cell">如果 Red Hat Enterprise Linux 8 主机映射的 SCSI 设备超过 328 个，则主机操作系统命令 rescan-scsi-bus.sh -a 仅会扫描 328 个设备。主机不会发现任何剩余的映射设备。</block>
  <block id="f4636c55453792b47003fc2f58a767f0" category="inline-link-macro">1231087</block>
  <block id="787672779364bdb3b18ca4d26532a47a" category="cell"><block ref="621e20fe8c17a1f479bcb226e8e134d7" category="inline-link-macro-rx"></block></block>
  <block id="a20fc7e8875e389d921849189f100d1b" category="cell">在存储故障转移操作期间，使用 Emulex LPe16002 16 Gb FC 的 RHEL8 上的远程端口传输到阻止状态</block>
  <block id="a533106d1920fdeb35d758f3abbd2dea" category="cell">在存储故障转移操作期间，使用 Emulex LPe16002 16 Gb 光纤通道（ FC ）的 RHEL8 上的远程端口传输到阻止状态。当存储节点恢复到最佳状态时， LIF 也会启动，并且远程端口状态应显示为联机。有时，远程端口状态可能会继续显示为 " 已阻止 " 或 " 不存在 " 。此状态可能会导致多路径层的 LUN 路径出现 " 故障 "</block>
  <block id="58f38d39e8fd3c02f8ee1783f7386b03" category="inline-link-macro">1702005</block>
  <block id="4423e53b1d3613c850f71c4fa550fb0e" category="cell"><block ref="4423e53b1d3613c850f71c4fa550fb0e" category="inline-link-macro-rx"></block></block>
  <block id="aacb68c96c69417b59cbda0ddb1b5f71" category="inline-link-macro">1231098</block>
  <block id="128e6e11e880ba8678f174b92f4abec5" category="cell"><block ref="8cec4913fe5b07185f0c16a8a3e0f3c5" category="inline-link-macro-rx"></block></block>
  <block id="bf5a222f8e3d9f399a1266b069eb4993" category="cell">在存储故障转移操作期间，使用 Emulex LPe32002 32 Gb FC 的 RHEL8 上的远程端口传输到 Blocked 状态</block>
  <block id="d68e531e9b1b70b7033496b5b71eda91" category="cell">在存储故障转移操作期间，使用 Emulex LPe32002 32 GB 光纤通道（ FC ）的 RHEL8 上的远程端口传输到阻止状态。当存储节点恢复到最佳状态时， LIF 也会启动，并且远程端口状态应显示为联机。有时，远程端口状态可能会继续显示为 " 已阻止 " 或 " 不存在 " 。此状态可能会导致多路径层的 LUN 路径出现 " 故障 " 。</block>
  <block id="b8c14c907614e89be80685d370b26007" category="inline-link-macro">1705573</block>
  <block id="cb013a5d5deecc5ad6cf63bd5936d222" category="cell"><block ref="cb013a5d5deecc5ad6cf63bd5936d222" category="inline-link-macro-rx"></block></block>
  <block id="a4ce0de71d1077f7479ab2d2dd2983aa" category="summary">适用于采用 ONTAP 的 Windows Server 2012 R2 的 NVMe/FC 主机配置</block>
  <block id="a20db5f8d609188514b6dc14c4022e68" category="paragraph">适用于 Windows Server 2012 的 ONTAP 9.7 或更高版本支持 NVMe/FC 。</block>
  <block id="fefc4c656e279365e6f2d544c146d1c6" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 15 SP2</block>
  <block id="b19a1aa2328ca72961ca90632fd634e5" category="doc">将 SUSE Linux Enterprise Server 15 SP2 与 NetApp ONTAP 结合使用</block>
  <block id="97a07fc4a1ebadd51e36c4395d58ecc2" category="paragraph">对于 SUSE Linux Enterprise Server 15 SP2 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 15 SP2 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。使用 ` +multipath -ll+` 命令验证 ONTAP LUN 的设置。</block>
  <block id="27117d842bd89e527c563bbabce7e494" category="paragraph">应存在两组具有不同优先级的路径。优先级较高的路径为主动 / 优化路径，这意味着它们由聚合所在的控制器提供服务。优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="51a4a26e6b1bdae133374d340c097526" category="paragraph">以下示例显示了具有两个主动 / 优化路径和两个主动 / 非优化路径的 ONTAP LUN 的正确输出。</block>
  <block id="981941d0f214612af70f593a167f17f2" category="paragraph">对 SUSE Linux Enterprise Server 15 SP2 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="2844e304c2e162332243113572206ac6" category="inline-link-macro">1308744</block>
  <block id="939827454c3bb8453033ba1bd60c555e" category="cell"><block ref="c8bdc7961e7fb79cc7e51cf734b247fb" category="inline-link-macro-rx"></block></block>
  <block id="7978eecd5f9889df6029ba6c41b90611" category="cell">完成 SLES15SP2 操作系统安装后，从 SAN 启动 iSCSI 无法使用静态 IP 配置启动</block>
  <block id="bf7deb12251c3036dfa3c51f45c1b2c1" category="paragraph">使用静态 IP 配置完成 SLES 15 SP2 操作系统安装后， iSCSI 已通过 sanboot 的 LUN 无法启动。每次使用静态 IP 配置时都会发生启动失败。这会导致服务器拒绝继续启动过程，并显示以下错误消息：</block>
  <block id="db6f4e9686b1013e422f8ddc81760274" category="inline-link-macro">1167494</block>
  <block id="ff657e83469666666bbb5251199b464a" category="cell"><block ref="ff657e83469666666bbb5251199b464a" category="inline-link-macro-rx"></block></block>
  <block id="f4bba4cff96aef30f859bc5d933b86d1" category="summary">介绍如何将 CentOS 7.7 与 ONTAP 结合使用</block>
  <block id="3d5742ce7d4d5ca13461bc85b97a93a6" category="doc">将 CentOS 7.7 与 NetApp ONTAP 结合使用</block>
  <block id="ff16e637ac4104828e13ea103025c195" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="78e9fc355bd36c3a43e4700024680370" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="85c1cd097e2b89074f8df27d3f429558" category="paragraph">对于 CentOS 7.7 ，必须存在 /etc/multipath.conf 文件，但不需要对该文件进行特定更改。CentOS 7.7 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="2f0a9f2f85776bf6f638ce5e461ef16e" category="paragraph">CentOS 7.7 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="1c3173a9a070b56365701cc841994766" category="summary">介绍如何将 CentOS 6.6 与 ONTAP 结合使用</block>
  <block id="9f1e4db89e8ce83ed880c63573ad8b5d" category="doc">将 CentOS 6.6 与 NetApp ONTAP 结合使用</block>
  <block id="f2ff9a4318af2aff0dcf758e87fcd4c8" category="paragraph">对于 CentOS 6.6 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.6 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="c9266caf4d9776dead8063d2c3d71e40" category="paragraph">系统会对 CentOS 6.6 操作系统进行编译，以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="ff74c42c74c13fedc08a8ca1624e32b4" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="aad294b0550f33ea846ebc2598292576" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.6 。</block>
  <block id="9a8a0895e5f69c5c06d82e847ceb32e9" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.5</block>
  <block id="724f685b8e77a5417a8a2703b3d831b2" category="doc">将 Red Hat Enterprise Linux 7.5 与 NetApp ONTAP 结合使用</block>
  <block id="253f9a8620f20f372c2bbdf28eec14f4" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="de6f4b59a170663afff37b664d89bb37" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="64d3c79e51098a109ef3ea4c847c2cf6" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.5 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.5 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="b781063faa435636f2e9692d8b4fd728" category="paragraph">RHEL 7.5 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="7383337d244878e79e189215ad6bfdc7" category="inline-link-macro">1139053</block>
  <block id="1295ae9315edfd5b220cf2daf1aa17e6" category="cell"><block ref="007697ca9026c19e168d3fdf666001ca" category="inline-link-macro-rx"></block></block>
  <block id="9dc352394728d1be345a1e8fa64a71ad" category="cell">在存储故障转移操作期间，使用 QLogic QLE2672 16 Gb FC 的 RHEL7.5 发生内核中断</block>
  <block id="c72893cf0f959738c7d9d4448ab69c9c" category="cell">在使用 QLogic QLE2672 16 Gb 光纤通道主机总线适配器对 RHEL7U5 内核执行存储故障转移操作期间，内核发生崩溃。内核崩溃导致 RHEL 7.5 重新启动，从而导致应用程序中断。如果配置了 kdump ，内核崩溃将在 /var/crash/directory 下生成 vmcore 文件。vmcore 文件用于了解故障的发生原因。在这种情况下，在 vmcore 文件中使用以下字符串记录的 "get_next_timer_interruption+440" 模块中观察到崩溃： " 【异常 RIP ： get_next_timer_interruption+440] 】发生内核中断后，您可以通过重新启动主机操作系统并根据需要重新启动应用程序来恢复操作系统。</block>
  <block id="f2f31533672fd04a5aafc604a4b46f42" category="inline-link-macro">1542564</block>
  <block id="9ac48cf5a6fc64842f3d1b4957db9169" category="cell"><block ref="9ac48cf5a6fc64842f3d1b4957db9169" category="inline-link-macro-rx"></block></block>
  <block id="a091672e9523f13695b5ce236a025cfa" category="inline-link-macro">1138536</block>
  <block id="a596200cfc306d0de00f26be2a8f777c" category="cell"><block ref="c6f70118bf7bd1ac73b4c76b9feb75ea" category="inline-link-macro-rx"></block></block>
  <block id="f7fff0e4d49653725b3503ea6599c461" category="cell">在存储故障转移操作期间，使用 QLogic QLE2742 32 Gb FC 的 RHEL7U5 发生内核中断</block>
  <block id="b531bab4f04d588f25830af15dd9732f" category="cell">在使用 QLogic QLE2742 HBA 的 Red Hat Enterprise Linux （ RHEL ） RHEL7U5 内核上执行存储故障转移操作期间，由于内核发生崩溃，导致内核中断。内核崩溃会导致操作系统重新启动，从而导致应用程序中断。如果配置了 kdump ，内核崩溃将在 /var/crash/ 目录下生成 vmcore 文件。当内核崩溃时，您可以使用 vmcore 文件调查失败的原因。以下示例显示了 bget_next_timer_interruption+440b 模块中发生崩溃。崩溃记录在 vmcore 文件中，并包含以下字符串： " [Exception RIP ： get_next_timer_interruption+440" 您可以根据需要重新启动主机操作系统并重新启动应用程序来恢复操作系统。</block>
  <block id="cfa977023e7c458724e283999af8563d" category="inline-link-macro">1541972.</block>
  <block id="4b0f2703df00ede958f5a03556f1334b" category="cell"><block ref="4b0f2703df00ede958f5a03556f1334b" category="inline-link-macro-rx"></block></block>
  <block id="692dec64260aae5d0dd37a2adee5ade4" category="inline-link-macro">1148090</block>
  <block id="1bf7bac4b210e706865d12510d6cd9cc" category="cell"><block ref="7f5fbed4010b651f3d0035e9e60eec99" category="inline-link-macro-rx"></block></block>
  <block id="2889b5c407bd32dd8473d8f2ea939832" category="cell">在存储故障转移操作期间，使用 QLogic QLE2742 32 Gb FC HBA 的 RHEL 7.5 发生内核中断</block>
  <block id="e780d267955ef9d13c386e99e3e69711" category="cell">在使用 QLogic QLE2742 光纤通道（ FC ）主机总线适配器（ HBA ）的 Red Hat Enterprise Linux （ RHEL ） 7.5 内核上执行存储故障转移操作期间，由于内核发生崩溃，发生内核中断。内核崩溃导致 RHEL 7.5 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核崩溃将生成位于 /var/crash/ 目录中的 vmcore 文件。您可以分析 vmcore 文件以确定崩溃的发生原因。在这种情况下，发生 QLogic QLE2742 HBA 事件的存储故障转移时， "native_queued_spin_lock_slowpath+464" 模块将受到影响。您可以通过查找以下字符串在 vmcore 文件中查找此事件： " [Exception RIP ： native_queued_spin_lock_slowpath+464]" 内核中断后，您可以重新启动主机操作系统并恢复操作系统，然后根据需要重新启动应用程序。</block>
  <block id="fd404e036f03a645eb47146f542e3560" category="inline-link-macro">1559050</block>
  <block id="f2b75d249be3b2d6ef9ee986f70a4904" category="cell"><block ref="f2b75d249be3b2d6ef9ee986f70a4904" category="inline-link-macro-rx"></block></block>
  <block id="ca04edb5871b22fb77d8fe405800b5aa" category="inline-link-macro">1146898</block>
  <block id="682e4a71760a5129450fd59e2e95f3c4" category="cell"><block ref="220f7a19228a0baba7045dc91e92095a" category="inline-link-macro-rx"></block></block>
  <block id="49aace017ee0842a9697ff4e8796b414" category="cell">在存储故障转移操作期间，使用 Emulex HBA 的 RHEL 7.5 会发生内核中断</block>
  <block id="cd254c710e508f1521cd808f014d9514" category="cell">在使用 Emulex LPe32002 M2 32 Gb FC 主机总线适配器（ HBA ）的 Red Hat Enterprise Linux （ RHEL ） 7.5 系统上执行存储故障转移操作期间，内核发生中断。内核中断会导致操作系统重新启动，进而导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/ 目录下生成 vmcore 文件。您可以使用 vmcore 文件确定故障的发生原因。在以下示例中，您可以在 "lpfc_HBA_clean-txcmplq+368" 模块中看到中断。此中断会记录在包含以下字符串的 vmcore 文件中： " [Exception RIP ： lpfc_HBA_clean-txcmplq+368]" 内核中断后，重新启动主机操作系统以恢复操作系统。根据需要重新启动应用程序。</block>
  <block id="60d9cbffde4942666204f880d528d99d" category="inline-link-macro">1554777</block>
  <block id="57e599b93e06cf9786582520ac0bc21d" category="cell"><block ref="57e599b93e06cf9786582520ac0bc21d" category="inline-link-macro-rx"></block></block>
  <block id="df638353a182a7918b8592fc949dcf8c" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.4</block>
  <block id="35764b35c24428477e00e911d5e66bbe" category="doc">将 Red Hat Enterprise Linux 7.4 与 NetApp ONTAP 结合使用</block>
  <block id="6d9367bff959eeca53afc4e48b616f9e" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.4 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="f5bd1c87a82329c908a6a69f3a08446a" category="paragraph">RHEL 7.4 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="616c70c8118c8dd6fcab27eaebd42bdf" category="summary">介绍如何使用 ONTAP 为 SUSE Linux Enterprise Server 15 SP1 配置 NVMe/FC</block>
  <block id="1793cac86fac919fc2d9ce3ee8be0a5b" category="doc">适用于采用 ONTAP 的 SUSE Linux Enterprise Server 15 SP1 的 NVMe/FC 主机配置</block>
  <block id="583e457484849f189a3e543adfcbfa01" category="paragraph">以下版本的 ONTAP 9.6 或更高版本支持 NVMe/FC ：</block>
  <block id="f2803bf30a3eaf1cf725f98652c23d14" category="list-text">SLES15 SP1</block>
  <block id="b8bcc67e9c36e9d4f18d613df77d7151" category="paragraph">无NVMe-CLI 软件包中包含原生 NVMe/FC 自动连接脚本。您可以在 SLES15 SP1 上使用原生收件箱 lpfc 驱动程序。</block>
  <block id="2faf433f2b14b03d43c24261953419bc" category="list-text">升级到建议的 SLES15 SP2 MU 内核</block>
  <block id="c7f1791a3f59c536386990c900c326c1" category="list-text">升级到建议的 NVMe-CLI MU 版本。</block>
  <block id="bc22120b8e6d0a4466dfd9ad5afc5302" category="paragraph">此 NVMe-CLI 软件包包含原生 NVMe/FC 自动连接脚本，因此您无需在 SLES15 SP1 主机上安装 Broadcom 提供的外部 NVMe/FC 自动连接脚本。此软件包还包括用于为 NVMe 多路径启用轮循负载平衡的 ONTAP udev 规则以及用于 ONTAP 设备的 NetApp 插件。</block>
  <block id="3fe41fe376a1341c3fa6f7fc3469a815" category="list-text">在 SLES15 SP1 主机上，检查位于 ` /etc/nve/hostnqn` 的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上对应子系统的主机 NQN 字符串匹配。例如：</block>
  <block id="ee2f5b4a1ef164e582aea7f06ef626bc" category="list-text">验证您使用的是建议的 Broadcom lpfc 固件和原生收件箱驱动程序版本。</block>
  <block id="039c572446bfd0a2b1ec8e52fc45283c" category="summary">介绍如何将 CentOS 6.9 与 ONTAP 结合使用</block>
  <block id="473b0a13f88c4ec4d764633d7504c8d6" category="doc">将 CentOS 6.9 与 NetApp ONTAP 结合使用</block>
  <block id="82449d0fd1c4caa6f1316fc8c60a0965" category="paragraph">对于 CentOS 6.9 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.9 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="4c8b41567795f35c88d1ebcfb4c0daec" category="paragraph">CentOS 6.9 操作系统经过编译，可以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="9c5b436e1bb8a6899180fe9890e5395b" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="6381fe6a72f9bd9f067a0ec390d2a8fb" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.9 。</block>
  <block id="7b226a13926b533ec9331dd4d86cd914" category="summary">介绍如何将 CentOS 6.7 与 ONTAP 结合使用</block>
  <block id="e072e02d47be2b995212bae916981ccc" category="doc">将 CentOS 6.7 与 NetApp ONTAP 结合使用</block>
  <block id="2a1ab1135667d6dc77c69e8562aa36e0" category="paragraph">对于 CentOS 6.7 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.7 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="eb694d82bb8432a9005a1a1f219b1fa0" category="paragraph">系统会对 CentOS 6.7 操作系统进行编译，以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="9d2a87ba78cec8237c139f77ffb44261" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="fd679b4991af24edfd6d66f5cbc5db76" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.7 。</block>
  <block id="79e721357e358d77c4700c25c863fc37" category="doc">ONTAP SAN 主机配置</block>
  <block id="a76193f5d9397d9c49ca283a20ccf649" category="inline-link-macro">《 SAN 管理指南》</block>
  <block id="8cb9ee34636093f5ba25008ebc7b7287" category="inline-link-macro">《 SAN 配置指南》</block>
  <block id="f75fbeea110530ab4a9306fd42a5e085" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 6.8</block>
  <block id="e42b8222d080edbca329cec5517236ac" category="doc">将 Oracle Linux 6.8 与 NetApp ONTAP 结合使用</block>
  <block id="c2c3cb3deab4f22710adbed9c6148ed1" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="0da8e8d8e04d92cff39dc5df78f41efc" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="f554c70908c90cf2ddb8539029693dc9" category="paragraph">对于 Oracle Linux 6.8 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.8 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="6485c78f22d3f3aa24bf7cbcea864cb3" category="paragraph">Oracle Linux 6.8 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="63d592aa66febad03a4811111b338916" category="admonition">要配置 Oracle Linux 6.8 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="1d07883740b2178a6c8bf634ff911c00" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.8 。</block>
  <block id="4e93000b6ea11a0869ed53df589cdd71" category="paragraph">Oracle 6.8 没有已知问题。</block>
  <block id="cd78cb35643e7fcdb41ef3474518e9b9" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="7703b3b38de881e061b6dbcbbcaf9f81" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.8 。</block>
  <block id="952f921f0c7f4028f0bd8e1a05cade7b" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 15</block>
  <block id="1c389a640306f4b4f96132d621968dc2" category="doc">将 SUSE Linux Enterprise Server 15 与 NetApp ONTAP 结合使用</block>
  <block id="4b1a408f9163a3e5b5c1815fd26b6b6e" category="paragraph">对于 SUSE Linux Enterprise Server 15 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 15 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="12d4cb4cb600a6549e54fa2dbc3f096b" category="paragraph">对 SUSE Linux Enterprise Server 15 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="9eb138f8329b6a05b2da910e54b750c9" category="inline-link-macro">1154309</block>
  <block id="1e45eb414e878e896ff6c8568d44aaed" category="cell"><block ref="409bdf20edf896ce4497acd46087929e" category="inline-link-macro-rx"></block></block>
  <block id="4ccdcef8fc98cb6452f9ba7aa1df1c0c" category="cell">重新启动后，映射了 20 个以上 LUN 的 SLES 15 主机可能会进入维护模式</block>
  <block id="c6bc802c921069bf472f1e8359672c59" category="cell">重新启动后，映射了 20 个以上 LUN 的 SLES 15 主机可能会进入维护模式。维护模式将变为单用户模式，并显示以下消息： `为维护提供 root 密码（或按 Control-D 继续）`</block>
  <block id="62dd7fb15e47b2ae7ac0c8828a09368e" category="inline-link-macro">1104173</block>
  <block id="fe5f3cc9f696069f06b3705195c48a2c" category="cell"><block ref="fe5f3cc9f696069f06b3705195c48a2c" category="inline-link-macro-rx"></block></block>
  <block id="bea05db7b205cebd49d85c581b86c97e" category="summary">提供有关 Veritas Infoscale 6 系列版本的 ONTAP SAN 主机配置设置的指导</block>
  <block id="018e7312915cc7977d800bfc07ff8e98" category="doc">将 Veritas Storage Foundation 6 for Linux 与 NetApp ONTAP 结合使用</block>
  <block id="736c980a1fb2f447faa0dedf6080305f" category="paragraph">本文档将为采用 FC ， FCoE 和 iSCSI 协议的 Red Hat Enterprise Linux 和 Oracle Linux （基于 RHCK ）平台的 Veritas Storage Foundation 6 系列版本提供有关 ONTAP SAN 主机配置设置的指导。</block>
  <block id="5116d27ab3c67a2413a9afe024b82a38" category="summary">如何使用 ONTAP 为 RHEL 8.3 配置 NVMe/FC 主机</block>
  <block id="af59960049c1f2bff52a1746f8d7c912" category="doc">适用于采用 ONTAP 的 RHEL 8.3 的 NVMe/FC 主机配置</block>
  <block id="c7bc96121734b19b104696509562ddf4" category="paragraph">对于 RHEL 8.3 ，默认情况下，内核 NVMe 多路径保持禁用状态。因此，您需要手动启用它。下一节 " 在 RHEL 8.3 上启用 NVMe/FC " 介绍了执行此操作的步骤。</block>
  <block id="23cd3fb20334805933445d4e9e38f375" category="list-text">在服务器上安装 Red Hat Enterprise Linux 8.3 GA 。</block>
  <block id="a5846cf11c0c17a2d80c96a138e56624" category="paragraph">如果使用 `yum update/upgrade` 从 RHEL 8.2 升级到 RHEL 8.3 ，则您的 ` /etc/nve/host*` 文件可能会丢失。要避免文件丢失，请执行以下操作：</block>
  <block id="d72d2f5661cb55b44d10f141c8b04ac2" category="list-text">安装完成后，验证您是否正在运行指定的 Red Hat Enterprise Linux 内核。</block>
  <block id="4ffc174cb352ed15091d63a9416ca2ed" category="list-text">在 RHEL 8.3 主机上，检查 /etc/nve/hostnqn 上的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="ebee10e27543a00ec2dbb31bf502034d" category="admonition">如果您要在同一个同时存在的 RHEL 8.3 主机上同时运行 NVMe 和 SCSI 流量，建议您分别对 ONTAP 命名空间使用内核 NVMe 多路径，对 ONTAP LUN 使用 dm-multipath 。您还应将 dm-multipath 中的 ONTAP 命名空间列入黑名单，以防止 dm-multipath 声明这些命名空间设备。为此，您可以将 `enable_Foreign` 设置添加到 /etc/multipath.conf 中，如下所示。</block>
  <block id="2f6bd60386ab0902a709ffef7502ea68" category="list-text">验证是否已在主机上创建并正确发现命名空间。</block>
  <block id="fde32bae28ce21f6dcfb99eaf23d2e50" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 12 SP1</block>
  <block id="b395bff84d13aa48aed848b2cd844a1c" category="doc">将 SUSE Linux Enterprise Server 12 SP1 与 NetApp ONTAP 结合使用</block>
  <block id="a25366ea3f2c10a10d1307811212c68a" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="027e0a464cdf00de4a711147d832f324" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="082dbb21e0b198384fe053b2d5bdb626" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP1 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 12 SP1 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="b3c2b9ddd28388c4e7fda075aa483125" category="paragraph">对 SUSE Linux Enterprise Server 12 SP1 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="b11a98375486489cb1837d76fcae9c17" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP1 ，没有已知问题。</block>
  <block id="579d7a7046fd4b01f78000a1f5680baa" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.5</block>
  <block id="763195af6d7b2c38b0c9682c0c9d8a42" category="doc">将 Red Hat Enterprise Linux 6.5 与 NetApp ONTAP 结合使用</block>
  <block id="084dc848480db9d8a35c6d6e64c686b1" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="c79d2b225d88e90c0622e3c5d7a524a7" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="85e17eb00215b5ddc7559e4c06c95724" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.5 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.5 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="9ae9889f119b7b05c0dd62bfe7085ce7" category="paragraph">RHEL 6.5 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="a59016517c085a5d945f2e32273f6c6f" category="inline-link-macro">760515</block>
  <block id="243da89cf867b347c2cdf3a124dd79b3" category="cell"><block ref="7ebb9447894bd2a8ae903079bdb0ba32" category="inline-link-macro-rx"></block></block>
  <block id="35ff8a31e7e43ab2149f0953acd85e95" category="cell">在存储故障转移操作期间，在 RHEL 6.5 8G Qlogic FC SAN 主机中观察到路径故障或主机挂起</block>
  <block id="5fb0af32d419d1ce3bf31b76b50c3d02" category="cell">在存储故障转移操作期间，在 RHEL 6.5 8G Qlogic FC SAN 主机中观察到路径故障或主机挂起。</block>
  <block id="67305ea16a6e2e1c78449c88064683b4" category="inline-link-macro">1033136</block>
  <block id="dbdfdf859991c66ee50d1334ac653dfd" category="cell"><block ref="dbdfdf859991c66ee50d1334ac653dfd" category="inline-link-macro-rx"></block></block>
  <block id="28701edb25458185d37b2540356e6277" category="inline-link-macro">758271</block>
  <block id="50cd670c75298aa10c9b84b4b7994363" category="cell"><block ref="b3048e7a899eced67978d5ffa9d56597" category="inline-link-macro-rx"></block></block>
  <block id="89c1277823b0a1248fc95de91b1ea803" category="cell">使用自定义 initrd 启动时无法加载 bnx2 固件（ dracut -f ）</block>
  <block id="8c8f585604e1606fc35bdcace1522cf7" category="cell">Broadcom NetXtreme II 千兆控制器端口无法 ping ，因为在使用自定义 initrd 启动期间无法加载 bnx2 固件。</block>
  <block id="30b018ea972b48ea57b46bbcdce7884d" category="inline-link-macro">1007463.</block>
  <block id="890ba67b16f690b59b143048151ee638" category="cell"><block ref="890ba67b16f690b59b143048151ee638" category="inline-link-macro-rx"></block></block>
  <block id="16840b9e6effbc5ab69dd8881a6ccfab" category="inline-link-macro">799394.</block>
  <block id="654eadcb200b9ffa725b02fdd8afc0a5" category="cell"><block ref="e2a85abec4200c0008487aa3cd10ccd6" category="inline-link-macro-rx"></block></block>
  <block id="8923d2902e44fe7f3f8794dea2c1ed47" category="cell">RHEL 6U5 ：在执行存储故障转移操作的 I/O 期间，会出现 Emulex 16G FC （ LPe16002B-M6 ）主机崩溃</block>
  <block id="89bd24c458ce5bb4aef9ad351b120d0a" category="cell">在执行存储故障转移操作的 I/O 期间，出现 16G FC Emulex （ LPe16002B-M6 ）主机崩溃。</block>
  <block id="fdea35086b1cb85703eec6e735c8660c" category="inline-link-macro">1063699</block>
  <block id="e916b41452a9d7ecb1eef401dbf60942" category="cell"><block ref="e916b41452a9d7ecb1eef401dbf60942" category="inline-link-macro-rx"></block></block>
  <block id="9ff744f86f7d5b8f9aa97a474d022d3d" category="inline-link-macro">786571</block>
  <block id="cca285e74c2f9677ba98375d8baef66b" category="cell"><block ref="1f0bad4c5ece7b0a35dcbf01ee955754" category="inline-link-macro-rx"></block></block>
  <block id="281ed23f425fc37d1a62ffd7bce04ae9" category="cell">在存储故障转移操作的 I/O 期间，在 RHEL 6.5 中观察到 QLogic FCoE 主机挂起 / 路径故障</block>
  <block id="205f0b8a90fa3a29cfd7137d063a9ef6" category="cell">在存储故障转移操作的 I/O 期间，在 RHEL 6.5 中观察到 QLogic FCoE （ QLE8242 ）主机挂起 / 路径故障。在这种情况下，您可能会看到以下消息： "mailbox cmd timeout occurred ， cmd=0x54 ， MB[0]=0x54 。计划 ISP 中止 " 消息，此消息会导致主机挂起 / 路径故障。</block>
  <block id="b25d016ccd715526c7cee690c3e5367b" category="inline-link-macro">1068619</block>
  <block id="cf515b87cdcb91333eba576e0110d793" category="cell"><block ref="cf515b87cdcb91333eba576e0110d793" category="inline-link-macro-rx"></block></block>
  <block id="ac143edc551ca0f939bb8e4b680e5ba4" category="inline-link-macro">801580</block>
  <block id="963f318de0bb50b8c58b27664dff7bd9" category="cell"><block ref="bebaa8c57093221d69ca3e75cf045786" category="inline-link-macro-rx"></block></block>
  <block id="46b5e459ba83be6f3933222f42a4caac" category="cell">在存储故障转移操作的 I/O 期间，在 RHEL 6.5 中观察到 QLogic 16G FC 主机挂起或路径故障</block>
  <block id="a62e4298a14b3b2b0eed1e03a1901a18" category="cell">在存储故障转移操作期间， QLogic 16G FC 主机（ QLE2672 ）会出现 600 秒以上的 I/O 延迟。在这种情况下，将显示以下消息： "Failed mbx[0]=54 ， MB1]=0 ， MB2]=76b9 ， MB3]=5200 ， cmd=54 "</block>
  <block id="b6e351fa03836020bf63aed76e03399a" category="inline-link-macro">1068622</block>
  <block id="480c1af29fcb3cc17dbe8a841a6a3c06" category="summary">介绍如何在 ONTAP 中使用 CentOS 8.2</block>
  <block id="2257e3be4a13feb6dc7ad6ff9a38404a" category="doc">将 CentOS 8.2 与 NetApp ONTAP 结合使用</block>
  <block id="6cb3a6c6bbd7cf8c1ab700ad4342bed1" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="5791c19afbac364267fc3567cae2ba34" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="6d0ef457a6d83b808baa2444f1d454db" category="paragraph">对于 CentOS 8.2 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 8.2 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="2f01fcc81601edf5eeb905e4651ff873" category="paragraph">系统会对 CentOS 8.2 操作系统进行编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="f1beda93cf92219b8b55ae973eac7daa" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="840d5abfe44b15b4222ea5c534ce82a9" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.2 。</block>
  <block id="6ef4ca5514fc3496c82be53f21ea03d2" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.3</block>
  <block id="cba10735819f3a0f3705658cb271e05c" category="doc">将 Red Hat Enterprise Linux 7.3 与 NetApp ONTAP 结合使用</block>
  <block id="3b8e165405f5e10d3920f8e146dde743" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="f8a436a3c9bbe06e4f88036e4f03a4f5" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="c0ee48ea1d7622a5cfe5ade7dd37cedc" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.3 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.3 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="89bd48c55808bc62ab1163663f834231" category="paragraph">RHEL 7.3 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="cec602aaab3b2957e3f2c033a88821aa" category="paragraph">RHEL 7.3 没有已知问题。</block>
  <block id="c11d050c295bbaf2511d25fa05b61010" category="summary">介绍如何将 CentOS 6.5 与 ONTAP 结合使用</block>
  <block id="fdd111253a638fd9aeea75a310c033ea" category="doc">将 CentOS 6.5 与 NetApp ONTAP 结合使用</block>
  <block id="13d3312f60a1a5da3e4a008267f577b7" category="paragraph">对于 CentOS 6.5 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.5 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="81f9e960f5644067d610e1042c8ad0af" category="paragraph">系统会对 CentOS 6.5 操作系统进行编译，以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="e79780a12540c43b1147fb9232479dc4" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="0158dc1052dab85818a92b1a427c95b7" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.5 。</block>
  <block id="b277f2029ada9ac25bce475d62557cb4" category="summary">介绍如何在 ONTAP 中使用 CentOS 7.9</block>
  <block id="9a57d403bb39ff42c58535b5695a4d75" category="doc">将 CentOS 7.9 与 NetApp ONTAP 结合使用</block>
  <block id="e6134970e8d5973c94d66165bc3ebc13" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="5564eab34da8df006dd99a2c2ee21d68" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="266073eadfa1373804ed4272aa64c5e3" category="paragraph">对于 CentOS 7.9 ，必须存在 /etc/multipath.conf 文件，但不需要对该文件进行特定更改。CentOS 7.9 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="225338acf861e72e16eabfde3dbe33e2" category="paragraph">CentOS 7.9 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="d7b453b4900f18089bb8c7a53ea15e98" category="summary">Windows Unified Host Utilities 包含一个安装程序，用于设置所需的 Windows 注册表和 HBA 参数，以便 Windows 主机正确处理 NetApp ONTAP 和 E 系列平台的存储系统行为。</block>
  <block id="e683b28420e1e87e2aac3f60c35415ee" category="doc">Windows Unified Host Utilities 7.1</block>
  <block id="ec95eac776092e95211deff10c247905" category="section-title">什么是 Windows Host Utilities</block>
  <block id="012fc5e7b5d12476063fc551039a602b" category="paragraph">Windows Unified Host Utilities 包含一个安装程序，用于设置所需的 Windows 注册表和主机总线适配器（ HBA ）参数，以便 Windows 主机正确处理 NetApp ONTAP 和 E 系列平台的存储系统行为。</block>
  <block id="8c01160fc148a3b3ea07eac8a6f91840" category="paragraph">安装 Host Utilities 软件时，安装程序会设置所需的 Windows 注册表和主机总线适配器（ HBA ）参数。</block>
  <block id="d350f9964b658ccb5399ae6c7b4e75b4" category="paragraph">Windows 主机计算机上安装了以下程序和文件。默认目录为 `C ： \Program Files\NetApp\Windows Host Utilities` 。</block>
  <block id="95c50c7cc68e399ac5540898dfd06820" category="cell">计划</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="da226a3aa3f418d2e6657fdcea27e258" category="cell">`` m é exhba.reg</block>
  <block id="67d0bd85076d419d734cf91324a6592a" category="cell">故障排除程序；只有在技术支持人员要求时，才运行此程序。</block>
  <block id="b674ce74118c070ef5be8a4e63ef531b" category="cell">` \NetAppQCL1\fcconfig.exe`</block>
  <block id="dbc044c0fb6f7e335a20801bfc0f48d4" category="cell">由安装程序用于设置 HBA 参数。</block>
  <block id="e76ee25d273df2d7635b388feab260ba" category="cell">` \NetAppQCL1\fcconfig.ini`</block>
  <block id="eeca789d03a65dbfd928a28fa9ca3aab" category="cell">` \NetAppQCLI\* 。 *`</block>
  <block id="cd3fbde67436c3c16afa2f63ebc17946" category="cell">由安装程序用于设置 QLogic 光纤通道 HBA 参数。</block>
  <block id="271e95bb5110c34300c9e4e30ad2991d" category="cell">`sA_version.exe`</block>
  <block id="ab595e8644eb54589f5d769321b11cc4" category="cell">显示 Host Utilities 和光纤通道 HBA 的版本。</block>
  <block id="86d6299bc9dab5266c5f61d0a0769264" category="section-title">Host Utilities 支持的配置</block>
  <block id="700f2514d3d4cc2ed02cb06d8b922b2d" category="paragraph">在安装 Host Utilities 之前，您必须验证 Host Utilities 版本是否支持主机和存储系统配置，以便正确安装软件。</block>
  <block id="84d4097a38ff264dfaf97e1cec24b529" category="list-text">在中检查支持的配置<block ref="49d81d143d5c8b402603532056154481" category="inline-link-rx"></block>。</block>
  <block id="29cd26a0b6469ed25fabeac1805eb8a6" category="list-text">添加 iSCSI 或 FCP 许可证并启动目标服务。</block>
  <block id="185e819968cd77ce618663a3c7abd72d" category="paragraph">在使用 SANtricity 存储管理器的 E 系列存储系统上，光纤通道和 iSCSI 协议不需要许可证。</block>
  <block id="dafd8a261adaf4e33c8e8c74baa71755" category="list-text">验证布线</block>
  <block id="15ced0ef88b79c27417b95cc4a6474e1" category="inline-link">《 E 系列硬件布线指南》</block>
  <block id="cafd168860d065bea642129c676fb74b" category="paragraph">请参见<block ref="2744dab6503b7f979c6d72cc92b97ead" category="inline-link-rx"></block> 适用于您的 ONTAP 或版本<block ref="7643eb4b4270eeecb6e78fb73c2b55ef" category="inline-link-rx"></block> 有关布线和配置的详细信息。</block>
  <block id="2e008f03754d21e3e30e89cf876e8ee9" category="paragraph">安装并配置一个或多个受支持的光纤通道主机总线适配器（ HBA ），以便通过光纤通道连接到存储系统。</block>
  <block id="e587941559542f4bb52a631692177820" category="paragraph">Windows Host Utilities 安装程序可设置所需的光纤通道 HBA 设置。</block>
  <block id="c3d598ac12a38035761ac67dd2d3b26c" category="admonition">请勿手动更改 HBA 设置。</block>
  <block id="ecf59f8212801769d724cbb802cb7561" category="list-text">按照 HBA 供应商提供的说明安装一个或多个受支持的光纤通道主机总线适配器（ HBA ）。</block>
  <block id="e7577cd6836843159bd5123f9ac4ec5b" category="list-text">获取受支持的 HBA 驱动程序和管理实用程序，并按照 HBA 供应商提供的说明进行安装。</block>
  <block id="3e91c57c67e020fa2082b3156c291656" category="list-text">将 HBA 连接到光纤通道交换机或直接连接到存储系统。</block>
  <block id="da5fa056b637a7c594dc5b4948883a78" category="list-text">根据您的光纤通道交换机文档在光纤通道交换机上创建分区。</block>
  <block id="8ba8e9600aa5fe1856a6c832a6ffbf24" category="list-text">对于 ONTAP ，请按 WWPN 对交换机进行分区。请务必使用 LIF 的 WWPN ，而不是存储控制器上物理端口的 WWPN 。有关详细信息，请参见<block ref="2744dab6503b7f979c6d72cc92b97ead" category="inline-link-rx"></block>。</block>
  <block id="cba7a46b47ee782d37f614612d6714bf" category="paragraph">安装程序将安装 Host Utilities 软件包并设置 Windows 注册表和 HBA 设置。</block>
  <block id="e7d199a440305344018a3dcee24603f3" category="paragraph">您必须指定在安装 Windows Unified Host Utilities 软件包时是否包括多路径支持。安装程序将提示您选择以下选项。您也可以从 Windows 命令提示符处运行静默（无人参与）安装。</block>
  <block id="76969a36155d2f41fc6cc3bd3faff244" category="list-title">多路径支持</block>
  <block id="dc383c9589c53093cde4432d5696127b" category="list-text">如果从 Windows 主机或虚拟机到存储系统的路径不止一条，请选择 MPIO 。</block>
  <block id="fbd31ea3fdae76c6a359637b72bf307f" category="list-text">只有在使用存储系统的单一路径时，才选择 no MPIO 。</block>
  <block id="10ec3af27fbabd40ad7f78d2ae382eab" category="list-text">MPIO 选项不适用于 Windows XP 和 Windows Vista 系统；这些子操作系统不支持多路径 I/O 。</block>
  <block id="2bda8bdf9c148a3475b6419dbef7b61e" category="list-text">对于 Hyper-V 子系统，如果选择多路径支持，则原始（直通）磁盘不会显示在子操作系统中。您可以使用原始磁盘，也可以使用 MPIO ，但不能在子操作系统中同时使用这两者。</block>
  <block id="7adf526813192a4918ba930c993f4b28" category="paragraph">要以交互方式安装 Host Utilities 软件包，您必须运行 Host Utilities 安装程序并按照提示进行操作。</block>
  <block id="c59a9f651efe466b52d6d9b22a24e7e3" category="list-text">从下载可执行文件<block ref="3725c06f412bedb14ffd610de312875d" category="inline-link-rx"></block>。</block>
  <block id="df776515e4da3918278817418cdc66da" category="list-text">更改为下载可执行文件的目录。</block>
  <block id="b7257ab94652805de6957d07e5e43772" category="list-text">运行 `NetApp_windows_host_utilities_7.1_x64` 文件，然后按照屏幕上的说明进行操作。</block>
  <block id="257dcf2363da5a069ec4e8bae654f70b" category="list-text">出现提示时重新启动 Windows 主机。</block>
  <block id="a2436a786307cd54318e85b5df862902" category="list-text">您可以通过在 Windows 命令提示符处输入相应的命令来执行 Host Utilities 的静默（无人参与）安装。</block>
  <block id="75c7a353b83869ae4b4cb9f9fb69e5e6" category="list-text">Host Utilities 安装包必须位于 Windows 主机可访问的路径中。</block>
  <block id="2239414c285fcd71ad8b61a344213951" category="list-text">按照以交互方式安装 Host Utilities 的说明获取安装包。</block>
  <block id="9b76f3f887602b99202856f7dccbdae9" category="list-text">安装完成后，系统将自动重新启动。</block>
  <block id="bc0d066b39cdd08b4a6f1bd3b3724612" category="list-text">在 Windows 命令提示符处输入以下命令：</block>
  <block id="eb9c3c759bfa111a0f1d2e469d521073" category="paragraph">`msiexec /i installer.msi /quiet multipath= ｛ 0` 1 ｝ [INSTALLDIR=inst_path]</block>
  <block id="65ebcf2c43da305d0a2363063307e578" category="list-text">其中， installer 是 CPU 架构的 ` .msi` 文件的名称；</block>
  <block id="5f14b300c5e18c32b0b38aa5bf839405" category="list-text">多路径用于指定是否安装 MPIO 支持。允许值为 0 表示否， 1 表示是</block>
  <block id="d2be6501ceb690ba78b41107c58d6583" category="list-text">`inst_path` 是安装 Host Utilities 文件的路径。默认路径为 `C ： \Program Files\NetApp\Windows Host Utilities\` 。</block>
  <block id="890a07d387ffd294a936bcac066a8ae6" category="admonition">要查看用于日志记录和其他功能的标准 Microsoft 安装程序（ MSI ）选项，请在 Windows 命令提示符处输入 `msiexec /help` 。例如： `msiexec /i install.msi /quiet /l* v &lt;install.log&gt; LOGVERBOSE=1`</block>
  <block id="7bb379db3ee977ec330c6d5473d7840e" category="paragraph">新的 Host Utilities 安装包必须位于 Windows 主机可访问的路径中。按照以交互方式安装 Host Utilities 的说明获取安装包。</block>
  <block id="1190124555424f6326b153d14c7adeb6" category="list-text">运行可执行文件并按照屏幕上的说明进行操作。</block>
  <block id="2504be0abfa0e38f5e8ec8a80a553f1c" category="list-text">重新启动后检查主机实用程序的版本：</block>
  <block id="66781c83be9419c35d019947ae0068ec" category="list-text">打开 * 控制面板 * 。</block>
  <block id="cebe6c0d66495ac766f2ce01667acc64" category="list-text">转至 * 程序和功能 * 并检查主机实用程序版本。</block>
  <block id="c80764d9771483d83514d497263d6330" category="paragraph">您可以通过在 Windows 命令提示符处输入相应的命令来对新的主机实用程序执行静默（无人值守）安装。New Host Utilities 安装包必须位于 Windows 主机可访问的路径中。按照以交互方式安装 Host Utilities 的说明获取安装包。</block>
  <block id="bcc399c91db54844c3b376842a4f3c86" category="list-text">其中 `installer` 是 CPU 架构的 ` .msi` 文件的名称。</block>
  <block id="c178dcdfca17ddc357e6800e5e2c4673" category="paragraph">您可以使用 Host Utilities 安装程序的修复选项更新 HBA 和 Windows 注册表设置。您可以通过交互方式或从 Windows 命令行删除 Host Utilities 。</block>
  <block id="7c92b3f845b88c515561fb27069fe2b1" category="paragraph">修复选项可使用所需设置更新 Windows 注册表和光纤通道 HBA 。您也可以完全删除 Host Utilities 。</block>
  <block id="711138f720855df955713474378ff64f" category="list-text">打开 Windows * 程序和功能 * （ Windows Server 2012 R2 ， Windows Server 2016 ， Windows Server 2019 ）。</block>
  <block id="48f1bd432df23e2412cf8104e6fde4be" category="list-text">选择 * NetApp Windows Unified Host Utilities* 。</block>
  <block id="e825f597d53c4a593117f3470853a08a" category="list-text">单击 * 更改 * 。</block>
  <block id="f0b103058dcb98efdefadbb3e8f5dac1" category="list-text">根据需要单击 * 修复 * 或 * 删除 * 。</block>
  <block id="dfeda2d1e42f7611b114b2bfaff373fc" category="list-text">按照屏幕上的说明进行操作。</block>
  <block id="b3feb76448a84d7100b57e2a2f35a0ee" category="paragraph">修复选项可使用所需设置更新 Windows 注册表和光纤通道 HBA 。您也可以从 Windows 命令行中完全删除 Host Utilities 。</block>
  <block id="15ad01350a70108c16a55f92e8c91669" category="list-text">在 Windows 命令行上输入以下命令以修复 Windows Host Utilities ：</block>
  <block id="f2826ecf8f19cfb5deadf4b1e5ad291b" category="paragraph">`msiexec ｛ /uninstall _ /f]installer.msi 【静默】`</block>
  <block id="9c4f8efeaa804092faa67574641a372f" category="list-text">` /uninstall` 将完全删除 Host Utilities 。</block>
  <block id="b831ff65280897d43b6fac3e31e0604b" category="list-text">` /f` 修复安装。</block>
  <block id="915015ac4efada43b59e22b377a82ed1" category="list-text">`installer.msi` 是系统上 Windows Host Utilities 安装程序的名称。</block>
  <block id="7e0565a4a74302c8f7e2cd160825c07a" category="list-text">` /quiet` 禁止所有反馈并自动重新启动系统，而不会在命令完成时提示。</block>
  <block id="9f547b1f13fcbcc85c2bfac948ab22c5" category="section-title">Host Utilities 使用的设置概述</block>
  <block id="de88a28104c34c8d8e951a1209f75c65" category="paragraph">Host Utilities 需要进行某些注册表和参数设置，以确保 Windows 主机正确处理存储系统行为。</block>
  <block id="fc1eab103910f76963711300b7186f19" category="paragraph">Windows Host Utilities 会设置一些参数，这些参数会影响 Windows 主机对数据延迟或丢失的响应方式。已选择特定值以确保 Windows 主机正确处理诸如将存储系统中的一个控制器故障转移到其配对控制器等事件。</block>
  <block id="0b0e389de02e676e0e3de42cd501cd45" category="paragraph">并非所有值都适用于 DSM for SANtricity 存储管理器；但是，由 Host Utilities 设置的值与 DSM for SANtricity 存储管理器设置的值之间的任何重叠都不会导致冲突。此外，还必须设置光纤通道和 iSCSI 主机总线适配器（ HBA ）的参数，以确保最佳性能并成功处理存储系统事件。</block>
  <block id="fe9fb808c16f5a907b39b3548539522a" category="paragraph">随 Windows Unified Host Utilities 提供的安装程序会将 Windows 和光纤通道 HBA 参数设置为支持的值。</block>
  <block id="3c70b56c859d8d696bc319cfcf9d537b" category="admonition">您必须手动设置 iSCSI HBA 参数。</block>
  <block id="4439527eb132f126a735a94659a5f9c4" category="paragraph">安装程序会根据您在运行安装程序时是否指定多路径 I/O （ MPIO ）支持来设置不同的值，</block>
  <block id="f0488f9e8cf9f3d88891f4c8d91b05b9" category="paragraph">除非技术支持指示您更改这些值，否则不应更改这些值。</block>
  <block id="598fbdd2730aa9cfacca22281fafa520" category="section-title">Windows Unified Host Utilities 设置的注册表值</block>
  <block id="7017566a83f86bbba07ccd8fd518746f" category="paragraph">Windows Unified Host Utilities 安装程序会根据您在安装期间所做的选择自动设置注册表值。您应了解这些注册表值，即操作系统版本。以下值由 Windows Unified Host Utilities 安装程序设置。除非另有说明，否则所有值均为十进制值。HKLM 是 HKEY_LOCAL_MACHINE 的缩写。</block>
  <block id="e5e8913907553117e947ccc75671f941" category="cell">注册表项</block>
  <block id="2f13ada49ba30a3f17abc7ff1c610656" category="cell">设置时</block>
  <block id="353a3cc2e6698fc1eca7603cde3ca48e" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \msdsm\Parameters \DsmMaximumRetryTimeDuringStateTransition</block>
  <block id="d3bb06aa2e617fef664d4f9ea219e26d" category="cell">如果指定了 MPIO 支持，并且您的服务器为 Windows Server 2008 ， Windows Server 2008 R2 ， Windows Server 2012 ， Windows Server 2012 R2 或 Windows Server 2016 ，除非检测到 Data ONTAP DSM</block>
  <block id="82f92b873b165010afb1e3db606cc578" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \msdsm\Parameters \DsmMaximumStateTransitionTime</block>
  <block id="aa20dc2a80a37d024aeb48f792ce37e7" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\msdsm \Parameters\DsmSupportedDeviceList</block>
  <block id="58964aa39a762d99f66ee51314c961fb" category="cell">"NETAPPLUN"</block>
  <block id="5330ff743abc3a4b257865183287aa0f" category="cell">指定 MPIO 支持时</block>
  <block id="d0a28883dd1fc332dcf82a6673d24ffd" category="cell">"NetApp LUN" ， "NetApp LUN C 模式 "</block>
  <block id="5346f07c778f5970107f06e3f1af09a7" category="cell">指定 MPIO 支持时，除非检测到 Data ONTAP DSM</block>
  <block id="d7cad002459f39c1bde6234b753a0c5e" category="cell">HKLM\SYSTEM\CurrentControlSet\Control\Class \ ｛ iscsi_driver_GUID ｝ \ instance_ID\Parameters \IPSecConfigTimeout</block>
  <block id="a850f8fb319cb62209243dbe93a5cdd9" category="cell">始终，除非检测到 Data ONTAP DSM</block>
  <block id="dc1bea75bf44cce26ab2c6df5bba3ece" category="cell">HKLM\SYSTEM\CurrentControlSet\Control \Class\ ｛ iscsi_driver_GUID ｝ \ instance_ID\Parameters\LinkDownTime</block>
  <block id="68eec46437c384d8dad18d5464ebc35c" category="cell">始终</block>
  <block id="becf02da1d9af97a9292d7eea910ac3f" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\ClusDisk \Parameters\ManagementDisksOnSystemBuses</block>
  <block id="c8f347aff5c67662d820a27c5021eb33" category="cell">HKLM\SYSTEM\CurrentControlSet\Control \Class\ ｛ iscsi_driver_GUID ｝ \ instance_ID\Parameters\MaxRequestHoldTime</block>
  <block id="89e3d18c3b3f499bebd524c9bb334742" category="cell">未选择 MPIO 支持时</block>
  <block id="ea23d71ca413d8da6e33909b84da6ff3" category="cell">HKLM\SYSTEM\CurrentControlSet \Control\MPDEV\MPIOSupportedDeviceList</block>
  <block id="c66323622511ad56b64e42a3c5feade2" category="cell">"NetApp LUN"</block>
  <block id="e962c68f0d8f1d2bd4f1d4f7c5dd119b" category="cell">如果指定了 MPIO ，则检测到 Data ONTAP DSM 除外</block>
  <block id="2ba400ac6429dac40a8811781fbb7d9a" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\MPIO \Parameters\PathRecoveryInterval</block>
  <block id="d645920e395fedad7bbbed0eca3fe2e0" category="cell">40</block>
  <block id="122f756d958c4fd93718850214575d23" category="cell">如果您的服务器仅为 Windows Server 2008 ， Windows Server 2008 R2 ， Windows Server 2012 ， Windows Server 2012 R2 或 Windows Server 2016</block>
  <block id="5d9d929fabe754a664cced2d121d7af6" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\MPIO \Parameters\PathVerifyEnabled</block>
  <block id="c46e5aca324b3fa3c4ceb95064d11946" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\msdsm \Parameters\PathVerifyEnabled</block>
  <block id="fffbdd4a3dfa058bd69689c2de4779da" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \msdsm\Parameters\PathVerifyEnabled</block>
  <block id="6412a0b6cdcbad1939509e595af744b7" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \msiscdsm\Parameters\PathVerifyEnabled</block>
  <block id="460231625b2999e369cf0a7cb9c0ae5d" category="cell">指定了 MPIO 支持且您的服务器为 Windows Server 2003 时，除非检测到 Data ONTAP DSM</block>
  <block id="1031348e7cc46631b2976574589f0d39" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\vnetapp \Parameters\PathVerifyEnabled</block>
  <block id="9e1414eb12c3bd0987c435d3f720b2a0" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\MPIO \Parameters\PDORemovePeriod</block>
  <block id="9b8619251a19057cff70779273e95aa6" category="cell">130</block>
  <block id="36ec4247ee48feada1fa7379fb3c98a6" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\msdsm \Parameters\PDORemovePeriod</block>
  <block id="2397ccdd042f3b53b8cb4af429e8b45e" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\msiscdsm \Parameters\PDORemovePeriod</block>
  <block id="16f4abcffd6607d2025d073012441a5c" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \vnetapp \Parameters\PDORemovePeriod</block>
  <block id="c49ca9f75f8af5262df8d91db8194f86" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \MPIO\Parameters\RetransyCount</block>
  <block id="1679091c5a880faf6fb5e6087eb1b2dc" category="cell">6.</block>
  <block id="3da35941df00b67052125f7367fe757a" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\msdsm \Parameters\RetransyCount</block>
  <block id="66b19d5e725ff124caf9fd18dac9ff74" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \msiscdsm\Parameters\RetransyCount</block>
  <block id="d869132de4d1117323541655c6e9f69b" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \vnetapp\Parameters\RetransyCount</block>
  <block id="50df24e16fcbbdd3d1ecc483c34342cb" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \MPIO\Parameters\RetransyInterval</block>
  <block id="74b9417aef19b6df4aefdba907d59f30" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \msdsm\Parameters\RetransyInterval</block>
  <block id="5945bff4ea07034f19a469d54aceb05d" category="cell">如果指定了 MPIO 支持，并且您的服务器为 Windows Server 2008 ， Windows Server 2008 R2 ， Windows Server 2012 ， Windows Server 2012 R2 或 Windows Server 2016 ，除非检测到 Data ONTAP DSM</block>
  <block id="4c4ac49fb73d4856f852917288069ccd" category="cell">HKLM\SYSTEM\CurrentControlSet\Services \vnetapp\Parameters\RetransyInterval</block>
  <block id="a5b83cd29ece8eb608d8f558a14aafd2" category="cell">HKLM\SYSTEM\CurrentControlSet \Services\disk\TimeOutValue</block>
  <block id="4637624d464362ff692d287b658a58ba" category="cell">如果未选择 MPIO 支持，除非检测到 Data ONTAP DSM</block>
  <block id="42dde1eb61f6c2638c5d044047417179" category="cell">HKLM\SYSTEM\CurrentControlSet\Services\MPIO \Parameters\UseCustomPathRecoveryInterval</block>
  <block id="46a467f98c686e7e623f63c2bcb194ea" category="cell">当您的服务器仅为 Windows Server 2008 ， Windows Server 2008 R2 ， Windows Server 2012 ， Windows Server 2012 R2 或 Windows Server 2016 时</block>
  <block id="c57dcf0db9f722653d2df0250b192c2f" category="inline-link">Microsoft 文档</block>
  <block id="820c80a71d25737a6640c8135c800297" category="section-title">Windows Host Utilities 设置的 FC HBA 值</block>
  <block id="9f76dab9681402d9cca8872103fdd39b" category="paragraph">在使用光纤通道的系统上， Host Utilities 安装程序会为 Emulex 和 QLogic FC HBA 设置所需的超时值。对于 Emulex 光纤通道 HBA ，在选择 MPIO 时，安装程序会设置以下参数：</block>
  <block id="fcadb00a391febcf36774dc51d9e5b31" category="paragraph">对于 Emulex 光纤通道 HBA ，如果未选择 MPIO ，安装程序将设置以下参数：</block>
  <block id="b2fb637fc5bd6712cb8f8bc692619e84" category="paragraph">对于 QLogic 光纤通道 HBA ，在选择 MPIO 时，安装程序会设置以下参数：</block>
  <block id="52e0c2835b567aeec0c16ec67a2c5b79" category="paragraph">对于 QLogic 光纤通道 HBA ，如果未选择 MPIO ，安装程序将设置以下参数：</block>
  <block id="db9c6223eee8c0b14343e2e99a36dcd1" category="admonition">根据程序的不同，这些参数的名称可能会略有不同。例如，在 QLogic QConvergeConsole 程序中，参数显示为 `Link down Timeout` 。Host Utilities `fcconfig.ini` 文件会将此参数显示为 `LinkDownTimeOut` 或 `MPioLinkDownTimeOut` ，具体取决于是否指定了 MPIO 。但是，所有这些名称都引用相同的 HBA 参数。</block>
  <block id="8f0fd19a2d99e6260c0b4e6513b7638c" category="inline-link">Emulex</block>
  <block id="bf37856a0dcc40508065787e2d49c8c3" category="inline-link">QLogic</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="section-title">故障排除</block>
  <block id="2c288505019ef3576beff6f1a1c6a2f6" category="paragraph">本节介绍 Windows Host Utilities 的一般故障排除技术。请务必查看最新的发行说明以了解已知问题和解决方案。</block>
  <block id="2ddc4523fe736e4292509794836285a1" category="list-title">可从不同方面确定可能的互操作性问题</block>
  <block id="963c33401c4acd634e6aee5648e2b28c" category="list-text">要确定潜在的互操作性问题，您必须确认 Host Utilities 支持主机操作系统软件，主机硬件， ONTAP 软件和存储系统硬件的组合。</block>
  <block id="e33fd839bd8799bfd9fb194c91913514" category="list-text">您必须查看互操作性表。</block>
  <block id="cb28bb27663be73e539138ce392b354b" category="list-text">您必须验证 iSCSI 配置是否正确。</block>
  <block id="214caa08b8ceb9d3ca15f7aa93d2c33e" category="list-text">如果重新启动后 iSCSI LUN 不可用，则必须验证目标是否在 Microsoft iSCSI 启动程序 GUI 的持久目标选项卡上列为持久目标。</block>
  <block id="e8197b03c53adb4c255babbea70b0dbb" category="list-text">如果使用 LUN 的应用程序在启动时显示错误，则必须验证是否已将这些应用程序配置为依赖于 iSCSI 服务。</block>
  <block id="7cfb60f9be60bdb510439f18ec6998be" category="list-text">对于运行 ONTAP 的存储控制器的光纤通道路径，您必须验证 FC 交换机是否使用目标 LIF 的 WWPN 进行分区，而不是使用节点上物理端口的 WWPN 进行分区。</block>
  <block id="1ecdb3fa7b640490717a296d259753d7" category="inline-link">Windows Host Utilities 发行说明</block>
  <block id="e96e50bb8a7d5f2a62a9ad0cd0c6527c" category="inline-link">Bug Online</block>
  <block id="5ffc88b316abd29a91a8fb106f64fd57" category="list-text">在高级搜索下的错误类型字段中，您应选择 iSCSI - Windows ，然后单击转到。您应重复搜索错误类型 FCP -Windows 。</block>
  <block id="ced4243fdbfe6d3a74734c24ffd00df8" category="list-text">您必须收集有关系统的信息。</block>
  <block id="7ecf9ab560fece14bab7a58f25439b02" category="list-text">记录主机或存储系统控制台上显示的所有错误消息。</block>
  <block id="68cbf857d8485f03797edab4de291207" category="list-text">收集主机和存储系统日志文件。</block>
  <block id="99685cd1c95ee76b57460b7e546cb7eb" category="list-text">记录问题的症状以及在问题出现之前对主机或存储系统所做的任何更改。</block>
  <block id="bd68ec6c51cae2556d9fd0a47c25a261" category="list-text">如果无法解决此问题，您可以联系 NetApp 技术支持。</block>
  <block id="6f4e4d9fbe846fd8bf7decf7dcffbd63" category="inline-link">NetApp 文档</block>
  <block id="69893000f4da30e1e42922cbcf8dac0e" category="inline-link">NetApp Bug Online</block>
  <block id="39aea57d05192500d96bea0e7cf2f41c" category="paragraph">在 FC 系统上安装所需的 Emulex 或 QLogic HBA 驱动程序期间，系统会检查多个参数，在某些情况下会对这些参数进行修改。</block>
  <block id="b65e3a71c2c6298818d74981c3e3d216" category="paragraph">如果检测到 MS DSM for Windows MPIO ，则 Host Utilities 会为以下参数设置值：</block>
  <block id="3986e9b1c8119799165486b5ff61b51e" category="list-text">LinkTimeOut —定义物理链路关闭后主机端口在恢复 I/O 之前等待的时间长度（以秒为单位）。</block>
  <block id="c991426a87b764ff929f88960ac7d7ef" category="list-text">NodeTimeOut —定义主机端口识别到目标设备连接已关闭之前的时间长度（以秒为单位）。</block>
  <block id="ab77ead701285f5c525a4af0d02d7113" category="paragraph">在对 HBA 问题进行故障排除时，请检查以确保这些设置具有正确的值。正确的值取决于两个因素：</block>
  <block id="7b89c0aff4542bf5f5ea1fc402d480ec" category="list-text">HBA 供应商</block>
  <block id="ae16ed955084b1c877e3a933f4fbfdc3" category="list-text">是否正在使用多路径软件（ MPIO ）</block>
  <block id="75dc39fa847b274e3577c0b41c12ca55" category="paragraph">您可以通过运行 Windows Host Utilities 安装程序的修复选项来更正 HBA 设置。</block>
  <block id="4a85dbbf9a9bc0625df7f37ec97b9783" category="paragraph">如果您使用的是光纤通道系统，则必须验证 Emulex HBA 驱动程序设置。HBA 上的每个端口都必须具有这些设置。</block>
  <block id="c6e28ac86a9fffeb9329e96a567e805d" category="list-text">打开 OnCommand 管理器。</block>
  <block id="97c9736a45363b1ba4f09672230268a7" category="list-text">从列表中选择相应的 HBA ，然后单击 * 驱动程序参数 * 选项卡。</block>
  <block id="3773b996b3769cafbcfc5f1ecd7c953c" category="paragraph">此时将显示驱动程序参数。</block>
  <block id="1e125df43a8afb849a779e9c69afe309" category="list-text">如果您使用的是 MPIO 软件，请确保您具有以下驱动程序设置：</block>
  <block id="b749b73c27456526a10c55204828881b" category="list-text">LinkTimeOut — 1.</block>
  <block id="31c853d9bed92673e0f4acf982b79b50" category="list-text">节点超时 - 10</block>
  <block id="ccced21e51a721c50f51f6c3f3036790" category="list-text">如果您不使用 MPIO 软件，请确保您具有以下驱动程序设置：</block>
  <block id="730d30c215230d17c52d7e401e2064f9" category="list-text">LinkTimeOut — 30</block>
  <block id="22548d7cd420698e76efb8e7d13153d9" category="list-text">节点超时 - 120</block>
  <block id="3767a34ee23bead3aa4d693d624cb2f4" category="paragraph">在 FC 系统上，您需要验证 QLogic HBA 驱动程序设置。HBA 上的每个端口都必须具有这些设置。</block>
  <block id="447ad67efb25e2f13e7339e054e28117" category="list-text">打开 QConvergeConsole ，然后单击工具栏上的 * 连接 * 。</block>
  <block id="f28b4049315bc495c21ad547c3409030" category="paragraph">此时将显示连接到主机对话框。</block>
  <block id="518a90c2bb0d9c12d36c28f38fcae755" category="list-text">从列表中选择相应的主机，然后单击 * 连接 * 。</block>
  <block id="8f994f7e0cf2a8fe9128d4b922dac2c8" category="paragraph">此时， FC HBA 窗格中将显示 HBA 列表。</block>
  <block id="76352d7f5b2348d9bb5e5a1059a29540" category="list-text">从列表中选择相应的 HBA 端口，然后单击 * 设置 * 选项卡。</block>
  <block id="c045ad99424e9ebd83c3e6363c3f2dcd" category="list-text">从 * 选择设置 * 部分中选择 * 高级 HBA 端口设置 * 。</block>
  <block id="e09b93f385fa0409f263a7fd81ad0fa0" category="list-text">如果您使用的是 MPIO 软件，请确保您具有以下驱动程序设置：</block>
  <block id="24a364002d65bca169e77468efd585e8" category="list-text">链路关闭超时（ linkdwnto ）— 1.</block>
  <block id="32b426d292728e3b54d4487c435db8bc" category="list-text">端口关闭重试计数（ portdwnrc ）— 10</block>
  <block id="cfeb5c5e90199d0ce83f16c370632d48" category="list-text">如果您不使用 MPIO 软件，请确保您具有以下驱动程序设置：</block>
  <block id="64e869d9ef872c0eb27623237f739ca1" category="list-text">链路关闭超时（ linkdwnto ）— 30</block>
  <block id="c41a9d8b262cc81ee865acdfb4ddd138" category="list-text">端口关闭重试计数（ portdwnrc ）— 120</block>
  <block id="41e7560cde89e1cd58f68637cb85187c" category="summary">介绍如何将 CentOS 7.6 与 ONTAP 结合使用</block>
  <block id="da9f40e3285e3c02f85bcebc7e825fec" category="doc">将 CentOS 7.6 与 NetApp ONTAP 结合使用</block>
  <block id="2cf246d491f7ad45523fc8e4a88fc641" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="7ce73c7ae176dd6b577d1c14b445f0cd" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="6c0dbd01652c6507117bd7f2e71f213c" category="paragraph">CentOS 7.6 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="b0825624074d948cc02dab7178882abe" category="summary">介绍如何将 CentOS 8.1 与 ONTAP 结合使用</block>
  <block id="7a84148d12b9721ad8119082edfec18b" category="doc">将 CentOS 8.1 与 NetApp ONTAP 结合使用</block>
  <block id="2cc89810a4025d52a6eccc82f2fdfc91" category="paragraph">对于 CentOS 8.1 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 8.1 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="c0a14efd88e7c2a1e97c5209e983010b" category="paragraph">CentOS 8.1 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="4ed487db5845a58ae6349ab5f8fcc335" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="028e50bd59e6088e4c25abc993c5b456" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.1 。</block>
  <block id="39e2f887814ee9598f2240638f02ad73" category="summary">介绍如何在 ONTAP 中使用 CentOS 8.3</block>
  <block id="0c3b5a7f0382879805ac3bf9efaa2288" category="doc">将 CentOS 8.3 与 NetApp ONTAP 结合使用</block>
  <block id="ef00ac506f369c446209297666bbc1c1" category="paragraph">对于 CentOS 8.3 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 8.3 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="254978a397824c8245d49fb55afc07ac" category="paragraph">CentOS 8.3 操作系统经过编译，可以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="cdaab392c5ef9c222bc95dc907be230b" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="3c7f0100e93cbb394731ee7d8982c161" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.3 。</block>
  <block id="d469d8f0f0ea6195efacf51226ff8db4" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.7</block>
  <block id="c477e146aa2504b0d213d6f060620e5c" category="doc">将 Oracle Linux 7.7 与 NetApp ONTAP 结合使用</block>
  <block id="83c8070e0465c3b76698f556c407a97a" category="paragraph">对于 Oracle Linux 7.7 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。Oracle Linux 7.7 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="3ad9f47fc74f996555f39c385337f7c1" category="paragraph">Oracle Linux 7.7 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="5796236b218639aa54b317a2653fe843" category="admonition">要配置 Oracle Linux 7.7 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="d03bd5ac8fbc60aafcf4f05cb4079c96" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.7 。</block>
  <block id="1b61a7a3856fdbc478513136a65d30e6" category="inline-link-macro">1311575</block>
  <block id="a30ebc25935788a02b62f5c31dd68ff4" category="cell"><block ref="267c5dd990c8ab56721888f5900e0ee0" category="inline-link-macro-rx"></block></block>
  <block id="7256202799e1cc52fa1bfe78899975cf" category="cell">在使用 Qlogic QLE2672 （ 16G ）进行存储故障转移期间，由于读 / 写操作无法通过二级路径切换而观察到 IO 延迟</block>
  <block id="1a0e4d0026b3ac15a923132544984581" category="cell">在使用 QLogic QLE2672 16G HBA 的 Oracle Linux 7.7 内核（ 5.4.17-2011.0.7.el7uek.x86_6 ）上执行存储故障转移操作期间， I/O 操作可能无法通过二级路径恢复。如果 I/O 进度因存储故障转移期间主路径被阻止而停止，则 I/O 操作可能无法通过二级路径恢复，从而导致 I/O 延迟。只有在存储故障转移交还操作完成后主路径联机后， I/O 操作才会恢复。</block>
  <block id="ffb04b3fde58882155c0f560b7e20bea" category="inline-link-macro">17171</block>
  <block id="1d8ffbb8f805e591f142144f8c828381" category="cell"><block ref="1d8ffbb8f805e591f142144f8c828381" category="inline-link-macro-rx"></block></block>
  <block id="f32d9fbfd3260ad4f93224817ee55b7b" category="inline-link-macro">1311576</block>
  <block id="8f82eaddc5433072fa47bef87ad2bbbb" category="cell"><block ref="cccef1478e8fcadf27979573716d7b1c" category="inline-link-macro-rx"></block></block>
  <block id="1d12a6f973bbe0e6a8487112455bc428" category="cell">使用 Emulex LPe16002 （ 16G ）进行存储故障转移期间，由于读 / 写操作无法通过二级路径切换，导致观察到 IO 延迟</block>
  <block id="11530752ab9f40fa1149a3d6f8ba9999" category="cell">在使用 Emulex LPe16002 16G HBA 的 Oracle Linux 7.7 内核（ 5.4.17-2011.0.7.el7uek.x86_6 ）上执行存储故障转移操作期间， I/O 操作可能无法通过二级路径恢复。如果 I/O 进度因存储故障转移期间主路径被阻止而停止，则 I/O 操作可能无法通过二级路径恢复，从而导致 I/O 延迟。只有在存储故障转移交还操作完成后主路径联机后， I/O 操作才会恢复。</block>
  <block id="51c9d0385c088de752dfb41cfa835a37" category="inline-link-macro">17172</block>
  <block id="a0a8c4c9ec05cb6c3e8cb95dcee81f2b" category="cell"><block ref="a0a8c4c9ec05cb6c3e8cb95dcee81f2b" category="inline-link-macro-rx"></block></block>
  <block id="4e486911a10e3fffaba70e13f82fd319" category="inline-link-macro">1246134.</block>
  <block id="f1ed8010b222ca665b73581bc564dfbb" category="cell"><block ref="9f94588b71f175c6fb8a48dc1c897075" category="inline-link-macro-rx"></block></block>
  <block id="116824fa5f36407773b9af1e47763391" category="cell">使用 Emulex LPe16002 （ 16G ）执行存储故障转移期间观察到的 IO 延迟以及报告移至 " 已阻止 " ， " 不存在 " 状态</block>
  <block id="d1e8c721d32f2d555893470672bb537f" category="cell">在运行了 Emulex LPe16002B-M6 16G 光纤通道（ FC ）主机总线适配器（ HBA ）的 UEK5U2 内核的 Oracle Linux 7.6 上执行存储故障转移操作期间， I/O 进度可能会因报告被阻止而停止。存储故障转移操作报告从 " 联机 " 状态更改为 " 已阻止 " 状态，从而导致读取和写入操作延迟。成功完成此操作后，报告将无法返回到 " 联机 " 状态并继续保持 " 已阻止 " 状态。</block>
  <block id="cb9494e0d3d982ccefb8f386e222951e" category="cell"><block ref="cb9494e0d3d982ccefb8f386e222951e" category="inline-link-macro-rx"></block></block>
  <block id="af4bdc6f0612ae419e8be2df4a6dc1f8" category="cell">在 Qlogic QLE2672 （ 16G ）和 QLE2742 （ 32G ）的存储故障转移期间观察到 IO 延迟，并且 Rport 正在移至 " 已阻止 " ， " 不存在 " 状态</block>
  <block id="501bcccc8f9d47ad0f5a58eda68930e0" category="cell">在存储故障转移操作期间， QLogic QLE2672 16G 主机上的 Red Hat Enterprise Linux （ RHEL ） 7.6 上的光纤通道（ FC ）远程端口可能会被阻止。由于逻辑接口在存储节点关闭时会关闭，因此远程端口会将存储节点状态设置为 blocked 。如果同时运行 QLogic QLE2672 16G 主机和 QLE2742 32 Gb 光纤通道（ FC ）主机总线适配器（ HBA ），则 IO 进度可能会因端口被阻止而停止。当存储节点恢复到最佳状态时，逻辑接口也会启动，远程端口应联机。但是，远程端口可能仍会被阻止。此阻止状态会将多路径层的 LUN 注册为故障。您可以使用以下命令验证远程端口的状态： # cat /sys/class/fc_remote_ports/rport-*/port_stat 您应看到以下输出： blocked blocked blocked blocked Online</block>
  <block id="af542c850dcba761107186a0c4f1cd8f" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 8.2</block>
  <block id="2d022d8cbf7152df1b17c45be3158c88" category="doc">将 Red Hat Enterprise Linux 8.2 与 NetApp ONTAP 结合使用</block>
  <block id="4760c3b673835516c579d9024201af61" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 8.2 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 8.2 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="83aa98b0663a07abe5c12cd92f6e7e99" category="paragraph">RHEL 8.2 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="5201f3364243bc1b14657349eb16cf69" category="paragraph">RHEL 8.2 没有已知问题。</block>
  <block id="8e606d3994d1276c51a72c8493480d0d" category="summary">介绍如何将 CentOS 6.4 与 ONTAP 结合使用</block>
  <block id="942161295f337fa972d985b0683c34d3" category="doc">将 CentOS 6.4 与 NetApp ONTAP 结合使用</block>
  <block id="5c418e7e8faea588a8aaca3632cdef5c" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="d51d9bd8ee469ad0aee13f86bf1610ea" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="ed81d40ee1a062d4852e88bbb707608d" category="paragraph">对于 CentOS 6.4 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CentOS 6.4 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="c5b0e8703af1ccb56a53d3ccc87f83ac" category="paragraph">系统会对 CentOS 6.4 操作系统进行编译，以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="38e584f52f25fb096dead8f8866657b0" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="f736929b1834226891236b2c0b0b218e" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.4 。</block>
  <block id="a57fd33007e3d579c230eadee6c70cda" category="summary">使用 ONTAP 为 Oracle Linux 7.9 设置 VME/FC 主机配置，包括示例</block>
  <block id="ed635118a854903a3b0358da07cc869e" category="doc">适用于采用 ONTAP 的 Oracle Linux 7.9 的 NVMe/FC 主机配置</block>
  <block id="a636ca8cde3102effb73bcff59dece16" category="list-text">在 `NVMe-CLI` 软件包中不提供原生 NVMe/FC 自动连接脚本。使用 HBA 供应商提供的外部自动连接脚本。</block>
  <block id="9195b1ff49ab8ce4810203a23cb03425" category="list-text">默认情况下， NVMe 多路径不会启用轮循负载平衡。要启用此功能，必须编写 udev 规则。有关在 Oracle Linux 7.9 上启用 NVMe/FC 的章节提供了相关步骤。</block>
  <block id="78f6b6d7760fddd70fbadef88b92f437" category="list-text">在 Oracle Linux 7.9 上，不支持 NVMe/FC ，因此也不支持 NVMe/FC 的 Linux 统一主机实用程序（ Unified Host Utilities ， LUhu ）。使用原生 NVMe-CLI 中包含的 NetApp 插件中提供的 ONTAP 命令输出。</block>
  <block id="edfc9f48f28c499a99adfd6db078c98a" category="list-text">在服务器上安装 Oracle Linux 7.9 。</block>
  <block id="a50d22dddd404fb611ba1a4566a21685" category="list-text">升级 `NVMe-CLI` 软件包。</block>
  <block id="194603bb4b917854676f66cedc8efdec" category="list-text">在 Oracle Linux L 7.9 主机上，检查 ` /etc/nve/hostnqn` 处的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="cad20c09779103c2292c566cf14fb7ec" category="paragraph">如果 ` +hostnqn+` 字符串不匹配，则应使用 `vserver modify` 命令更新相应 ONTAP 阵列子系统上的主机 NQN 字符串，以便与主机上 `etc/nve/hostnqn` 中的主机 NQN 字符串匹配。</block>
  <block id="8c95c9542a975007e5a35ecad47efad2" category="paragraph">较新的 lpfc 驱动程序（收件箱和发件箱）的 lpfc_enable_FC4_type 默认设置为 3 。因此，您不需要在 ` /etc/modprobe.d/lpfc.conf` 中明确设置此值。</block>
  <block id="cd028f2be9225b4251e86c9754599aa3" category="paragraph">在上面的示例中，两个命名空间映射到 Oracle Linux 7.9 ANA 主机。这些 LIF 可通过四个目标 LIF 进行查看：两个本地节点 LIF 和两个其他配对节点 / 远程节点 LIF 。此设置会将主机上每个命名空间的两个 ANA 优化路径和两个 ANA 不可访问路径显示为。</block>
  <block id="120d1efb0373e4924670fa06d0e23b7d" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.3</block>
  <block id="144b34679ac90c58d7b14a45facf571a" category="doc">将 Oracle Linux 7.3 与 NetApp ONTAP 结合使用</block>
  <block id="7be357df47dca653c69405dcffc9660e" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="7a0a4f9043c30954806605608d921df8" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="a62a1c6a3f1f4dcff8f3cfc9b1ff6c53" category="paragraph">对于 Oracle Linux 7.3 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.3 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="d25a3062ed96c87dc1a6d114e43686a8" category="paragraph">Oracle Linux 7.3 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="f554f8ae0fcea497dc4db54ed18e2e5b" category="admonition">要配置 Oracle Linux 7.3 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="afd18201682c20761a139e3ba1b44320" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.3 。</block>
  <block id="f909d8a9e3b0ea24e758ecf1323e3235" category="paragraph">Oracle Linux 7.3 没有已知问题。</block>
  <block id="6f7f69f453663da32b05f6e1d898fb8e" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.7</block>
  <block id="9317600b8a1f42c9e19d23f969ce8d82" category="doc">将 Red Hat Enterprise Linux 7.7 与 NetApp ONTAP 结合使用</block>
  <block id="a1bdb7a660f71ebcfb10fb395252c57a" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.7 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.7 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="5ca5c69afcb4693dcca07eea3efbf3f2" category="paragraph">RHEL 7.7 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="d7fad245b12b629fd89fe1e208312a84" category="inline-link-macro">1258856</block>
  <block id="3b6b215a71077b84727e3c7236fe2162" category="cell"><block ref="8cbdd34ea1179295cbf8f3baf8a265b7" category="inline-link-macro-rx"></block></block>
  <block id="f0bf2f8e80766c6042932e1f36ea6c1e" category="cell">在存储故障转移操作期间，使用 Emulex LPe16002 16 Gb FC 的 RHEL7U7 上的远程端口传输到阻止状态</block>
  <block id="a41cff6600524079541f57663691afd7" category="cell">在存储故障转移操作期间，使用 LPe16002 16 Gb FC 适配器的 RHEL 7.7 主机上的远程端口可能会传输到 " 已阻止 " 状态。当存储节点恢复到最佳状态时， LIF 也会启动，并且远程端口状态应显示为联机。有时，远程端口状态可能会继续显示为 " 已阻止 " 或 " 不存在 " 。此状态可能会导致多路径层的 LUN 路径出现 " 故障 " 。</block>
  <block id="a84775ec487f382651d8d05a569e9c2f" category="inline-link-macro">1743667</block>
  <block id="912104487af45a6f12a4fe6c56eef21b" category="cell"><block ref="912104487af45a6f12a4fe6c56eef21b" category="inline-link-macro-rx"></block></block>
  <block id="655dd2c13c5d63b0a2fc94b680533b22" category="inline-link-macro">1261474</block>
  <block id="208f21e7140ce8dbee86e2ae4acc5c66" category="cell"><block ref="0d668094fd68805b827c56bb7f3873cf" category="inline-link-macro-rx"></block></block>
  <block id="24d7acc632c5ded196817c3cfb589a5a" category="cell">在采用 Emulex LPe32002 32 Gb FC 的 RHEL7U7 上，远程端口传输到 Blocked 状态</block>
  <block id="6074aae24d017a1d81afefcd4fd284f3" category="cell">在存储故障转移操作期间，使用 LPe32002 32 Gb FC 适配器的 RHEL 7.7 主机上的远程端口可能会传输到 " 已阻止 " 状态。当存储节点恢复到最佳状态时， LIF 也会启动，并且远程端口状态应显示为联机。有时，远程端口状态可能会继续显示为 " 已阻止 " 或 " 不存在 " 。此状态可能会导致多路径层的 LUN 路径出现 " 故障 " 。</block>
  <block id="4f400899c26f61785cbe1bcc46b125af" category="inline-link-macro">1745995</block>
  <block id="acfc18ebe6da7c469ae8e3abf7ca0509" category="cell"><block ref="acfc18ebe6da7c469ae8e3abf7ca0509" category="inline-link-macro-rx"></block></block>
  <block id="3bb3263aa16bbeb228b8ecd7584a8064" category="summary">介绍如何在 ONTAP 中使用 CentOS 7.3</block>
  <block id="5c12d7919f70a52feb5b05d38f67a518" category="doc">将 CentOS 7.3 与 NetApp ONTAP 结合使用</block>
  <block id="ef96b3a7a075d8418a575b9d3ec01e49" category="paragraph">对于 CentOS 7.3 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 7.3 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="39f20345b68a1cd5b83ffd31c17f1ddd" category="paragraph">CentOS 7.3 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="04dff1447143c8e4e6195f792be9979e" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.8</block>
  <block id="d7504c3f9edea18dc5689240f0d4eca3" category="doc">将 Red Hat Enterprise Linux 6.8 与 NetApp ONTAP 结合使用</block>
  <block id="d58ee726eea2726eefac984fb7e051d6" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.8 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.8 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="27903dacace5a068c1878082e92ceefc" category="paragraph">RHEL 6.8 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="fe88f0836c56baf22e2264574de8ae99" category="paragraph">RHEL 6.8 没有已知问题。</block>
  <block id="c668cdc14ab280f56b5bd154169478b4" category="list-text">RDM 映射</block>
  <block id="3e13b51705da8db259d545e125ffc1da" category="list-text">VVOL</block>
  <block id="de3db54bdaee137a1acbecdda0e70601" category="list-text">验证是否已正确创建 NVMe/FC 命名空间：</block>
  <block id="15c3697db0fe86ffcb67922b592b4977" category="paragraph">以下示例中的 UUID 表示 NVMe/FC 命名空间设备。</block>
  <block id="393fa042be04dcc3bde30500dcf40209" category="paragraph">`vserver nvme namespace create -vserver vs_1 -path /vol/nssvol/namespace1 -size 100g -ostype vmware -block-size 512B`</block>
  <block id="6a290a5d71dc6c05e5ec68fcd97cbe87" category="list-text">验证相应 NVMe/FC 命名空间设备的各个 ANA 路径的状态：</block>
  <block id="fbd83cf0e839e6dec73fa3ff243bb8c5" category="summary">介绍如何在 ONTAP 中使用 CentOS 7.8</block>
  <block id="9ae2e2f0116f96b133ac014c223f3745" category="doc">将 CentOS 7.8 与 NetApp ONTAP 结合使用</block>
  <block id="76174ed9b35d8ad81e135443f4af3887" category="paragraph">对于 CentOS 7.8 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 7.8 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="564c66db186999fb0cce9161132dfe24" category="paragraph">CentOS 7.8 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="6a1bc9ef2b246f475f3565d08b0f7fff" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.8</block>
  <block id="41a9aaf2c3a6baa8f83a110d087db8fa" category="doc">将 Red Hat Enterprise Linux 7.8 与 NetApp ONTAP 结合使用</block>
  <block id="4a498bc14dff7d28b1cbe385198ffd2e" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.8 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。RHEL 7.8 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="5765160c5d780dc6ba6425d1dd92e011" category="paragraph">RHEL 7.8 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="f016701b52511d7388e9b01258eaff35" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 12 SP3</block>
  <block id="7c5674dabbccc0a7d51145478b428e7a" category="doc">将 SUSE Linux Enterprise Server 12 SP3 与 NetApp ONTAP 结合使用</block>
  <block id="7adcaa4e5a35b413a61f9652b9b8e6bd" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="2e3100a5f55723fd5f208c30b3d4a68b" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="72f35134635c6ac882f97d9681c93120" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP3 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 12 SP3 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="3814994cba4d3417afe61a2a400c5c45" category="paragraph">对 SUSE Linux Enterprise Server 12 SP3 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="faa333743d9719ffabaef492f9d3addf" category="inline-link-macro">1089555</block>
  <block id="6d83a402d5f48246e4a8aa47a51d84af" category="cell"><block ref="09d0a792ca32715872125a5125deab57" category="inline-link-macro-rx"></block></block>
  <block id="0474958a1d6d3dac5a2d4f89aa906f00" category="cell">在存储故障转移操作期间，在采用 Emulex LPe16002 16 Gb FC 的内核版本 SLES12 SP3 上观察到内核中断</block>
  <block id="e473d01bdff0fd380180c07445efe5f1" category="cell">在对采用 Emulex LPe16002 HBA 的内核版本 SLES12 SP3 执行存储故障转移操作期间，可能会发生内核中断。内核中断会提示重新启动操作系统，进而导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/directory 下生成一个 vmcore 文件。您可以在 vmcore 文件中调查故障的发生原因。示例：在观察到的情况下，在模块 "lpfc_SLI_ringtxcml_pt_5e" 中观察到内核中断，并记录在 vmcore 文件中—异常 RIP ： lpfc_SLI_ringtxcmpl_pt_51 。在内核中断后，通过重新启动主机操作系统并重新启动应用程序来恢复操作系统。</block>
  <block id="2355ee326a65b78534c760ffc28282b3" category="inline-link-macro">1042847</block>
  <block id="850382cb7f00d2b91edbc13c8c882810" category="cell"><block ref="850382cb7f00d2b91edbc13c8c882810" category="inline-link-macro-rx"></block></block>
  <block id="a589b9691d471fdbcfcbed00289ff95f" category="inline-link-macro">1089561</block>
  <block id="52b22b314256e76d5ce7c9f4b449e75e" category="cell"><block ref="c46197206f006ddca20b9528971eb8a2" category="inline-link-macro-rx"></block></block>
  <block id="50468e9e489c6f64df69a9b2050b5c03" category="cell">在存储故障转移操作期间，在采用 Emulex LPe32002 32 Gb FC 的内核版本 SLES12 SP3 上观察到内核中断</block>
  <block id="35bd2083d35550687ccc83eda9de58bd" category="cell">在对采用 Emulex LPe32002 HBA 的内核版本 SLES12 SP3 执行存储故障转移操作期间，可能会发生内核中断。内核中断会提示重新启动操作系统，进而导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/directory 下生成一个 vmcore 文件。您可以在 vmcore 文件中调查故障的发生原因。示例：在观察到的情况下，在模块 "lpfc_SLI_free_hbq+76" 中观察到内核中断，并记录在 vmcore 文件中—异常 RIP ： lpfc_SLI_free_hbq+76 。在内核中断后，通过重新启动主机操作系统并重新启动应用程序来恢复操作系统。</block>
  <block id="1912eaed604c90b16a85c2a426ee4ad4" category="inline-link-macro">1042807</block>
  <block id="818e47fa424ee37f87bd46f1a63166e4" category="cell"><block ref="818e47fa424ee37f87bd46f1a63166e4" category="inline-link-macro-rx"></block></block>
  <block id="87cb91fa2b27bd295cf6cb3ab5625b5a" category="inline-link-macro">1117248</block>
  <block id="8e44470268c498635871633867199cf8" category="cell"><block ref="2bc8591437ea8a0ab5e4a9dc7b8cf226" category="inline-link-macro-rx"></block></block>
  <block id="8657c4ef49cd9bde003a33d3c79613d9" category="cell">在存储故障转移操作期间，在使用 QLogic QLE2562 8 Gb FC 的 SLES12SP3 上观察到内核中断</block>
  <block id="069104042a617bd6267aa1b9aa15c171" category="cell">在使用 QLogic QLE2562 HBA 对 Sles12sp3 内核（ kernel-default-4.4.82-6.3.1 ）执行存储故障转移操作期间，由于内核发生崩溃，观察到内核中断。内核崩溃会导致操作系统重新启动，从而导致应用程序中断。如果配置了 kdump ，内核崩溃将在 /var/crash/ 目录下生成 vmcore 文件。发生内核崩溃时，可以使用 vmcore 文件来了解故障的发生原因。示例：在这种情况下，在 "blk_final_request+289" 模块中观察到崩溃。它会使用以下字符串记录在 vmcore 文件中： "Exception RIP ： blk_final_request+289" 内核中断后，您可以通过重新启动主机操作系统来恢复操作系统。您可以根据需要重新启动应用程序。</block>
  <block id="1eb70e87ba465cef65333e568c9f2ba8" category="inline-link-macro">1062496</block>
  <block id="0663171cafe6ea1a5c814a0d9820557a" category="cell"><block ref="0663171cafe6ea1a5c814a0d9820557a" category="inline-link-macro-rx"></block></block>
  <block id="5f8a31b40158a3881c423f19cbe43336" category="inline-link-macro">1117261</block>
  <block id="b9041783185cb4c07cb13dc636f9fe2c" category="cell"><block ref="610aa731a80c19f0997775dc3dd0e227" category="inline-link-macro-rx"></block></block>
  <block id="a8955b831ee58d47a67ef51745c0b4c5" category="cell">在存储故障转移操作期间，在具有 Qlogic QLE2662 16 Gb FC 的 SLES12SP3 上观察到内核中断</block>
  <block id="02b00e954d820a7d9250b98b4049906d" category="cell">在使用 Qlogic QLE2662 HBA 对 Sles12sp3 内核（ kernel-default-4.4.82-6.3.1 ）执行存储故障转移操作期间，您可能会发现内核中断。此操作会提示重新启动操作系统，从而导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/ 目录下生成一个 vmcore 文件。可以使用 vmcore 文件了解故障的发生原因。示例：在这种情况下，在模块 " 未知或无效地址 " 中观察到内核中断，并使用以下字符串记录在 vmcore 文件中—异常 RIP ：未知或无效地址。内核中断后，可以通过重新启动主机操作系统并根据需要重新启动应用程序来恢复操作系统。</block>
  <block id="5181a3e4a234cc235387a485157d48d2" category="inline-link-macro">1062508</block>
  <block id="7edc9b74664db0dc976360ce3bedfbc5" category="cell"><block ref="7edc9b74664db0dc976360ce3bedfbc5" category="inline-link-macro-rx"></block></block>
  <block id="3b13be33c3c4e5bc96d1614404203912" category="inline-link-macro">1117274</block>
  <block id="1fc265bafea1a8916f986a6847bd1910" category="cell"><block ref="06edb5bde68f86e3606b213ec5575e58" category="inline-link-macro-rx"></block></block>
  <block id="3800975d23c462cc9945e7b5174cd2ff" category="cell">在存储故障转移操作期间，在使用 Emulex LPe16002 16 Gb FC 的 SLES12SP3 上观察到内核中断</block>
  <block id="751f8b88fa9fa7a82232c514979e6d24" category="cell">在使用 Emulex LPe16002 HBA 对 Sles12sp3 内核（ kernel-default-4.4.87% -3.1 ）执行存储故障转移操作期间，您可能会发现内核中断。此操作会提示重新启动操作系统，从而导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/ 目录下生成一个 vmcore 文件。可以使用 vmcore 文件了解故障的发生原因。示例：在这种情况下，在模块 "raw_spin_lock_irqsav+30" 中观察到内核中断，并使用以下字符串记录在 vmcore 文件中：–异常 RIP ： _raw_spin_lock_irqsav+30 。内核中断后，可以通过重新启动主机操作系统并根据需要重新启动应用程序来恢复操作系统。</block>
  <block id="f70dec75289ffecc65a2aaca091ba2ca" category="inline-link-macro">1062514</block>
  <block id="815e3fd10e8c267f2111bacfdc657a8c" category="cell"><block ref="815e3fd10e8c267f2111bacfdc657a8c" category="inline-link-macro-rx"></block></block>
  <block id="bff4d094a082c06d638618c58e969418" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 15 SP3</block>
  <block id="c0b30f92abe75e95b91d0898a24b22c4" category="doc">将 SUSE Linux Enterprise Server 15 SP3 与 NetApp ONTAP 结合使用</block>
  <block id="a9a140710f3b9cdfa623f06852051def" category="paragraph">对于 SUSE Linux Enterprise Server 15 SP3 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 15 SP3 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="95f8a3aebcf362ca4aacce74fc1c8cb9" category="paragraph">对 SUSE Linux Enterprise Server 15 SP3 操作系统进行了编译，以识别 ONTAP LUN 并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="f04e1570ab7c52f5f4c102c61f685d1b" category="paragraph">SUSE Linux Enterprise Server 15 SP3 没有已知问题。</block>
  <block id="3a1eadc8d9bb3cf94717f7abc94eae77" category="inline-link">Red Hat Enterprise Linux 版本</block>
  <block id="ecd07dd2a42b46fb7e8f73e1e5544962" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见相应中的已知问题一节<block ref="939c54c506d35e0d0c1ee5e3c74f33dd" category="inline-link-rx"></block> 文档。</block>
  <block id="35b02f73091aee148a7882de0f04e927" category="summary">介绍如何使用 PowerVM vSCSI 发现和配置 LUN</block>
  <block id="e7b99aed376c0edd4afb2f1d954d21c4" category="doc">（ PowerVM vSCSI ）发现和配置 LUN</block>
  <block id="5e149a9cdf98621e9194824d142239bc" category="paragraph">使用 PowerVM vSCSI 和 VIO 服务器时，必须使用 padmin 登录名以及相应的命令来配置和发现 LUN 。</block>
  <block id="45f12494080645b1dfad05926086831a" category="list-text">以 padmin 身份登录到主机。</block>
  <block id="046a0cda23736681c2a58572f4c73525" category="paragraph">`cfgdev`</block>
  <block id="3220eb4ed9c0613dee9bec2c801fe996" category="paragraph">cfgdev 命令会导致：</block>
  <block id="f69da5f12126de5b15da8229b9ad35ff" category="list-text">用于登录到网络结构的启动程序。</block>
  <block id="0ffdb9648b3487c11b6f4840b682390c" category="list-text">系统，用于创建新设备条目，其中新 LUN 会使用默认 PCM 映射为 MPIO 设备。</block>
  <block id="37b9247ed6b737058dcd6009bf2b4515" category="list-text">要验证是否已创建 hdisk MPIO 设备，请输入以下命令：</block>
  <block id="463c16d5990551dc6992bc2922e1566d" category="paragraph">`lsdev -type disk`</block>
  <block id="c1e8b004d26c74fc1c4e7dc596539ad9" category="paragraph">LUN 在主机上显示为磁盘。这些磁盘的使用方式与在主机上使用本地磁盘的方式相同。</block>
  <block id="03ad08a30163de4b236605e8ce91ed8e" category="paragraph">`lsdev -type disk` 命令可生成以下类型的输出。此示例中的输出已被截断。</block>
  <block id="c7011a4e5187e84a0746b1fe7ad694aa" category="list-text">要获取有关设置的信息，请输入以下命令：</block>
  <block id="dc6f2e64e36c03e891b5caf3cf56f3db" category="paragraph">`lsdev -dev hdisk_name -attr`</block>
  <block id="423532f885bb7c35f60dc0e51bc13213" category="paragraph">`lsdev -dev hdisk_name -attr` 命令可生成以下输出：</block>
  <block id="3b0c817448dfd773b2c6d893102dd469" category="list-text">如果您的配置不支持 ALUA ，则必须执行 dotpaths 实用程序来设置路径优先级。dotpaths 实用程序会在您安装 Host Utilities 时安装。如果已启用 ALUA ，请勿使用 dotpaths 实用程序。输入以下命令，切换到 `OEM_setup_env` 模式以执行 dotpaths ：</block>
  <block id="e5a3455c88eddb0570c43b06be3adef4" category="paragraph">`OEM_setup_env`</block>
  <block id="90b557bc4fd94303190e979dcff9a912" category="paragraph">当您进入 `OEM_setup_env` 模式时，命令行提示符将从美元符号变为井号，您将保持在 `OEM_setup_env` 模式，直到输入 exit 等命令将其暂停为止。</block>
  <block id="68fdb2f98be3443abdda4aca8c216ffa" category="paragraph">`` # vioserver$ OEM_setup_env`</block>
  <block id="11f09804b54aa2c55c142764b2502d82" category="paragraph">以下是使用 dotpaths 实用程序的示例：</block>
  <block id="9ba6b55ceee2f1425bbe62109b05bbf8" category="paragraph">` # sanlun lun show -p`</block>
  <block id="08bca029e13ca38021fc7509f607c4d1" category="paragraph">此示例显示了直连配置的 `sanlun lun show -p` 命令的典型输出。它还包括 `sanlun lun show -d hdisk9 -v` 命令，用于显示有关 hdisk9 的信息。此命令的输出已被截断。</block>
  <block id="cc04a552b7bd63c26430fa93dd280a82" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.8</block>
  <block id="0dab7103dbbab010f9bfcee5af378d58" category="doc">将 Oracle Linux 7.8 与 NetApp ONTAP 结合使用</block>
  <block id="16a3fbe78a74d2c0274fa4740e085eed" category="paragraph">对于 Oracle Linux （ OL ） 7.8 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。OL 7.8 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="8499ac147d02c58a3d85f2d4f6752557" category="paragraph">您可以使用 `multipath -ll` 命令验证 ONTAP LUN 的设置。以下各节提供了 LUN 映射的非 ASA 角色的示例多路径输出。</block>
  <block id="4e9ae0b5e17ff4de4954e9d6f6c80609" category="paragraph">Oracle Linux 7.8 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="0abc977b99b5f67c94ba5221df34ff03" category="admonition">要配置 Oracle Linux 7.8 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="f258b7d81a3180e673755835c6a903ac" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.8 。</block>
  <block id="33fb3916b5bbccadc7502b97d2b47e0a" category="summary">介绍如何将 Citrix XenServer 7.x 与 ONTAP 结合使用</block>
  <block id="9873f1b83211d16cf532c7bbb3c830b9" category="doc">将 Citrix XenServer 与 NetApp ONTAP 结合使用</block>
  <block id="a51e3210f96458fa393e6f4bf88caabc" category="paragraph">Citrix XenServer 中的多路径支持基于设备映射程序多路径组件。不会自动为呈现给 XenServer 的所有 LUN 创建设备映射器节点，并且只有在存储管理层（ API ）正在使用 LUN 时才会配置设备映射器节点。Citrix XenServer Storage Manager API 插件可自动激活和停用多路径节点。</block>
  <block id="614673c0b1eeb91e8ffc86cde6faa93b" category="paragraph">由于与集成多路径管理架构不兼容， Citrix 建议您使用 Citrix XenCenter 应用程序管理存储配置。如果需要手动查询设备映射程序表的状态或列出系统上的活动设备映射程序多路径节点，可以使用 ` /sbin/mpathutil status` 命令验证 ONTAP LUN 的设置。有关详细信息，请参阅 Citrix XenServer 的标准供应商文档。</block>
  <block id="9fc86c956b59ea355d470ac30580447a" category="paragraph">Citrix XenServer 7.x 操作系统会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。对于 Citrix XenServer 7.x ，必须存在空的 zerobyte ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。</block>
  <block id="410267f88a5f79f5d40838a8e7a35e62" category="paragraph">从 * XenCenter 管理门户 * 启用主机多路径服务，并验证多路径服务是否已启用且正在运行。</block>
  <block id="cd96c3aa1c1e2627c438d2fe6fda056c" category="paragraph">不需要将内容附加到 ` /etc/multipath.conf` 文件，除非您的设备不希望由多路径管理，或者您的现有设置覆盖默认值。您可以将以下语法添加到 `multipath.conf` 文件中，以排除不需要的设备。</block>
  <block id="b00ab7c17a141468a5921157cdf11ec3" category="admonition">将 * &lt;DevID&gt;* 替换为要排除的设备的 WWID 字符串。</block>
  <block id="ec8b35f300ba884a5dff762db20c0a35" category="paragraph">使用 ` $multipathd show config` 命令查看多路径参数运行时配置。您应始终检查正在运行的配置中是否存在可能会覆盖默认设置的旧设置，尤其是在默认设置部分。</block>
  <block id="aea5fd959632948a3225c2ddd5323d43" category="paragraph">下表显示了 ONTAP LUN 的关键 * 多路径 * 参数以及所需值。如果某个主机已连接到其他供应商的 LUN ，并且这些参数中的任何一个被覆盖，则需要在专门适用于 ONTAP LUN 的 * multipath.conf* 中使用稍后的 stantzas 进行更正。如果不执行此操作， ONTAP LUN 可能无法按预期工作。只有在与 NetApp 和 / 或操作系统供应商协商后，才能覆盖以下默认值，并且只有在完全了解其影响时才会覆盖这些默认值。</block>
  <block id="9d5bc46c4aa8d12cf17b1243dea3cdb8" category="paragraph">以下示例说明了如何更正被覆盖的默认值。在这种情况下， * 多路径 .conf * 文件定义了与 ONTAP LUN 不兼容的 * 路径检查程序 * 和 * 检测 _prio* 值。如果由于连接到主机的其他 SAN 阵列而无法删除这些参数，则可以专门针对具有设备实例的 ONTAP LUN 更正这些参数。</block>
  <block id="73087707ff2bdcd46af8a5eca4a750f8" category="admonition">对于支持的配置， Citrix XenServer 建议对所有基于 Linux 和 Windows 的子虚拟机使用 Citrix VM 工具。</block>
  <block id="95a7c4ebc7538126d41cf3497f8e09b4" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.4</block>
  <block id="602eb1b3ced952ad08723d93cc7dc83f" category="doc">将 Red Hat Enterprise Linux 6.4 与 NetApp ONTAP 结合使用</block>
  <block id="f0fac0f2b3b710a9568f39594d5f9df3" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.4 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="857c2f89db30800ff3058931e331923e" category="paragraph">RHEL 6.4 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="523f9962862f3611c9e9f05e775a3ff2" category="inline-link-macro">673009</block>
  <block id="a9927553fafc276c5d2ee1dad0e61037" category="cell"><block ref="2ed902a18c5937c4d45e0f1b6d65e574" category="inline-link-macro-rx"></block></block>
  <block id="4576384480fab68c9ff4fab12c287bd5" category="cell">在 LV 上创建 ext4 文件系统，并在 15 个或更多启用了丢弃且精简配置的多路径设备上进行条带化，这会触发 "request botched" 内核错误</block>
  <block id="bc9d2295f7997ff93de371bc0c88ea73" category="cell">当用户尝试在启用了丢弃的精简配置多路径设备上创建 ext4 文件系统时，出现 " 请求 blotched" 内核错误。因此，创建 ext4 文件系统可能需要较长时间才能完成，偶尔会发生中断。只有在运行 Red Hat Enterprise Linux 6.x 和 Data ONTAP 8.1.3 及更高版本且以 7- 模式运行的系统上，用户尝试在 LV 上创建 ext4 文件系统时，才会发生此问题描述。之所以出现问题描述，是因为内核错误地尝试合并丢弃请求，而 Red Hat Enterprise Linux 6.x 目前不支持这种做法。发生此问题描述时，系统会将以下消息的多个实例写入系统日志（ /var/log/messages ）： kernel ： blk ： request botched 。因此，文件系统创建所需时间可能比预期要长。</block>
  <block id="9a354393979d2f53fe302b3a221ab20a" category="inline-link-macro">907844</block>
  <block id="8dc9ebb53b5175d2fd3191b5f0c2c42b" category="cell"><block ref="8dc9ebb53b5175d2fd3191b5f0c2c42b" category="inline-link-macro-rx"></block></block>
  <block id="0b9f55b9dffba7eae6a1222b3c2e4753" category="summary">介绍如何将 CentOS 7.1 与 ONTAP 结合使用</block>
  <block id="cb3913ee3213f28b1d82507efb22156d" category="doc">将 CentOS 7.1 与 NetApp ONTAP 结合使用</block>
  <block id="95f05a2f59b08c6cdec0baaa96182662" category="paragraph">对于 CentOS 7.1 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。CentOS 7.1 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="1fe8de9a4233735ec5baff035c7e8460" category="paragraph">系统会对 CentOS 7.1 操作系统进行编译，以便识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="3e6c084e49fee07ccce9fb194055ad83" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 7.5</block>
  <block id="4f2ced01623c3b07f3ba30ae5adb8a5b" category="doc">将 Oracle Linux 7.5 与 NetApp ONTAP 结合使用</block>
  <block id="76090bbd3d36f6477a117f8815c55e34" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="44639981c8da89276a1df8d2ee193418" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="6c54367f89a8101fb18321adda6331eb" category="paragraph">对于 Oracle Linux 7.5 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.5 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="2acf7c03da37359ddb59a411a3d5bc2c" category="paragraph">Oracle Linux 7.5 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="813c36b15553267f324cd6908101a332" category="admonition">要配置 Oracle Linux 7.5 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="bd5476eff85991b1a8eb2197c27bdbeb" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 7.5 。</block>
  <block id="3c146e54f2928af3c6df39922419b24f" category="inline-link-macro">1177239</block>
  <block id="9104aa498f971a4f36b36c41f445ce30" category="cell"><block ref="a8f52c228282c2c6ed4c049cc277ae5a" category="inline-link-macro-rx"></block></block>
  <block id="7d937b6efb504d37a46095c07e7716cd" category="cell">在存储故障转移操作期间，在使用 Qlogic QLE2672 16G FC 的 OL7.5 上观察到内核中断</block>
  <block id="7a1b52e64826aa344229a4f10a14cabf" category="cell">在使用内核 4.1.12-112.16.4.el7uek.x86_64 和 Qlogic QLE2672 HBA 的 Oracle Linux 7 （ OL7.5 ）上执行存储故障转移操作期间，您可能会发现内核中断。此操作会提示重新启动操作系统，从而导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/ 目录中创建一个 vmcore 文件。可以在模块 "kmem_cache_alloc +118" 中观察到这种中断，该模块记录在 vmcore 文件中，并使用字符串 "Exception RIP ： kmem_cache_alloc +118" 进行标识。 发生内核中断后，您可以通过重新启动主机操作系统并重新启动应用程序来恢复。</block>
  <block id="8aa8cd31ee59182d62283f54115dc626" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 8.3</block>
  <block id="4137ad0ecb9476c03488b817fe529868" category="doc">将 Red Hat Enterprise Linux 8.3 与 NetApp ONTAP 结合使用</block>
  <block id="76a654b50e8a1ecef0af22f2af8b3a5e" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 8.3 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 8.3 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="5454d075074e8f827f59ce80d2e812c2" category="paragraph">RHEL 8.3 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="9128494ba0ee37c628f015b5af093f58" category="summary">介绍如何将 CentOS 7.0 与 ONTAP 结合使用</block>
  <block id="7d13d9d03b198e9d73862389907f42a3" category="doc">将 CentOS 7.0 与 NetApp ONTAP 结合使用</block>
  <block id="5bd816c2094b5347fe9888b31305809d" category="paragraph">对于 CentOS 7.0 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。CentOS 7.0 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="8517938f22eed4a2a447a2a76f9b4a2b" category="paragraph">CentOS 7.0 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="bc2395f0cdf95b5f51262e33c9faa5e6" category="summary">介绍如何在 ONTAP 中使用 SUSE Linux Enterprise Server 12 SP2</block>
  <block id="4187a178ebfd4740fe88cee2b18b8b28" category="doc">将 SUSE Linux Enterprise Server 12 SP2 与 NetApp ONTAP 结合使用</block>
  <block id="cf55f22cba1bd78a550b24129856d31b" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="7103ca6e78fec9daba4ed8d32067a33d" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="533852468832f0054559eec6bf0ecebe" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP2 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 12 SP2 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="e52fa2a5a42d73a4be3a3ed0c049fa5b" category="paragraph">对 SUSE Linux Enterprise Server 12 SP2 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="643a6a2bdd020c4b3fb247c000912e7f" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP2 ，没有已知问题。</block>
  <block id="f8f27557fe3d0fcb534e0bcda02971bf" category="summary">介绍如何在 ONTAP 中使用适用于 Linux 的 Veritas Infoscale 7.3</block>
  <block id="3069e09bbf1e92e611316810a6e78210" category="doc">将 VMware vSphere 7.x 与 NetApp ONTAP 结合使用</block>
  <block id="cc239a4513b4519cac8458b3c718aa7c" category="paragraph">本文档提供了有关采用 FC ， FCoE 和 iSCSI 协议的 vSphere 7.x 版本的 ONTAP SAN 主机配置设置的指导。</block>
  <block id="e1059765ab19f25f118520b9942cefe8" category="section-title">虚拟机管理程序 SAN 启动</block>
  <block id="98743d7644276c713659bcbc70ea0c5b" category="paragraph">ESXi 提供了一个称为原生多路径插件（ NMP ）的可扩展多路径模块，用于管理存储阵列类型插件（ Storage Array Type Plugin ， SATA ）和路径选择插件（ Path Selection Plugin ， PSP ）的子插件。默认情况下，这些 SATA 规则在 ESXi 中可用。</block>
  <block id="2526204e100c100b381fc3cfbc2bed3a" category="paragraph">对于 NetApp ONTAP 存储，默认情况下会将 VMW_SAP_ALUA 插件与 VMW_PSP_RR 结合使用，作为路径选择策略（ PSP ）。可以使用以下命令来确认这一点。</block>
  <block id="b8c81b1034d96bceee150be6c06739b8" category="paragraph">*`esxcli storage nmp satp rule list -s VMW_SATAP_ALUA` *</block>
  <block id="77f38b70929f13918b5629531d0f2d04" category="paragraph">*`esxcli storage nmp device list -d naa.600a098038313530772b4d673979372f` *</block>
  <block id="edc53597e0384015011f33a85f3ed282" category="paragraph">*`esxcli storage nmp path list -d naa.600a098038313530772b4d673979372f` *</block>
  <block id="e8621fdda7632735402fae036f1013b5" category="paragraph">*`esxcli storage nmp device list -d naa.600a098038304759563f4e7837574653` *</block>
  <block id="9d4a191adad4feb547454f75ebf2f0fd" category="section-title">VVOL</block>
  <block id="d462fc30c32028744b7aa67a6cf0e13c" category="paragraph">虚拟卷（ VVOL ）是一种 VMware 对象类型，与虚拟机（ VM ）磁盘及其快照和快速克隆相对应。</block>
  <block id="1d50553e7be0c3bb6be028deb00ee152" category="paragraph">适用于 VMware vSphere 的 ONTAP 工具包括适用于 ONTAP 的 VASA Provider ，它为 VMware vCenter 提供了一个集成点，可用于利用基于 VVol 的存储。部署 ONTAP 工具 OVA 时，它会自动注册到 vCenter 服务器并启用 VASA Provider 。</block>
  <block id="ef2883c77b48d92182d90f3845c1e32b" category="paragraph">在使用 vCenter 用户界面创建 VVOL 数据存储库时，它会指导您创建 FlexVol 作为数据存储库的备份存储。VVOL 数据存储库中的 VVOL 可由 ESXi 主机使用协议端点（ PE ）进行访问。在 SAN 环境中，会在数据存储库中的每个 FlexVol 上创建一个 4 MB 的 LUN ，以用作 PE 。SAN PE 是一个管理逻辑单元（ ALU ）。VVOL 是辅助逻辑单元（ SLU ）。</block>
  <block id="84f286546a030ebb09ffe145f43d1174" category="paragraph">使用 VVOL 时， SAN 环境的标准要求和最佳实践适用，包括（但不限于）以下内容：</block>
  <block id="3326a4bb00488a6a60558c3d2862d21c" category="list-text">在每个要使用的 SVM 的每个节点上至少创建一个 SAN LIF 。最佳做法是，每个节点至少创建两个，但不超过所需数量。</block>
  <block id="5c84c1fd7698694a199c23c63d9d03af" category="list-text">消除任何单点故障。在使用多个虚拟交换机时，在使用 NIC 绑定的不同网络子网上使用多个 VMkernel 网络接口。或者，使用连接到多个物理交换机的多个物理 NIC 来提供 HA 并提高吞吐量。</block>
  <block id="440254bef730e33b68bd146775dadae0" category="list-text">根据主机连接的需要配置分区和 / 或 VLAN 。</block>
  <block id="c54b2333e9300746b11b3bf55a67e01e" category="list-text">确保所有必需的启动程序均已登录到所需 SVM 上的目标 LIF 。</block>
  <block id="5bb6886747089341a129f8d3d74d5308" category="admonition">要启用 VASA Provider ，您必须部署适用于 VMware vSphere 的 ONTAP 工具。VASA Provider 将为您管理所有 igroup 设置，因此无需在 VVOL 环境中创建或管理 igroup 。</block>
  <block id="a8958e0b22ed1917f6e4c0c1744d66a7" category="paragraph">NetApp 不建议此时更改任何 VVOL 设置的默认值。</block>
  <block id="abbe770f7d2ca2eefbb79e84ca40a521" category="paragraph">请参见<block ref="77ab0bbf377853176c70e55d32dcb81a" category="inline-link-rx"></block> 适用于特定版本的 ONTAP 工具或适用于特定版本的 vSphere 和 ONTAP 的原有 VASA Provider 。</block>
  <block id="3dffa984dadf9ff0006ee9cebd3b04b9" category="inline-link-macro">TR-4597</block>
  <block id="7bc192063f45f04afc8d24a8ef003835" category="inline-link-macro">TR-4400</block>
  <block id="2fc5bc49d904cb53f5585cd77321f50e" category="section-title">ATS 锁定</block>
  <block id="4218c50587ec231bafd431433feea5e0" category="paragraph">对于与 VAAI 兼容的存储和升级的 VMFS5 ， ATS 锁定是 * 必填项 * 。要与 ONTAP LUN 实现适当的互操作性和最佳的 VMFS 共享存储 I/O 性能，必须锁定 ATS 。有关启用 ATS 锁定的详细信息，请参见 VMware 文档。</block>
  <block id="f4f70727dc34561dfde1a3c529b6205c" category="cell">设置</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">Default</block>
  <block id="74a3216ac9173d2d89d72cac9ad70f82" category="cell">建议使用 ONTAP</block>
  <block id="26b00496bdf993ad7862062ddcf5fed5" category="cell">HardwareAcceleratedLocking</block>
  <block id="1b783e790849eb11c27ee60c531c324f" category="cell">帮助启用原子测试和设置（ Atomic Test and Set ， ATS ）锁定</block>
  <block id="c986751dc40a82cd62cf677575db8b88" category="cell">磁盘 IOPS</block>
  <block id="a9b7ba70783b617e9998dc4dd82eb3c5" category="cell">1000</block>
  <block id="373fbc8325c71a9edc0b723def3c67f9" category="cell">IOPS 限制：轮循 PSP 默认为 IOPS 限制 1000 。在这种默认情况下，发出 1000 次 I/O 操作后，将使用一个新路径。</block>
  <block id="a3a8029998f871ef95a974f0cdc3e10d" category="cell">disk.qFullSampSize</block>
  <block id="6364d3f0f495b6ab9dcf8d3b5c6e0b01" category="cell">32</block>
  <block id="768775cf28ba4ecfddfa13b8ef3ec3e6" category="cell">在 ESXi 开始限制之前所需的队列已满或繁忙状态计数。</block>
  <block id="506c155df92abc2e077a4e075c70cba3" category="admonition">为映射到 VMware vSphere 的所有 LUN 启用 space-alloc 设置，以便 UNMAP 正常工作。有关详细信息，请参见 ONTAP 文档。</block>
  <block id="1f88e72a65ea7202938f21f1c2c1a55b" category="section-title">子操作系统超时</block>
  <block id="6dfc1751a2938b6246504b92dae34c9c" category="paragraph">您可以使用建议的子操作系统调整手动配置虚拟机。调整更新后，必须重新启动子系统，更新才能生效。</block>
  <block id="ee092683ab99c505697565f5925e9c69" category="paragraph">* GOS 超时值： *</block>
  <block id="e299599f8efc86aa0d8d61168d051a1d" category="cell">子操作系统类型</block>
  <block id="93e9ed7fb2fcf7d97fe080a064afbdf5" category="cell">超时</block>
  <block id="8105baf81bf50141371ab0a43fb726f3" category="cell">Linux 变体</block>
  <block id="0bb7a998ea8239826530c484c32c3ffb" category="cell">磁盘超时 = 60</block>
  <block id="aea23489ce3aa9b6406ebb28e0cda430" category="cell">Windows</block>
  <block id="eaf36c98b91893b7f79bd5184a23d377" category="cell">Solaris</block>
  <block id="62ea7beb9fce2ec2b132db1754a66aec" category="cell">磁盘超时 = 60 繁忙重试 = 300 未就绪重试 = 300 重置重试 = 30 最大限制 = 32 最小限制 = 8</block>
  <block id="a200d91ce0f4386395576231a4b6967b" category="section-title">验证 vSphere 可调</block>
  <block id="02328c6771bf8584bd424fe0d782e5dc" category="paragraph">使用以下命令验证 HardwareAcceleratedLocking 设置。</block>
  <block id="a4c213d9d996e0716b9d560c8533d2c4" category="paragraph">*`esxcli system settings advanced list -option /VMFS3/HardwareAcceleratedLocking` *</block>
  <block id="dd5a35a88285cfadd1ce8495d73d884f" category="section-title">正在验证磁盘 IOPS 设置</block>
  <block id="b7c74c258f112727be39c4b747d743ec" category="paragraph">使用以下命令验证 IOPS 设置。</block>
  <block id="99b0f1395080a8bb9a3744656a54ad86" category="paragraph">*`esxcli storage nmp device list -d naa.600a098038304731783f506670553355` *</block>
  <block id="9061941d5061bda4bcf4edf310b59de1" category="section-title">正在验证 QFullSampleSize</block>
  <block id="32014634f5e91fea92881a76289729e4" category="paragraph">使用以下命令验证 QFullSampleSize</block>
  <block id="bcf5b4c5647c7c3861431c638d411876" category="paragraph">*`esxcli system settings advanced list -option /Disk/QFullSampleSize` *</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="section-title">已知问题</block>
  <block id="784c795c066fdf3c4713aae58af639ff" category="paragraph">没有已知问题。</block>
  <block id="f8ec0f3aa329ebfedf13a79184b7867e" category="section-title">相关链接</block>
  <block id="c2e11c6f1a87d8cf2bf465e9c2562bdb" category="inline-link-macro">TR-4597 ：采用 ONTAP 的 VMware vSphere</block>
  <block id="52f50d0f0ab285059648c7da67b4b07f" category="inline-link-macro">NetApp MetroCluster 支持 VMware vSphere 5.x ， 6.x 和 7.x （ 2031038 ）</block>
  <block id="929c9a7053ca6d930b0835cb93342235" category="inline-link-macro">采用 NetApp SnapMirror 业务连续性（ SM-BC ）和 VMware vSphere Metro Storage Cluster （ VMSC ）的 NetApp ONTAP</block>
  <block id="51a78203e5d6aa30e5bcafd469a2d2be" category="summary">介绍如何将 SUSE Linux Enterprise Server 12 SP5 与 ONTAP 结合使用</block>
  <block id="b865018bdf70bd30fce954190d63da4f" category="doc">将 SUSE Linux Enterprise Server 12 SP5 与 NetApp ONTAP 结合使用</block>
  <block id="9a6a6fde9dc0b6c6cf58bb4752be3433" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="84c7846e7158b0d270be911eb58ad456" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="3622b9af63906c6b9ad79d33b1f46e2e" category="paragraph">对于 SUSE Linux Enterprise Server 12 SP5 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 12 SP5 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="c74d45deebb637c99241dcf590098ff9" category="paragraph">对 SUSE Linux Enterprise Server 12 SP5 操作系统进行了编译，以识别 ONTAP LUN 并自动正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="e5a77b1a174097186e6d1fb9a005709f" category="inline-link-macro">1284293</block>
  <block id="1de66e64e76f786a82bec52a2cab5118" category="cell"><block ref="579531e464015b6b9b3dc77dc4c47e40" category="inline-link-macro-rx"></block></block>
  <block id="d92dccde54014b78d3cee57124dc1c25" category="cell">存储故障转移操作期间，使用 QLogic QLE2562 8 Gb FC HBA 的 SLES12 SP5 上发生内核中断</block>
  <block id="c086ba1cb82d2640bcad8ebcee84deca" category="cell">使用 QLogic QLE2562 光纤通道（ FC ）主机总线适配器（ HBA ）对 SLES12 SP5 内核执行存储故障转移操作期间，发生内核中断。内核中断会导致 SLES12 SP5 重新启动，从而导致应用程序中断。如果启用了 kdump 机制，则内核中断会生成位于 /var/crash/ 目录中的 vmcore 文件。检查 vmcore 文件以确定中断的发生原因。发生 QLogic QLE2562 HBA 事件的存储故障转移会影响 "thread_info ： ffff8aedf723c2c0" 模块。通过查找以下字符串在 vmcore 文件中找到此事件： " [thread_info ： ffff8aedf723c2c0]" 。内核中断后，重新启动主机操作系统以使其能够恢复。然后重新启动应用程序。</block>
  <block id="c3581932e963b55b0a548c51181e8150" category="inline-link-macro">1157966</block>
  <block id="3765d9821a625e63ea42052e4bacd1e8" category="cell"><block ref="3765d9821a625e63ea42052e4bacd1e8" category="inline-link-macro-rx"></block></block>
  <block id="d6a549e2961efba4f33c4deb10965085" category="summary">介绍如何将 Oracle Linux 6.6 与 ONTAP 结合使用</block>
  <block id="94208a234965797fceed6103c20a6005" category="doc">将 Oracle Linux 6.6 与 NetApp ONTAP 结合使用</block>
  <block id="f25e7d0c2e23e28b5e2fcc826eab9d89" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用<block ref="20a6fac93934f3cd0fc46716c10ade14" category="inline-link-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="b17be161e93154b1a8e4c9e17fc3b190" category="paragraph">对于 Oracle Linux 6.6 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 6.6 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="3c92bea3eb2289a6ec3282c1090533ba" category="paragraph">Oracle Linux 6.6 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="41e185c135ae2833eb96571ac238a3f6" category="admonition">要配置 Oracle Linux 6.6 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="206a39f130bf92080cb56256dd2c28f9" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.6 。</block>
  <block id="ae8aa154427258c6dd529e8c72110906" category="paragraph">Oracle 6.6 没有已知问题。</block>
  <block id="cdab1722faf4570592f09483d692f9a3" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="aad294b0550f33ea846ebc2598292576" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 6.6 。</block>
  <block id="2ec06282192bf9b2cd91d1e3242e96f4" category="doc">将 Solaris 11.4 与 NetApp ONTAP 结合使用</block>
  <block id="27fa30eecf4b6c982c54cf8b8457b1ae" category="paragraph">以下示例将对 SPARC 系统的文件进行解压缩。对于 x86-64 平台，请使用 x86/x64 软件包。</block>
  <block id="c21dc92fb61425e1ad5ebfa7842ddfd3" category="list-text">使用 `tar xvf` 命令对文件进行解压缩。</block>
  <block id="bfcf4c9fb40665b4e75185cfe6412160" category="paragraph">软件包将添加到 /opt/NTAP/SANToolkit/bin 目录。</block>
  <block id="c95ed533eb41fc4a85cca0787c52530e" category="paragraph">host_config 命令的格式如下：</block>
  <block id="70b7cc349994a5289908b02781aee538" category="paragraph">` /opt/NTAP/SANToolkit/bin/host_config &lt;-setup&gt; &lt;-protocol fcp_iscsi_mixed&gt; &lt;-multipath mpxio_dmp&gt; non&gt; （ -noalua ） [-mcc 60_90_120]`</block>
  <block id="d9fcab23624dae4606baf44f146b1fdc" category="paragraph">host_config 命令执行以下操作：</block>
  <block id="ecfc86e5d43962233e80fa4638ea4b1e" category="paragraph">以下是为采用 NetApp ONTAP LUN 的 Solaris 11.4 SPARC 和 x86_64 建议的一些参数设置。这些参数值由 Host Utilities 设置。有关 Solaris 11.4 系统的其他设置，请参见 Oracle 文档 ID ： 2595926.1</block>
  <block id="90fbed0fe328b6c16dbe12568b1cb193" category="paragraph">要验证修补程序，请执行以下操作：</block>
  <block id="dd1e6355fcc2ca3c16ece42015663e00" category="cell">1362435</block>
  <block id="393cfee0a3b5d3e706f8a0cdeefa3ed8" category="cell">Huk 6.2 和 Solaris_11.4 FC 驱动程序绑定更改</block>
  <block id="8e831c271747ab1b149f40a1bfc61175" category="cell">（文档 ID 2595926.1 ）</block>
  <block id="09fbe9d1ed2fdf31b8ac5fe56aa3ffbb" category="cell">对于 x86_64 平台上的 Emulex 固件版本 12.6.x 及更高版本，请参见</block>
  <block id="78d3960bdb072ec713e8a4ab4adcd520" category="cell">1345622</block>
  <block id="e782dc99ec8290da5a63ec5e81465380" category="cell">使用 OS 原生命令在使用 AA/pports 的 Solaris 主机上报告路径异常</block>
  <block id="87b607e68d04a531a2558265117f94cb" category="cell">使用 ASA 的 Solaris 11.4 出现间歇性路径报告问题</block>
  <block id="0fd599859ca499a908d11962595ba872" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.9</block>
  <block id="5015c54f6ae860e4388dc79aec2d5365" category="doc">将 Red Hat Enterprise Linux 7.9 与 NetApp ONTAP 结合使用</block>
  <block id="02ef7cdb14b82d2d03d7952385e853c9" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 7.9 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 7.9 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="b9c3e890e59dd43c4f5634fcad20c6cf" category="paragraph">RHEL 7.9 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="c0b03114da162e4c4ce8e3c9e573e1f7" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.7</block>
  <block id="2de08b2ba07c63129d6c0b4f841e8f57" category="doc">将 Red Hat Enterprise Linux 6.7 与 NetApp ONTAP 结合使用</block>
  <block id="7e6f60bf7bd831ecb9a591f4ed8bd2f2" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.7 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.7 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="5592861a9331f6fc89845ea236081712" category="paragraph">RHEL 6.7 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="cb07edcfd67f57e0e25c8ebdd7545fe5" category="paragraph">RHEL 6.7 没有已知问题。</block>
  <block id="35a2873560c7df91eb3565c5ce683568" category="summary">介绍如何在 ONTAP 中使用 CentOS 7.2</block>
  <block id="6d7ed438586af8771033a6222425dff3" category="doc">将 CentOS 7.2 与 NetApp ONTAP 结合使用</block>
  <block id="5e264cc9d3c17161fd51d23fc1227896" category="paragraph">对于 CentOS 7.2 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。CentOS 7.2 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="45db864985333e0c1e3be6da0535ec16" category="paragraph">CentOS 7.2 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="157584ac811d45f102c8c688e0c7c7a4" category="summary">介绍如何在 ONTAP 中使用 Oracle Linux 8.0</block>
  <block id="d25d835edd5dae4c8da09161a31e26a8" category="doc">将 Oracle Linux 8.0 与 NetApp ONTAP 结合使用</block>
  <block id="66ea9cf358437f905712380440a8eddd" category="paragraph">如果您决定使用 SAN 启动，则配置必须支持它。您可以使用 <block ref="8c7533773fc489aa5fe9c5ca6e019e25" category="inline-link-macro-rx"></block> 验证您的操作系统， HBA ， HBA 固件和 HBA 启动 BIOS 以及 ONTAP 版本是否受支持。</block>
  <block id="05b3b7ebfe3f9b8f7b7fa7d073f86fcd" category="paragraph">对于 Oracle Linux 8.0 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 8.0 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="e43b7887a27711ba5e2bd52d8cbffd65" category="admonition">要配置 Oracle Linux 8.0 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="dd019c9be944c1791639aca9ec9dceb1" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.0 。</block>
  <block id="ae2aedd8068d0177ea81418345fb1719" category="paragraph">Oracle Linux 8.0 没有已知问题。</block>
  <block id="f32d48cf755668783343d18d81af5662" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="13be8945161aaeca52d4e4a694080916" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.0 。</block>
  <block id="ce33fe68519e0e2d14428572a71c7569" category="summary">使用 ONTAP 为 Oracle Linux 8.2 设置 VME/FC 主机配置，包括示例</block>
  <block id="89d62bb3e0891fdc6a601122dddc0440" category="doc">适用于采用 ONTAP 的 Oracle Linux 8.2 的 NVMe/FC 主机配置</block>
  <block id="983e45d9f14c8e4b92b207877e7cabb0" category="paragraph">无</block>
  <block id="444ce06dcc32d405185ecb72eb5ab7a2" category="list-text">在服务器上安装 Oracle Linux 8.2 。</block>
  <block id="4aab3393d576bcf2907352ae44a0a440" category="list-text">升级 NVMe-CLI 软件包。原生 NVMe-CLI 软件包包含 NVMe/FC 自动连接脚本，用于为 NVMe 多路径启用轮循负载平衡的 ONTAP udev 规则以及用于 ONTAP 命名空间的 NetApp 插件。</block>
  <block id="f66be2d78c31b4dcc20cc20c3d56d86f" category="list-text">在 Oracle Linux 8.2 主机上，检查 /etc/nve/hostnqn 上的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。</block>
  <block id="8c14192b8816f047aeb8cd691b0dcee5" category="paragraph">在上述示例中，两个命名空间映射到 Oracle Linux 8.2 ANA 主机。这些 LIF 可通过四个目标 LIF 进行查看：两个本地节点 LIF 和两个其他配对节点 / 远程节点 LIF 。此设置会将主机上每个命名空间的两个 ANA 优化路径和两个 ANA 不可访问路径显示为。</block>
  <block id="1007b7632045ad8e75cf3589b6d28f94" category="summary">介绍如何将 Oracle Linux 8.1 与 ONTAP 结合使用</block>
  <block id="76b5f29f2210c120279557998f5b220b" category="doc">将 Oracle Linux 8.1 与 NetApp ONTAP 结合使用</block>
  <block id="3adfaacb5236083e12561cfda09586f4" category="paragraph">对于 Oracle Linux 8.1 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 8.1 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="80b15714c0bcc6206a8342b0b67b57a7" category="admonition">要配置 Oracle Linux 8.1 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="ba385beac84ef95968bf8513eda510a6" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.1 。</block>
  <block id="26ca817ec054dedbbbe822324c1f3666" category="paragraph">Oracle Linux 8.1 没有已知问题。</block>
  <block id="04727b6e26d6c60a42231cfea7028876" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="028e50bd59e6088e4c25abc993c5b456" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.1 。</block>
  <block id="8eee884db44f521f0d19cac36bf258cc" category="summary">将 Windows Server 2016 与 ONTAP 结合使用</block>
  <block id="f5cba97c30a47867e3649fd136cca68c" category="inline-link-macro">Microsoft Update Catalog 2016</block>
  <block id="68744b8d382d9303c5e3ae596645d8f1" category="admonition">转至 <block ref="6e6b75f4256049ee1dbc008868e8aa3a" category="inline-link-macro-rx"></block> 用于获取并安装适用于您的 Windows 版本的所需 Windows 修补程序的网站。</block>
  <block id="0a040bb38628a3b2ab5a80b17c3a2cc5" category="admonition">如果选择 MPIO 支持，则 Windows Unified Host Utilities 将启用 Windows Server 2016 的随附 MPIO 功能。</block>
  <block id="6e1a60a2cc9775d5b4dfd69be66dfce4" category="paragraph">Windows Server 2016 没有已知问题。</block>
  <block id="9f48bd68eb80a61379f6dd65620bec8c" category="summary">介绍如何使用 ONTAP 为 SUSE Linux Enterprise Server 15 SP2 配置 NVMe/FC</block>
  <block id="b7c80370e68c20a6d2b05ca2d022abbe" category="doc">适用于采用 ONTAP 的 SUSE Linux Enterprise Server 15 SP2 的 NVMe/FC 主机配置</block>
  <block id="c131de8824918e42917022e80562a0e1" category="list-text">升级到建议的 SLES15 SP2 MU 内核版本。</block>
  <block id="47a1a789b24d958d3c073bab6e64e3b4" category="list-text">升级原生 NVMe-CLI 软件包。</block>
  <block id="3c4bf282fc2deeb24018cd11152fa91c" category="paragraph">此原生 NVMe-CLI 软件包包含 NVMe/FC 自动连接脚本，用于为 NVMe 多路径启用轮循负载平衡的 ONTAP udev 规则以及用于 ONTAP 命名空间的 NetApp 插件。</block>
  <block id="817482a3243380822092c4032be58261" category="list-text">在 SLES15 SP2 主机上，检查位于 ` /etc/nve/hostnqn` 的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上对应子系统的主机 NQN 字符串匹配。例如：</block>
  <block id="c79c427e663f5e0ed0a4be02d2ceac02" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 6.10</block>
  <block id="3b91d4a562877be849d6ee54b60e72c3" category="doc">将 Red Hat Enterprise Linux 6.10 与 NetApp ONTAP 结合使用</block>
  <block id="0279bb3bb8efcbb42b9c3f0326ab775c" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 6.10 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。RHEL 6.10 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。要启用 ALUA 处理程序，请执行以下步骤：</block>
  <block id="845baae8777888665cfa3588985a095e" category="paragraph">RHEL 6.10 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="73a3738e37f81fd8b61bfa733479496f" category="paragraph">RHEL 6.10 没有已知问题。</block>
  <block id="62d54f77039c15fe0a65691e9ff3f4c2" category="summary">介绍如何在 ONTAP 中使用 CentOS 7.5</block>
  <block id="3a33583e5c725c9344bba2426d9e143e" category="doc">将 CentOS 7.5 与 NetApp ONTAP 结合使用</block>
  <block id="6a2c85eca0b58ae9120cd4aa738a6949" category="paragraph">对于 CentOS 7.5 ，必须存在 /etc/multipath.conf 文件，但您不需要对该文件进行特定更改。CentOS 7.5 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。</block>
  <block id="118bc1ed4f7992653349b3a6aebc8126" category="paragraph">CentOS 7.5 操作系统经过编译，可以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="a51f869a9a131effa58d99e63266e02d" category="summary">介绍如何在 ONTAP 中使用 Citrix 虚拟机管理程序 8.x</block>
  <block id="e9cb7b8f17e8f27f0130bdc68558c4cc" category="doc">将 Citrix 虚拟机管理程序与 NetApp ONTAP 结合使用</block>
  <block id="b4fb72e88112026a3055df686f0141d6" category="paragraph">本文档提供了有关使用 FC ， FCoE 和 iSCSI 协议的 Citrix 虚拟机管理程序 8 系列操作系统版本的 ONTAP SAN 主机配置设置的指导。</block>
  <block id="dfdecabe17f4f61a0c5b353fdc3dfeef" category="paragraph">Citrix 虚拟机管理程序 8.x 操作系统会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。对于 Citrix Hypervisor 8.x ，必须存在空的 zerobyte ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。</block>
  <block id="4d9e4d5a080304464911deeebee0a0b3" category="paragraph">不需要将内容附加到 ` /etc/multipath.conf` 文件，除非您的设备不希望由多路径管理，或者您的现有设置覆盖默认值。您可以将以下语法添加到 multipath.conf 文件中，以排除不需要的设备。</block>
  <block id="891983ab249dd51fa02a51e1da92fd57" category="admonition">对于支持的配置， Citrix 虚拟机管理程序建议对所有基于 Linux 和 Windows 的子虚拟机使用 Citrix VM 工具。</block>
  <block id="39f11cb747dafe51ae2cd54386744d96" category="cell">Citrix Tracker ID</block>
  <block id="37a4830e2093543aff3053de0d030043" category="inline-link-macro">1242343</block>
  <block id="a7a47de2f0347b1becc88121e58feb77" category="cell"><block ref="b4c7cfb9859e61034527798a6a63bef9" category="inline-link-macro-rx"></block></block>
  <block id="f55b5d03a0416a1f3b022e8726d40ab4" category="cell">存储故障转移操作期间，使用 QLogic QLE2742 32 Gb FC 的 Citrix Hypervisor 8.0 上的内核中断</block>
  <block id="4a51081f62917f0c91cd1e1d09bd2d71" category="cell">在使用 QLogic QLE2742 32 GB HBA 的 Citrix Hypervisor 8.0 内核（ 4.19.0+1 ）上执行存储故障转移操作期间，可能会发生内核中断。此问题描述会提示重新启动操作系统并导致应用程序中断。如果配置了 kdump ，则内核中断会在 /var/crash/ 目录下生成一个 vmcore 文件。您可以使用 vmcore 文件了解故障的发生原因。内核中断后，您可以通过重新启动主机操作系统并重新启动应用程序来恢复操作系统。</block>
  <block id="b008e43caaecb8f7dd34101d0643e3bf" category="inline-link-macro">NetApp-98</block>
  <block id="a6dc6c62ee31196ca4228a01ceaf054f" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 7.6</block>
  <block id="bb416c7f83582cb630ec7e8f1451631f" category="doc">将 Red Hat Enterprise Linux 7.6 与 NetApp ONTAP 结合使用</block>
  <block id="4802d87aa5a1f81f51753e6e62f1e804" category="paragraph">RHEL 7.6 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="e3d8ce1190bfeaa278be5f7e8b0d5995" category="inline-link-macro">1186754</block>
  <block id="532edc5b4fd01c5e7e8eece87dabaeb4" category="cell"><block ref="8dbfd01f5544aaaa573a97a85d555718" category="inline-link-macro-rx"></block></block>
  <block id="4fdd995ab037517f3a8a22f0d1dce429" category="cell">在主机发现期间，具有 QLogic QLE2742 主机的 RHEL7U6 上的远程端口状态可能会被阻止</block>
  <block id="63881d899fc9dba0492fe0e8b9ba540e" category="cell">在主机发现期间，使用 QLogic QLE2742 适配器的 RHEL7U6 主机上的 FC 远程端口状态可能会进入 " 已阻止 " 状态。这些被阻止的远程端口可能会导致 LUN 的路径不可用。在存储故障转移期间，路径冗余可能会减少并导致 I/O 中断。您可以输入以下命令来检查远程端口状态： # cat /sys/class/fc_remote_ports/rport-*/port_state</block>
  <block id="57c643a3b00b517992be28c022087965" category="inline-link-macro">1628039</block>
  <block id="24251c49f3daec94998e3583d3f476a6" category="cell"><block ref="24251c49f3daec94998e3583d3f476a6" category="inline-link-macro-rx"></block></block>
  <block id="1b602286dc5045d99a549759ecfdc9d2" category="inline-link-macro">1190698</block>
  <block id="a5fcd7e0e32bcd7b79ba21fcbaab4a61" category="cell"><block ref="1c061382cffd1ef980d60e4d1cda99f0" category="inline-link-macro-rx"></block></block>
  <block id="2afcce12bf741e426f0a49dfee981cdc" category="cell">在存储故障转移操作期间，具有 QLogic QLE2672 主机的 RHEL7U6 上的远程端口状态可能会被阻止</block>
  <block id="6ec9e586bca93270bdd317231ac24e7f" category="cell">在存储故障转移操作期间， QLogic QLE2672 主机的 Red Hat Enterprise Linux （ RHEL ） 7U6 上的 FC 远程端口可能会被阻止。由于逻辑接口在存储节点关闭时会关闭，因此远程端口会将存储节点状态设置为 blocked 。当存储节点恢复到最佳状态时，逻辑接口也会启动，远程端口应联机。但是，远程 portsmight 仍会被阻止。此阻止状态会将多路径层的 LUN 注册为故障。您可以使用以下命令验证远程端口的状态： # cat /sys/class/fc_remote_ports/rport-*/port_state</block>
  <block id="f7fab1293df7ccb3da0e34e5fbba3efb" category="inline-link-macro">1643459</block>
  <block id="f839c839363f41c1d123d76c407767e5" category="cell"><block ref="f839c839363f41c1d123d76c407767e5" category="inline-link-macro-rx"></block></block>
  <block id="3c04c0dd9302edadef0b0e9a03b2ac43" category="summary">适用于采用 ONTAP 的 Windows Server 2016 的 NVMe/FC 主机配置</block>
  <block id="dd19e6b1b8c34e56b1831595566adbf0" category="paragraph">适用于 Windows Server 2016 的 ONTAP 9.7 或更高版本支持 NVMe/FC 。</block>
  <block id="ba9c5cfb8923c683e175b0343242d5b2" category="summary">介绍如何在 ONTAP 中使用 CentOS 8.0</block>
  <block id="0e1d9d0b480ab0d07592a8355b51275c" category="doc">将 CentOS 8.0 与 NetApp ONTAP 结合使用</block>
  <block id="2abffb2205f281bc82ee25fbb0545967" category="paragraph">对于 CentOS 8.0 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。CentOS 8.0 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="789946f446a9091348366818339bb5af" category="paragraph">CentOS 8.0 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。要启动多路径守护进程，必须存在 `multipath.conf` 文件，但您可以使用命令 `touch /etc/multipath.conf` 创建一个空的零字节文件</block>
  <block id="16c8f9caff89a168a424e7f5ade0f822" category="paragraph">有关 CentOS （ Red Hat 兼容内核）的已知问题，请参见 <block ref="13be8945161aaeca52d4e4a694080916" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.0 。</block>
  <block id="1aa66ef3a8e34a7a538960a80d2e1e31" category="sidebar">ESXi</block>
  <block id="01deebfa87b938c89ecb3dcb4effcbe2" category="sidebar">7.0</block>
  <block id="fdcd362ac5f5f9817e70642dd2a48bfd" category="sidebar">Oracle Linux</block>
  <block id="2a568439f8e6ff92daa9925ce8a03adf" category="sidebar">8.2</block>
  <block id="d6422a625045167156b3c0d85ca23ebf" category="sidebar">8.1</block>
  <block id="299e5505ce975112afaefec130cc83e0" category="sidebar">7.9</block>
  <block id="90cc3a10dc0cf2e7e72098e531c4d970" category="sidebar">7 ， 8.</block>
  <block id="971455e5b307f416baac0cb24b710792" category="sidebar">7.7</block>
  <block id="8b6f93f33bce541c7f50f8aff637e2e1" category="sidebar">RHEL</block>
  <block id="5e20d6ed7744f334ad7deb3cea4d5905" category="sidebar">8.3</block>
  <block id="1b1e6d45b618db5397c656f0df1d4b85" category="sidebar">15 SP2</block>
  <block id="7ceb3cac51dbf44c807f7e83fabc5016" category="sidebar">15 SP1</block>
  <block id="ea6b2efbdd4255a9f1b3bbc6399b58f4" category="sidebar">2019 年</block>
  <block id="95192c98732387165bf8e396c0f2dad2" category="sidebar">2016 年</block>
  <block id="f997434446ca6b2fcbb19d33852187d3" category="sidebar">2012 R2</block>
  <block id="9be5573ac1f42b7e45f53ea9bcbacde3" category="sidebar">AIX 和 PowerVM/VIOS</block>
  <block id="f418ab5fac16133ff4e30e12dffff5f7" category="sidebar">7.2/3.1</block>
  <block id="7cd31cf6820896d838535a73cafb15ca" category="sidebar">7.1</block>
  <block id="aa1fc3398e84bda331b47203c1e53ad5" category="sidebar">CentOS</block>
  <block id="0460305b9f6d43c9d7668d990a229d26" category="sidebar">CentOS 8</block>
  <block id="585375c1448bfa3494298bdd79408081" category="sidebar">8.0</block>
  <block id="cb2238914d3b44e270be41b02866c1b5" category="sidebar">CentOS 7</block>
  <block id="5960276c0e365f7a81a90baab3a72051" category="sidebar">7.6</block>
  <block id="0d640498fb206f2d67e1829ba976d945" category="sidebar">7.5</block>
  <block id="d0201c3c7c67230ad82ad841f7c8e260" category="sidebar">7.4</block>
  <block id="6924f66d3c42e6c8f021dc7c8693ba4c" category="sidebar">7.3</block>
  <block id="74c5d9234051010a38a669f48bfeb435" category="sidebar">7.2</block>
  <block id="bc853047decb6a91c42e889222d0b09a" category="sidebar">CentOS 6</block>
  <block id="ffa77cbb9dad679ec827da3f460683d6" category="sidebar">6.10</block>
  <block id="6e0728ebb67d668afa587a54f804e703" category="sidebar">6.9</block>
  <block id="2ceaf9eabe4492adc67c8e715b93cb37" category="sidebar">6/8</block>
  <block id="c3e22f2ae1ddef844509890f97faa80b" category="sidebar">6 ， 7.</block>
  <block id="10851bea5d822eacda7e5b46812b1b33" category="sidebar">6.6</block>
  <block id="f884cc5c56f9c9a8d4d61568ff64db9c" category="sidebar">6.5</block>
  <block id="ded681fc154529ebbc7562fb0c73ba47" category="sidebar">6.4</block>
  <block id="44259680bd01002134994d85d023710c" category="sidebar">Citrix</block>
  <block id="99a5228874b5bc9d6b24fbf9b23fe772" category="sidebar">虚拟机管理程序 8.</block>
  <block id="b0781c18fd091c4f9e79ff11eb4b9fc5" category="sidebar">VMware vSphere 7</block>
  <block id="b1fd823d262032e04291313f72be9452" category="sidebar">HP-UX</block>
  <block id="d5b12213e8526feaa7c520b3b736f9b8" category="sidebar">11i v3</block>
  <block id="5d6872b10f9cf7c477fcca864540c009" category="sidebar">OL 8.</block>
  <block id="da4528ec52dd73373d160d41103622f1" category="sidebar">OL 7.</block>
  <block id="1477da5eaee91f44697613216e70a676" category="sidebar">OL 6.</block>
  <block id="d413bda6687be2c7d50d2c76e62fc60f" category="sidebar">RHEL 8</block>
  <block id="6762f053abca7510f6648c71492724a7" category="sidebar">8/4.</block>
  <block id="acfb4fbe1ed02bf6b4487b4fcd0ef690" category="sidebar">RHEL 7</block>
  <block id="bf3e0fdab36bb430e7fb32be5ece1f81" category="sidebar">RHEL 6</block>
  <block id="3c9435015579e19dc2fb6312a2258ab5" category="sidebar">11.4</block>
  <block id="b831e71b782a1e06e4e5f24e84680fb6" category="sidebar">11.3</block>
  <block id="69c19d98f4f48c8896fd184009821de0" category="sidebar">15 SP3</block>
  <block id="9bf31c7ff062936a96d3c8bd1f8f2ff3" category="sidebar">15</block>
  <block id="4c90e16f7f2b83a83d6dd672d659e083" category="sidebar">12 SP 5</block>
  <block id="a47c430c317a092f7d88d084b56bc66f" category="sidebar">12 SP 4</block>
  <block id="0f2332b87469d1228e7997195bf8c1cd" category="sidebar">12 SP 3</block>
  <block id="31f1acd380c574540032bcd141199c36" category="sidebar">12 SP 2</block>
  <block id="081212c3568dc4eed980a5f1dcc03213" category="sidebar">12 SP 1</block>
  <block id="c20ad4d76fe97759aa27a0c99bff6710" category="sidebar">12</block>
  <block id="27467eebfd85deae554fa659c40d5f50" category="sidebar">Veritas</block>
  <block id="47d254fd002b7f1a6c06e1aa7c25a4ef" category="sidebar">信息卷 7.</block>
  <block id="66b0812a8cbedc46db133ed5327291bd" category="sidebar">存储基础 6.</block>
  <block id="eea65c7c864efb688d55381c5b21a910" category="summary">介绍如何在 ONTAP 中使用适用于 Linux 的 Veritas Infoscale 6.5 和 6.7</block>
  <block id="05d7c7c2b6d6ca4fb59e67f4f34b7e2b" category="doc">将 VMware vSphere 6.5 和 6.7 与 NetApp ONTAP 结合使用</block>
  <block id="cf46645d175a0f99f53e120079789f83" category="paragraph">本文档提供了有关采用 FC ， FCoE 和 iSCSI 协议的 vSphere 6.5.x 和 6.7.x 版本的 ONTAP SAN 主机配置设置的指导。</block>
  <block id="d285d6f90c81abd47d57e4425faf9ed5" category="paragraph">对于 NetApp ONTAP 存储，默认情况下会将 VMW_SAP_ALUA 插件与 `VMW_PSP_RR` 结合使用，作为路径选择策略（ PSP ）。可以使用以下命令来确认这一点。</block>
  <block id="97702a0c8ad7bf7deb907e6a931a9c14" category="paragraph">在上面的示例中， LUN 已从 NetApp 存储映射到 4 个路径（ 4 个主动优化路径）。</block>
  <block id="285dc13017989020e1a1eb0ca9eb9125" category="paragraph">在上面的示例中， LUN 已从 NetApp 存储映射到 4 个路径（ 2 个主动优化路径和 2 个主动 - 非优化路径）。</block>
  <block id="8129d146f9c623e58fa6a0b7e0394db9" category="paragraph">虚拟卷（ VVOL ）是一种 VMware 对象类型，与虚拟机（ VM ）磁盘及其快照和快速克隆相对应。</block>
  <block id="1ee4cf305a0d55b8d4c903b6b9c43ea5" category="paragraph">在使用 vCenter 用户界面创建 VVOL 数据存储库时，它会指导您创建 FlexVol 作为数据存储库的备份存储。VVOL 数据存储库中的 VVOL 可由 ESXi 主机使用协议端点（ PE ）进行访问。在 SAN 环境中，会在数据存储库中的每个 FlexVol 上创建一个 4 MB 的 LUN ，以用作 PE 。SAN PE 是一个管理逻辑单元（ ALU ）； VVOL 是辅助逻辑单元（ SLU ）。</block>
  <block id="b9328f95dbad5a0758caa9d672f33531" category="list-text">消除任何单点故障。在使用多个虚拟交换机时，在使用 NIC 绑定的不同网络子网上使用多个 VMkernel 网络接口，或者使用连接到多个物理交换机的多个物理 NIC 来提供 HA 并提高吞吐量。</block>
  <block id="2cc894dadbda2222156fcf16565d8776" category="admonition">要启用 VASA Provider ，您必须为 VMware vSphere 部署 ONTAP 工具。VASA Provider 将为您管理所有 igroup 设置，因此无需在 VVOL 环境中创建或管理 igroup 。</block>
  <block id="305f59462ece50f24122d41e4561fcfa" category="paragraph">NetApp 不建议此时更改任何 VVOL 设置的默认值。</block>
  <block id="bc84423f783fae0183076ce886ba6bf5" category="paragraph">对于与 VAAI 兼容的存储和升级的 VMFS5 ， ATS 锁定是 * 必填项 * 。要与 ONTAP LUN 实现适当的互操作性和最佳的 VMFS 共享存储 I/O 性能，必须锁定 ATS 。有关启用 ATS 锁定的详细信息，请参见 VMware 文档。</block>
  <block id="5efa0da94bf6845724aa837362401b61" category="inline-link">ONTAP 文档</block>
  <block id="702847a1dee0319e79e5728553de2882" category="paragraph">使用以下命令验证 `HardwareAcceleratedLocking` 设置：</block>
  <block id="77ecd0ddc58e5ddd5a2b264f1971a10d" category="paragraph">使用以下命令验证 IOPS 设置。</block>
  <block id="59ed189d97df48789ab17ac76d264c5a" category="paragraph">使用以下命令验证 QFullSampleSize</block>
  <block id="f8f1fe9c4091a85366c30872061ba488" category="cell">* 操作系统版本 *</block>
  <block id="514b7f9aff72a944d71f0ea4b1e85fd5" category="cell">* NetApp 错误 ID*</block>
  <block id="792d8c28a4e6d13e4c682cf0c56c2367" category="cell">* 标题 *</block>
  <block id="f14c276c07197ebef1394a5a219087a1" category="cell">* 问题描述 *</block>
  <block id="7642fd0da8b0e6d3619ef4744dbacdb0" category="cell">ESXi 6.5 和 ESXi 6.7.x</block>
  <block id="240d60e74026bbd4e1b4c3e7b937d151" category="cell">1413424</block>
  <block id="1fc23a2ee8c185b430ef6deb755c5123" category="cell">测试期间， WFC RDM LUN 失败</block>
  <block id="9eb06037f2a0b55f05089c90a18c4deb" category="cell">在所有 7- 模式 C 模式集群控制器上进行存储故障转移测试期间，在 VMware ESXi 主机上的 Windows 虚拟机（例如 Windows 2019 ， Windows 2016 和 Windows 2012 ）之间进行 Windows 故障转移集群原始设备映射失败。</block>
  <block id="4332d8f4566f029f69029c23562122fc" category="cell">ESXi 6.5.x 和 ESXi 6.7.x</block>
  <block id="280cb64ee585254458755a354d77aefc" category="cell">1256473</block>
  <block id="b9204431a0ed79e40e8c590858bc11e4" category="cell">在 Emulex 适配器上测试期间出现 PLOGI 问题描述</block>
  <block id="67b58a320d747fcd4cbacaf620e097ed" category="inline-link-macro">客户案例 -00088028</block>
  <block id="812daa291d1c26c02bbf300bc7c1bc8d" category="inline-link-macro">客户案例 -00088029</block>
  <block id="11b4279628bd5bd99185024194584bba" category="sidebar">VMware vSphere 6.5 和 6.7</block>
  <block id="e23d1316b6f8fd9d76ebc1a761f0ffa9" category="summary">如何使用 ONTAP 为 RHEL 8.4 配置 NVMe-oF 主机</block>
  <block id="1124bd13d48eff16726e09da76f5e2b3" category="doc">适用于采用 ONTAP 的 RHEL 8.4 的 NVMe-oF 主机配置</block>
  <block id="c86cc04a60faa82236164aaa2faeb7fd" category="paragraph">采用 ANA （非对称命名空间访问）的 RHEL 8.4 支持基于网络结构的 NVMe 或 NVMe-oF （包括 NVMe/FC 和其他传输）。ANA 是 NVMe-oF 环境中的 ALUA 等效产品，目前已通过内核 NVMe 多路径实施。此处介绍了在 RHEL 8.4 和 ONTAP 上使用 ANA 作为目标的内核 NVMe 多路径中启用 NVMe-oF 的详细信息。</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">功能</block>
  <block id="b7474f811791dcc10dc5c4c83cd68ff8" category="list-text">从 RHEL 8.2 开始，原生 `NVMe-CLI` 软件包中包含 `nve-fc auto-connect` 脚本。您可以使用这些原生自动连接脚本，而不必安装外部供应商提供的出箱自动连接脚本。</block>
  <block id="1edfd9e2cff717b737df6889a024b9e7" category="list-text">从 RHEL 8.2 开始，已在 `NVMe-CLI` 软件包中提供原生 `udev` 规则，该软件包可为 NVMe 多路径启用轮循负载平衡。您无需再手动创建此规则（如 RHEL 8.1 中所做的那样）。</block>
  <block id="230e651755d5387d3a7fc2291f07bfec" category="list-text">从 RHEL 8.2 开始， NVMe 和 SCSI 流量均可在同一主机上运行。实际上，这应该是客户通常部署的主机配置。因此，对于 SCSI ，您可以照常为 SCSI LUN 配置 `dm-multipath` ，从而生成 `mpath` 设备，而 NVMe 多路径则可用于在主机上配置 NVMe-of 多路径设备。</block>
  <block id="bd89f3a395591c17f8cb7f0aaea6cc0b" category="list-text">从 RHEL 8.2 开始，原生 `NVMe-CLI` 软件包中的 NetApp 插件还可以显示 ONTAP 命名空间的 ONTAP 详细信息。</block>
  <block id="509e52d19112a7c7188376d101160b4c" category="paragraph">对于 RHEL 8.4 ，默认情况下，内核 NVMe 多路径保持禁用状态。因此，您需要手动启用它。</block>
  <block id="c8fe594dab6cb1395df34d73b005c900" category="section-title">配置要求</block>
  <block id="81eeab9506186e2dca8faefa78d54067" category="paragraph">示例</block>
  <block id="6ba6a18088999d632ca174b9873a3b12" category="list-text">安装 `NVMe-CLI` 软件包：</block>
  <block id="e71d1275a2744aceb8d59932f2e5fe56" category="list-text">启用内核 NVMe 多路径。</block>
  <block id="341d2003e57255a58ea7b3a85806bbb8" category="list-text">在主机上，检查 ` /etc/nve/hostnqn` 处的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。示例</block>
  <block id="f3852411c8956408a5a170c1d4d53651" category="admonition">如果主机 NQN 字符串不匹配，则应使用 `vserver modify` 命令更新相应 ONTAP NVMe 子系统上的主机 NQN 字符串，以匹配主机上的主机 NQN 字符串 ` /etc/nve/hostnqn` 。</block>
  <block id="de19b5a5ee04a9d75ed01f3017e72811" category="paragraph">如果要在同一主机上同时运行 NVMe 和 SCSI 共存的流量，建议分别对 ONTAP 命名空间使用内核 NVMe 多路径，而对 ONTAP LUN 使用 dm-multipath 。这意味着， ONTAP 命名空间应从 dm-multipath 中排除，以防止 dm-multipath 声明这些命名空间设备。为此，可以将 enable_Foreign 设置添加到 ` /etc/multipath.conf` 文件中：</block>
  <block id="2c4ca691e5adaf801e0bf8d274c9b482" category="list-text">运行 `systemctl restart multipathd` 命令以使新设置生效，从而重新启动 multipathd 守护进程。</block>
  <block id="3ea394f2d9cebf2dfc911ba5e025db7a" category="section-title">Broadcom/Emulex</block>
  <block id="2defc9958244f438872605820e3ca11a" category="list-text">确认启动程序端口已启动且正在运行，并且您能够看到目标 LIF 。</block>
  <block id="ebca1c9e44630148af4439559839580e" category="paragraph">ONTAP 在 "Identify Controller" （识别控制器）数据中报告 MTS （ MAX Data 传输大小）为 8 ，这意味着最大 I/O 请求大小应最多为 1 MB 。但是，对于 Broadcom NVMe/FC 主机 1 MB 大小的问题描述 I/O 请求， lpfc 参数 `lpfc_sg_seg_cnt` 也应从默认值 64 增加到 256 。请按照以下说明执行此操作：</block>
  <block id="fec3fcd81ccab102d0ff0e385ca80b74" category="list-text">在相应的 `modprobe lpfc.conf` 文件中附加值 `256` ：</block>
  <block id="e6dee1b64bbb79ed1de507cfbbc7c671" category="list-text">重新启动后，通过检查对应的 `sysfs` 值来验证是否已应用上述设置：</block>
  <block id="7b76a53475a93743693ad9b9dd01576a" category="paragraph">现在， Broadcom FC-NVMe 主机应该能够在 ONTAP 命名空间设备上发送最多 1 MB 的 I/O 请求。</block>
  <block id="2ca464fc1baee04e879e92c84915029a" category="section-title">Marvell/QLogic</block>
  <block id="1af9cb3d6c724363f724486734a76f7f" category="paragraph">RHEL 8.4 GA 内核中包含的原生收件箱 `qla2xxx` 驱动程序具有最新的上游修复程序，这些修复程序对于 ONTAP 支持至关重要。</block>
  <block id="01e99a43df9a9e103daa49144d80325a" category="list-text">使用以下命令验证您是否正在运行受支持的适配器驱动程序和固件版本：</block>
  <block id="996bc8c555f8b2265c43a9a361d7bcd2" category="list-text">验证是否已设置 `ql2xnvmeenable` ，以使 Marvell 适配器能够使用以下命令作为 NVMe/FC 启动程序运行：</block>
  <block id="7b7cf2f51a50fd1958747b87b9de79d0" category="paragraph">在对任何 NVMe/FC 故障开始任何故障排除之前，请确保您运行的配置符合 IMT 规范，然后继续执行以下步骤以调试任何主机端问题。</block>
  <block id="b74dd8eaf171dc7bdadb4b02805e11ef" category="list-text">您可以将 `lpfc_log_verbose` 驱动程序设置为以下任意值以记录 NVMe/FC 事件：</block>
  <block id="72eeec6a3c176f0aa6e7a2c82b9104d4" category="list-text">设置上述任一值后，运行 `dracut-f` 命令重新创建 `initramfs` 并重新启动主机。</block>
  <block id="c6c4209c61e5d15f1cdf22504926d2ab" category="list-text">重新启动后，验证设置。</block>
  <block id="e8211b68f4f8fe540f8a1f1df578cb9d" category="section-title">qla2xxx 详细日志记录</block>
  <block id="7e1bab1590d0a1b7415ae6393834f5f0" category="paragraph">NVMe/FC 没有与 lpfc 驱动程序类似的特定 qla2xxx 日志记录。因此，您可以使用以下步骤设置常规 qla2xxx 日志记录级别：</block>
  <block id="0199c49af15b1997cf6d2ddd0ea8adf4" category="list-text">将 `ql2xextended_error_logging=0x1e400000` 值附加到相应的 `modprobe qla2xxx conf` 文件中。</block>
  <block id="5d14823339a99ad173c461c5934c7795" category="list-text">运行 `dracut -f` 命令重新创建 `initramfs` ，然后重新启动主机。</block>
  <block id="18c1ce7cd10cb855d9571af493e60d2f" category="list-text">重新启动后，验证是否已按如下所示应用详细日志记录：</block>
  <block id="336bb1163b96188b27a0c400c9ed3e7e" category="section-title">常见 NVMe-CLI 错误和解决方法</block>
  <block id="34df248e027a4c30ed1b7d088594b696" category="paragraph">下表显示了在 NVMe 发现， NVMe 连接或 NVMe 连接所有操作期间 `NVMe-CLI` 显示的错误以及解决方法：</block>
  <block id="bd578ecd5b4e2ae0680ca3e17e20ed2a" category="cell">`NVMe-CLI` 显示的错误</block>
  <block id="e8a5a7214d896558232c2e63f40a05c2" category="cell">可能的发生原因</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="cell">临时解决策</block>
  <block id="37ea58a1ef8410b6d6bf6ec383fdb9bb" category="cell">`无法写入 /dev/nve-Fabric ：参数` 无效</block>
  <block id="e6abe40d88718ddd0b9bffc84a71160e" category="cell">语法不正确</block>
  <block id="5db86bac1ba97f8a89650fb87fa3f00a" category="cell">确保对上述 NVMe 命令使用正确的语法。</block>
  <block id="60059d5e6355695d881f6470b0b221b0" category="cell">`无法写入 /dev/nve-Fabric ：没有此类文件或目录`</block>
  <block id="364d4f2f5f0f5b369d500a6d7ef097b8" category="cell">多个问题可能会触发此问题。将错误的参数传递给 NVMe 命令是常见原因之一。</block>
  <block id="fd7607192f54bfc64a916ff4265b8284" category="list-text">确保已将正确的参数（例如正确的 WWNN 字符串， WWPN 字符串等）传递给命令。</block>
  <block id="55fd3388a3964cd90c0a1fb25a5104e0" category="list-text">如果参数正确，但您仍看到此错误，请检查 ` /sys/class/scsi_host/host*/nve_info` 输出是否正确， NVMe 启动程序是否显示为 `Enabled` ， NVMe/FC 目标 LIF 是否正确显示在此处的远程端口部分下。示例</block>
  <block id="0d996d199c6027dc68cd4cab85563b7c" category="list-text">如果目标 LIF 未在 nve_info 输出中显示为上述内容，请检查 ` /var/log/messages` 和 `dMesg` 输出中是否存在任何可疑的 NVMe/FC 故障，并相应地进行报告或修复。</block>
  <block id="64ede1e6f2ef30c339f9a3e100f40cfc" category="cell">`没有要提取的发现日志条目`</block>
  <block id="b0dfa52656cffd6e279876e38ade4449" category="cell">通常，如果未将 ` /etc/nve/hostnqn` 字符串添加到 NetApp 阵列上的相应子系统，或者在相应子系统中添加了不正确的 hostnqn 字符串，则会出现此情况。</block>
  <block id="63de53510175cd2fa7213647b4db5fda" category="cell">确保已将确切的 ` /etc/nve/hostnqn` 字符串添加到 NetApp 阵列上的相应子系统中（通过 `vserver nvme subsystem host show` 命令进行验证）。</block>
  <block id="abbdb018748bb6cd12284ad6c1685b67" category="cell">`无法写入 /dev/nve-Fabric ：操作已在进行中`</block>
  <block id="225b7a6d4ea820127fe205c2526ea209" category="cell">查看控制器关联或指定操作是否已创建或正在创建。在上述自动连接脚本中可能会发生这种情况。</block>
  <block id="3c7b3855799d1d584f0b34f56b7e8a85" category="cell">无对于 NVMe 发现，请尝试在一段时间后运行此命令。对于 NVMe connect and connect-all ，请运行 `nvme list` 命令以验证是否已在主机上创建并显示命名空间设备。</block>
  <block id="5d58354522165b88ab742ec42aac9161" category="section-title">何时联系技术支持</block>
  <block id="db4ed55dc4a3e29a642f71c4df28880b" category="paragraph">如果您仍面临问题，请收集以下文件和命令输出，并联系技术支持以进行进一步的分类：</block>
  <block id="b5532e466b7ace9d1d9ddb98b57ec0d7" category="summary">介绍如何使用 ONTAP 为 SUSE Linux Enterprise Server 15 SP3 配置 NVMe/FC</block>
  <block id="59788ae5607a12c1afe34deb1ad155a2" category="doc">适用于采用 ONTAP 的 SUSE Linux Enterprise Server 15 SP3 的 NVMe-oF 主机配置</block>
  <block id="e70c1030d9edf847e05fc47a0de27a27" category="paragraph">采用 ANA （非对称命名空间访问）的 SUSE Linux Enterprise Server 15 SP3 （ SLES15 SP3 ）支持基于网络结构的 NVMe 或 NVMe-oF （包括 NVMe/FC 和其他传输）。ANA 是 NVMe-oF 环境中的 ALUA 等效产品，目前已通过内核 NVMe 多路径实施。此处详细介绍了如何在 SLES15 SP3 和 ONTAP 上使用 ANA 作为目标来启用采用内核 NVMe 多路径的 NVMe-oF 。</block>
  <block id="9ecac4a21a7fe6b2f71d8fdffa72bb05" category="list-text">SLES15 SP3 支持 NVMe/FC 和其他传输。</block>
  <block id="79b488f9eaea99a6d3f6667b30d733e5" category="list-text">NVMe-oF 不支持 sanlun 。因此，在 SLES15 SP3 上，不存在对 NVMe-oF 的 Lu 支持。您可以改用原生 NVMe-CLI 中包含的 NetApp 插件。此操作应适用于所有 NVMe-oF 传输。</block>
  <block id="fcfc5ba070a0675d68aab9fb9f245c43" category="list-text">NVMe 和 SCSI 流量均可在同一主机上运行。实际上，这应该是客户通常部署的主机配置。因此，对于 SCSI ，您可以像往常一样为 SCSI LUN 配置 `dm-multipath` ，从而生成 mpath 设备，而 NVMe 多路径则可用于在主机上配置 NVMe-of 多路径设备。</block>
  <block id="1733de5a596dfd8c9179b7f061fe9051" category="paragraph">没有已知限制。</block>
  <block id="42104bec91c2c82c24dfb75610f2ff97" category="section-title">配置要求</block>
  <block id="83314818bb7c47b391616d0ff767a7de" category="section-title">NVMe-oF 启动程序包</block>
  <block id="abc4d57007eba9b1d8b3f88edac97e68" category="list-text">验证 SLES15 SP3 MU 主机上是否已安装所需的内核和 NVMe-CLI MU 软件包。</block>
  <block id="21c405f2155cb8a6afae52ce69ea30ba" category="paragraph">上述 NVMe-CLI MU 软件包现在包括以下内容：</block>
  <block id="3f238133ff1343b363a48a7a2ab955af" category="list-text">* NVMe/FC 自动连接脚本 * —在还原命名空间的底层路径以及主机重新启动期间， NVMe/FC 自动（重新）连接所需的脚本：</block>
  <block id="af10efe413074ce72e45cef98d1a362a" category="list-text">* NVMe udev rule* - 用于确保适用场景多路径循环负载平衡器默认 ONTAP 所有 ONTAP 命名空间的新 udev 规则：</block>
  <block id="146ce4e7ccd084a734b4926d499af277" category="list-text">* 适用于 ONTAP 设备的 NetApp 插件 * —现有的 NetApp 插件现已进行修改，以处理 ONTAP 命名空间。</block>
  <block id="4665175e405cb9e066318d3ddd80ff93" category="list-text">检查主机上 ` /etc/nve/hostnqn` 处的 hostnqn 字符串，并确保其与 ONTAP 阵列上相应子系统的 hostnqn 字符串正确匹配。例如：</block>
  <block id="b798999f972d27360b79f67bf6d7645b" category="paragraph">根据主机上使用的 FC 适配器，继续执行以下步骤。</block>
  <block id="a21a0934c34b47b51f7b0b4b6c4a96ec" category="list-text">验证您是否具有建议的适配器和固件版本。例如：</block>
  <block id="72f2415a9be66a5eaab08e4f67bda85b" category="list-text">较新的 lpfc 驱动程序（收件箱和发件箱）已将 lpfc_enable_FC4_type 默认设置为 3 ，因此，您不再需要在 ` /etc/modprobe.d/lpfc.conf` 中明确设置此设置，然后重新创建 `initrd` 。默认情况下，已启用 `lpfc NVMe` 支持：</block>
  <block id="bee4144b4cdc5aa41bc58db16ad45be9" category="list-text">现有的原生收件箱 lpfc 驱动程序已经是最新版本，并且与 NVMe/FC 兼容。因此，您无需安装 lpfc OOB 驱动程序。</block>
  <block id="a4abd6014bb6c1f8fcd778d382d06818" category="list-text">验证启动程序端口是否已启动且正在运行。</block>
  <block id="a9628073767b50f0ec03840bfa8b42ee" category="list-text">确认 NVMe/FC 启动程序端口已启用，并且您能够看到目标端口，并且所有端口均已启动且正在运行。在此示例中，仅启用了 1 个启动程序端口，并与两个目标 LIF 进行连接，如输出所示：</block>
  <block id="71c5f19320dfcd010a3a516b22ea8c97" category="list-text">在相应的 `modprobe lpfc.conf` 文件中附加值 256 ：</block>
  <block id="55ad78f06d2638e9a96da0a59fba4662" category="list-text">重新启动后，通过检查相应的 sysfs 值来验证是否已应用上述设置：</block>
  <block id="ef54403ad5ac94142bf694671621e4ae" category="paragraph">现在， Broadcom NVMe/FC 主机应该能够在 ONTAP 命名空间设备上最多发送 1 MB 的 I/O 请求。</block>
  <block id="f18fb2dfb70f685c15bab5b5aedd018e" category="paragraph">较新的 SLES15 SP3 MU 内核中包含的原生收件箱 qla2xxx 驱动程序具有最新的上游修复程序，这些修复程序对于 ONTAP 支持至关重要。</block>
  <block id="786d5eb75e325663513faf6273564ebf" category="list-text">验证您是否正在运行受支持的适配器驱动程序和固件版本，例如：</block>
  <block id="79ba4cec11a87f2af036439169eabd6c" category="list-text">验证是否已设置 `ql2xnvmeenable` ，以使 Marvell 适配器能够用作 NVMe/FC 启动程序：</block>
  <block id="c59affec436f2685c9cf2603d66c8362" category="paragraph">` # cat /sys/module/qla2xxx/parameters/ql2xnvmeenable 1`</block>
  <block id="a0eb26e72e628156638ad8b9cea45ac5" category="list-text">通过检查以下各项验证是否确实已启用内核 NVMe 多路径：</block>
  <block id="80748b874d55c5038d34ce16a870e640" category="section-title">qla2xxx 详细日志记录</block>
  <block id="38a517c65e7a4cfa6d1b781c6a6e35f4" category="cell">确保 NVMe 命令使用的语法正确。</block>
  <block id="be3d2421a8f8e1a506cd8ec6140627fb" category="paragraph">`tar -xvf ntap_aix_host_utilities_6.1.tar.tgz`</block>
  <block id="6a60f15d3addedaaeee9fbd5c320d06d" category="paragraph">解压缩文件时会创建以下目录： `ntap_aix_host_utilities_6.1` 。此目录将包含以下子目录之一： MPIO ， non_MPIO 或 SAN_Tool_Kit</block>
  <block id="4a74fae0987c7a6283e4b1f5c07e2bf2" category="paragraph">`installp -aXYd /var/tmp/ntap_aix_host_utilities_6.1/MPIO NetApp.MPIO_Host_Utilities_Kit`</block>
  <block id="40cb79ed451a05fc3cb913a91c474fdc" category="list-text">安装 SAN 工具包： `installp -aXYd /var/tmp/ntap_aix_host_utilities_6.1/SAN_Tool_Kit NetApp.SAN_toolkit`</block>
  <block id="1306166f349020a2e91d6b8afe8455fb" category="paragraph">NetApp AIX Host Utilities 6.1 是最新版本。此版本可解决先前版本中报告的内存泄漏问题描述。有关追加信息，请参见发行说明部分。</block>
  <block id="94761002a24bd6eeff8ffd9c476b4f1b" category="paragraph">`tar -xvf ntap_aix_host_utilities_6.1.tar.gz`</block>
  <block id="354315ccea353183f3cbbd3c90fe0c38" category="cell">1416221.</block>
  <block id="6db33a0501378d225ab739c6288d3808" category="cell">AIX 7200-05-01 在存储故障转移期间遇到虚拟 iSCSI 磁盘（ VIOS 3.1.1.x ）的 I/O 中断</block>
  <block id="9895e9eac7838927cc2752337f1e16ab" category="cell">在通过 VIOS 3.1.1.x 映射的虚拟 iSCSI 磁盘上的 AIX 7.2 TL5 主机上执行存储故障转移操作期间，可能会发生 I/O 中断默认情况下， VIOC 上虚拟 iSCSI 磁盘（ hdisk ）的 `rw_timeout` 值将为 45 秒。如果在存储故障转移期间发生超过 45 秒的 I/O 延迟，则可能会发生 I/O 故障。要避免这种情况，请参见 BURT 中所述的临时解决策。根据 IBM 的要求，在应用 APAR - IJ34739 （即将发布的版本）后，我们可以使用 `chdev` 命令动态更改 rw_timeout 值。</block>
  <block id="bb16e1a4a3226d438978c98e70faf664" category="cell">1414700</block>
  <block id="8f84cc2094be4df68793798acab1c394" category="cell">在存储故障转移期间， AIX 7.2 TL04 的虚拟 iSCSI 磁盘（ VIOS 3.1.1.x ）发生 I/O 中断</block>
  <block id="7187b48095d030e01ab6d9d7338221f3" category="cell">在通过 VIOS 3.1.1.x 映射的虚拟 iSCSI 磁盘上的 AIX 7.2 TL4 主机上执行存储故障转移操作期间，可能会发生 I/O 中断默认情况下， VIOC 上 vSCSI 适配器的 `rw_timeout` 值为 45 秒。如果在存储故障转移期间发生超过 45 秒的 I/O 延迟，则可能会发生 I/O 故障。要避免这种情况，请参见 BURT 中所述的临时解决策。</block>
  <block id="4229df34b7c87f8ff6267a879dfeabd5" category="cell">在 SFO 故障和直连 I/O 期间发现 VIOS 3.1.1.10 上的 I/O 问题</block>
  <block id="6e2bd974030ad99179fd5896ca5f2b92" category="cell">在 VIOS 3.1.1 上，由 16/32 Gb FC 适配器提供支持的 NPIV 客户端磁盘可能会出现 IO 故障。此外， `vfchost` 驱动程序可能会进入停止处理来自客户端的 I/O 请求的状态。应用 IBM APAR IJ22290IBM APAR IJ23222 可修复问题描述</block>
  <block id="1af1d134f1d2df0e60d3d26a745e9a9c" category="summary">介绍如何将 Oracle Linux 8.4 与 ONTAP 结合使用</block>
  <block id="7bc6016873cc966321b4e882f304f708" category="doc">将 Oracle Linux 8.4 与 NetApp ONTAP 结合使用</block>
  <block id="3f3097c34940e47c43cc1e2aaf144513" category="paragraph">对于 Oracle Linux （ OL ） 8.4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。OL 8.4 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="938f1047c15f00fdd0cbfc8e4cfa15e1" category="paragraph">* 示例 *</block>
  <block id="306a27cab6be29f525fedb01d2a9a56e" category="admonition">要配置 Oracle Linux 8.4 RedHat Enterprise Kernel （ RHCK ），请使用 <block ref="2a5bf462d4974235d181075f07ec40ac" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.4 。</block>
  <block id="62769ac5811a4b0727cd77616bb3d368" category="paragraph">Oracle Linux 8.4 没有已知问题。</block>
  <block id="4447162ab1e53ae3a7c371586690d068" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="1cf241ba8c9adec487a38ecfba1ee9ce" category="inline-link-macro-rx"></block> 一节。</block>
  <block id="07bbb49e67f00330a23f48abec1ddfeb" category="doc">AIX Host Utilities 6.1</block>
  <block id="baadc517f232b835410bb5a5975c2d71" category="paragraph">AIX Host Utilities 是一种 NetApp 主机软件，可在 IBM AIX 主机上提供命令行工具包。此工具包会在您安装 NetApp Host Utilities 软件包时安装。此套件提供 `sanlun` 实用程序，可帮助您管理 LUN 和 HBA 。`sanlun` 命令可返回有关映射到主机的 LUN 的信息，多路径以及创建启动程序组所需的信息。</block>
  <block id="fcd0175f66a20efc7cd1c6567f9a5578" category="paragraph">在以下示例中， `sanlun lun show` 命令将返回 LUN 信息。</block>
  <block id="df806afef9dae5d43f20297c99fb14ca" category="admonition">此工具包在 Host Utilities 的所有配置和协议中通用。因此，其中某些内容适用于一种配置，而不适用于另一种配置。未使用的组件不会影响系统性能。</block>
  <block id="d87eaccfcc7f1ce59c39e647ad0ee108" category="admonition">AIX 和 PowerVM/VIOS 操作系统版本支持 SAN 工具包。</block>
  <block id="9e4f19eef336dfad151cb4dba23dc1eb" category="paragraph">您可以从 NetApp 支持站点下载包含 Host Utilities 软件包的压缩文件。下载此文件后，您必须对其进行解压缩，以获取安装 Host Utilities 所需的两个软件包。</block>
  <block id="4839d2f25cc35b249d5db15efa1afd75" category="paragraph">* 步骤 *</block>
  <block id="03bb76916332762e5c74abd3925ef3a5" category="list-text">在 PowerVM 主机上，以 * padmin* 身份登录，然后输入 oem_setup_env 命令以成为 root 。</block>
  <block id="ee3c9604966f68c69c5d81299e5c5913" category="paragraph">解压缩文件时会创建以下目录： `ntap_aix_host_utilities_6.1` 。此目录将包含以下子目录之一： MPIO ， non_MPIO 或 SAN_Tool_Kit</block>
  <block id="221c50744b3c4471b399c8dfa3509684" category="list-text">安装 SAN 工具包：</block>
  <block id="8eeb8a6e3eaad8d96cb67c508c74079e" category="paragraph">`installp -aXYd /var/tmp/ntap_aix_host_utilities_6.1/SAN_Tool_Kit netapp.SAN_toolkit`</block>
  <block id="cea2e5f9065bd07d72cb5caab3c1db47" category="summary">介绍如何将 Oracle Linux 8.3 与 ONTAP 结合使用</block>
  <block id="254bb3d9a7cf5cab4c0853ebfdd5582c" category="doc">将 Oracle Linux 8.3 与 NetApp ONTAP 结合使用</block>
  <block id="3512af03a0184fdf02e1a9a23f8da83c" category="paragraph">对于 Oracle Linux （ OL ） 8.3 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。OL 8.3 会使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="dfa4360b9ef5c59ee3bab4c95d016689" category="admonition">要配置 Oracle Linux 8.3 Red Hat Enterprise Kernel （ RHCK ），请使用 <block ref="4e79a9939610f9dc89e0e26786a809f0" category="inline-link-macro-rx"></block> 适用于 Red Hat Enterprise Linux （ RHEL ） 8.3 。</block>
  <block id="dbe552aa6706cdda69944fc1f527ec35" category="paragraph">Oracle Linux 8.3 没有已知问题。</block>
  <block id="273955f9a81b6001ec0fed11c89c61c3" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="3c7f0100e93cbb394731ee7d8982c161" category="inline-link-macro-rx"></block> 一节。</block>
  <block id="095f17ad6c7f706c5fa881fa28d2b0e2" category="sidebar">XenServer 7.</block>
  <block id="7818dfcab7a1c05d51aa00ac15f3beac" category="paragraph">多路径允许您在主机和存储系统之间配置多个网络路径。如果一个路径发生故障，则流量将继续在其余路径上传输。默认情况下，对于 Solaris 11.4 ， Oracle Solaris I/O 多路径（ MPxIO ）处于启用状态。` /kernel/drv/fp.conf` 中的默认设置更改为 mpxio-disable="no" 。</block>
  <block id="1014a6a04423d551549d409e08fbcc51" category="paragraph">如果在 LDOM 中将 LUN 用作虚拟磁盘设备，则虚拟化会屏蔽 LUN 的源，而 LDOM 将无法正确检测块大小。要防止出现此问题描述，必须针对 Oracle 错误 15824910 修补 LDOM 操作系统，并创建一个 `vDC.conf` 文件，将虚拟磁盘的块大小设置为 4096 。有关详细信息，请参见 Oracle 文档 2157669.1 。</block>
  <block id="26aa8c05766be362fe2c469284c66a45" category="paragraph">如果 * 换片 * 的值不是 12 ，请验证是否安装了正确的修补程序，然后重新检查 `vDC.conf` 的内容。</block>
  <block id="025006946b1c53786cbb29eef3d30229" category="paragraph">按照说明配置 override 参数：</block>
  <block id="570f5761e2e0bfb396196b06d19e21b0" category="paragraph">`root@host-A ：~ # devprop -v -n /scsi_vhci scsi-vhcI-failover-override scsi-vhcI-failover-netapp lun + f_tpgs root@host-A ：~ # echo "* scsi_vhci_dip ：： print -x struct dev_info dev_vvi_l_net_lvnvnv_l_l_l_sbl ：` sv_l_net_l_l_l_net_l_lf_lfs_lfs_lmcit_l_l_lf_l_lf_lf_lf_lf_sbl</block>
  <block id="5492ce934067a932652b5c7aa5dd991b" category="inline-link">Solaris 主机支持 SnapMirror 业务连续性（ SM-BC ）配置中的建议设置</block>
  <block id="7fed5db563dfce62e3512e9c6fe716c1" category="cell">"Solaris 11.x `cfgadm -c configure` 使用端到端 Emulex 配置导致 I/O 错误 "</block>
  <block id="8b30a2a046838a554ec8551f6130f395" category="cell">在 Emulex 端到端配置上运行 `cfgadm -c configure` 会导致 I/O 错误。此问题已在 9.5P17 ， 9.6P14 ， 9.7P13 和 9.8P2 中修复</block>
  <block id="1da730d18c28f088385f1eaca3cb2f71" category="summary">介绍如何使用 ONTAP 为 ESXi 7.x 配置 NVMe-oF</block>
  <block id="38a445b35a68bb2b838316376b083c19" category="doc">适用于采用 ONTAP 的 ESXi 7.x 的 NVMe-oF 主机配置</block>
  <block id="1149b7a7ae9be623a3a7a3f347ff721f" category="list-text">从 ONTAP 9.9.1 P3 开始， ESXi 7.0 Update 3 支持 NVMe/FC 功能。</block>
  <block id="087c6f6069a3f1c08cb62e3d53029f80" category="list-text">对于 ESXi 7.0 及更高版本， HPP （高性能插件）是 NVMe 设备的默认插件。</block>
  <block id="f19c49e2c5af4fdef9d76da8243928b8" category="paragraph">不支持以下配置：</block>
  <block id="0baafa49aae4a0470bfc558baa32e371" category="list-text">检查 ESXi 主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配：</block>
  <block id="9800cef048ddc104a174cdb11416156c" category="list-text">设置 lpfc 驱动程序参数 `lpfc_enable_FC4_type=3` 以在 `lpfc` 驱动程序中启用 NVMe/FC 支持，然后重新启动主机。</block>
  <block id="bf7cba7a9056a716211324109312cd61" category="admonition">从 vSphere 7.0 Update 3 开始， `brcmnvmefc` 驱动程序不再可用。因此， `lpfc` 驱动程序现在包括先前随 `brcmnvmefc` 驱动程序提供的基于光纤通道的 NVMe （ NVMe/FC ）功能。</block>
  <block id="460c25e7bb5010dbb0ff63a998a73cf9" category="admonition">默认情况下，已为 LPe35000 系列适配器设置 `lpfc_enable_FC4_type=3` 参数。要为 LPe32000 系列和 LPe31000 系列适配器手动设置此命令，必须执行以下命令。</block>
  <block id="0ddb0350e0867842f11bd0619f22f3fc" category="list-text">设置 `qlnativefc` driver 参数 `ql2xnvmesupport=1` 以在 `qlnativefc` 驱动程序中启用 NVMe/FC 支持，然后重新启动主机。</block>
  <block id="f86f2d0f74b3f5bda1a49097fcdecaeb" category="paragraph">` # esxcfg-module -s 'ql2xnvmesupport=1' qlnativefc`</block>
  <block id="17627ac666e764dc705796280424855d" category="admonition">默认情况下， QLE 277x 系列适配器会设置 `qlnativefc` driver 参数。要为 QLE 277x 系列适配器手动设置此命令，必须执行以下命令。</block>
  <block id="f54a7a2feae405d66c5089c08aa192af" category="list-text">检查适配器上是否启用了 NVMe ：</block>
  <block id="262311c06b4d7e1d63d9ec53a8513969" category="list-text">验证 NVMe/FC 适配器是否列在 ESXi 主机上：</block>
  <block id="a4e09728b21e07eb8de92849a3239079" category="admonition">在 ONTAP 9.7 中， NVMe/FC 命名空间的默认块大小为 4k 。此默认大小与 ESXi 不兼容。因此，在为 ESXi 创建命名空间时，必须将命名空间块大小设置为 512b 。您可以使用 `vserver nvme namespace create` 命令执行此操作。</block>
  <block id="b19cff5a6d037faf5ffa796506cf839f" category="inline-link-macro">ONTAP 9 命令手册页</block>
  <block id="e83464ce8bd634efb1f099c956ec64a8" category="section-title">已知问题描述</block>
  <block id="471e82326ed5017bfdb518b5d33377cc" category="inline-link-macro">NetApp MetroCluster 支持 VMware vSphere 5.x ， 6.x 和 7.x （ 2031038 ）</block>
  <block id="0a7c052037789d22811592a15b7a2e17" category="inline-link-macro">NetApp ® SnapMirror ® Business Continuity （ SM-BC ）支持 VMware vSphere 6.x 和 7.x</block>
  <block id="ff09581cb2c13d8ad132e71c1320dc7e" category="cell"><block ref="108e2d22c5beb633cb3cfe03baa4f66f" category="inline-link-macro-rx"></block></block>
  <block id="8286a7d77eb7d53445229f3c12d8c18f" category="cell"><block ref="8286a7d77eb7d53445229f3c12d8c18f" category="inline-link-macro-rx"></block></block>
  <block id="109d2ee1c560df7a2148394570cdbc69" category="cell"><block ref="109d2ee1c560df7a2148394570cdbc69" category="inline-link-macro-rx"></block></block>
  <block id="2152e4c49c3814e1e3bba79274326fde" category="cell"><block ref="2152e4c49c3814e1e3bba79274326fde" category="inline-link-macro-rx"></block></block>
  <block id="5193fa62de727bc1b09d9ac908612e4d" category="cell"><block ref="5193fa62de727bc1b09d9ac908612e4d" category="inline-link-macro-rx"></block></block>
  <block id="c38f9cb37e7246171df1cd59fb277c46" category="paragraph"><block ref="c38f9cb37e7246171df1cd59fb277c46" category="inline-link-macro-rx"></block></block>
  <block id="193e9a3a22ec18786f1a8e1dccfdc4ac" category="list-text">从下载包含 Host Utilities 的压缩文件的副本 <block ref="6197019285627f055449b196a622ffa6" category="inline-link-macro-rx"></block> 到主机上的目录。</block>
  <block id="72f260df571f27a8db9ec89d6a6496b6" category="paragraph">您可以使用 FC 协议并运行 Solaris Host Utilities 将 SAN 启动 LUN 设置为在 Solaris MPxIO 环境中运行。根据卷管理器和文件系统的不同，设置 SAN 启动 LUN 的方法可能会有所不同。请参见 <block ref="cf44bc918cdfd261cca787c802f63045" category="inline-link-macro-rx"></block> 有关在 Solaris MPIO 环境中启动 SAN LUN 的详细信息。</block>
  <block id="bb07e47b42aa48376a913354e1a94c0f" category="paragraph">默认情况下，如果 LUN 的所有路径都丢失，则 Solaris 操作系统将在 20 秒后使 I/O 失败。这由 `fcp_offline_delay` 参数控制。`fcp_offline_delay` 的默认值适用于标准 ONTAP 集群。但是，在 MetroCluster 配置中，必须将 `fcp_offline_delay` 的值增加到 * 120 秒 * ，以确保 I/O 在包括计划外故障转移在内的操作期间不会过早超时。有关其他信息以及对默认设置的建议更改，请参见 NetApp <block ref="9c0611c5ceabd8da2106dbd75573cd48" category="inline-link-macro-rx"></block>。</block>
  <block id="692dca145cf34dacba629a9ddf6d4c42" category="list-text">NetApp 通常支持使用这些虚拟化技术，其中 Oracle 支持整体配置，并且上列出了可直接访问 LUN 的任何分区 <block ref="e65d5dc611a70f61b74f4247aa5bf590" category="inline-link-macro-rx"></block> 在支持的配置中。其中包括根容器， LDOM IO 域以及使用 NPIV 访问 LUN 的 LDOM 。</block>
  <block id="73710dbb0bb38e18d8eb3c739564246e" category="list-text">仅使用虚拟化存储资源（例如 vdskk ）的分区和 / 或虚拟机不需要特定的资格认定，因为它们无法直接访问 NetApp LUN 。只能在中找到直接访问底层 LUN 的分区 /VM ，例如 LDOM IO 域 <block ref="e65d5dc611a70f61b74f4247aa5bf590" category="inline-link-macro-rx"></block>。</block>
  <block id="f58813ca14ecba2def986836fee74fc0" category="paragraph">适用于 Oracle Linux 8.1 的 ONTAP 9.6 或更高版本支持 NVMe/FC 。Oracle Linux 8.1 主机可以通过相同的光纤通道（ FC ）启动程序适配器端口运行 NVMe 和 SCSI 流量。请注意， Broadcom 启动程序可以通过相同的 FC 适配器端口同时为 NVMe/FC 和 FCP 流量提供服务。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="0a9d709578599cebfffb10775d3641a7" category="list-text">安装完成后，验证您是否正在运行受支持的 Unbreakable Enterprise 内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="3a70a917bfcb66912a844601f3334965" category="list-text">验证您使用的是受支持的适配器。有关支持的适配器的最新列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="48041afc31abe79fadb7695b8cbfd4f7" category="list-text">ESXi 启动程序主机可以通过相同的适配器端口同时运行 NVMe/FC 和 FCP 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的最新配置和版本列表。</block>
  <block id="b0a76d3d3c0c115749b76b173897a127" category="list-text">请参见，检查所需驱动程序 / 固件是否支持此配置 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="3c5ff01a1cadf5679b57603dbc59e554" category="list-text">请参见，检查所需驱动程序 / 固件是否支持配置 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="9a85ce7daf00cd97d2ba489c461c944f" category="paragraph">请参见 <block ref="6bc1436da9f0920d54a0f738830d902f" category="inline-link-macro-rx"></block> 了解更多详细信息。</block>
  <block id="d1456688e4d9e6236e75dfb01f3ed2ec" category="paragraph"><block ref="ec1f030f0caddb932644a46761f74630" category="inline-link-macro-rx"></block>
<block ref="3940cdefc46aa67d16ed6a8e41f9c401" category="inline-link-macro-rx"></block>
<block ref="feedbf2928c5a2b3814dd0d36cd7d240" category="inline-link-macro-rx"></block></block>
  <block id="ab29bda450e857b3672661ee0b1f2ec3" category="paragraph">请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置和版本列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="901e57ec934f2bb4dcf9c00499d469dc" category="paragraph">您可以使用<block ref="d30d99bceb137a364ff5b7be97ceac80" category="inline-link-rx"></block> 以验证您的配置。</block>
  <block id="64d9950f8626931b9146221eb8361c4a" category="paragraph">上提供了 NetApp AIX Host Utilities 软件包<block ref="c333bb24ac578f01b89e18c713c1294b" category="inline-link-rx"></block> 在经过压缩的 tar.gz 文件中。</block>
  <block id="dffe2b4e459efd8935c7c22b9718180f" category="paragraph">对于 RHEL 8.3 ， ONTAP 9.6 或更高版本支持 NVMe/FC 。RHEL 8.3 主机通过相同的光纤通道（ FC ）启动程序适配器端口运行 NVMe 和 SCSI 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置和版本列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="5b905783a11f0709eab070d439f4bebe" category="paragraph">请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="7e7451dacba473800a5cdbb40e615ba6" category="paragraph">有关支持的适配器的最新列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="2d3e43ea7c8c91fc0a78b6056554ec91" category="paragraph">适用于 Oracle Linux 7.9 的 ONTAP 9.6 或更高版本支持 NVMe/FC 。Oracle Linux 7.9 主机可以通过相同的光纤通道（ FC ）启动程序适配器端口运行 NVMe 和 SCSI 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="d77815b1cf8addecd8d2fb23c9878c4a" category="paragraph">请参见<block ref="cc2304a59b5feaeebd0c5646fd22caf0" category="inline-link-rx"></block> 有关注册表参数的详细信息。</block>
  <block id="489cce922da01c521eefedb275b4f00b" category="paragraph">请参见<block ref="6d63c8366c015331075fa86de38975e8" category="inline-link-rx"></block> 或<block ref="4399df604c07a452cc084d95811dafae" category="inline-link-rx"></block> 站点以了解有关超时参数的更多信息。</block>
  <block id="0b10f822d26382a922afd1635db5de2d" category="list-text">您必须查看中的故障排除信息<block ref="766939a89871d4c04af2f6ac1ab2650b" category="inline-link-rx"></block> 适用于您的 ONTAP 版本。</block>
  <block id="9083840fa5bcf62c5684d884151ab69b" category="list-text">您必须进行搜索<block ref="9f91bb070a65615e92f64b6a068e1d9d" category="inline-link-rx"></block> 最近发现的问题。</block>
  <block id="3809aec0d76653aef580fe5a05c2ceea" category="paragraph"><block ref="b1540a3ec25c7d8277b499a1cc1d920b" category="inline-link-rx"></block>
<block ref="37fb4b1646680720393f2c3367174dbe" category="inline-link-rx"></block>
<block ref="787134229d52d08fef0caa9611cbbc06" category="inline-link-rx"></block></block>
  <block id="63de1f29f867ea5090af94f0fe852e73" category="paragraph">对于 RHEL 8.2 ， ONTAP 9.6 或更高版本支持 NVMe/FC 。RHEL 8.2 主机通过相同的光纤通道（ FC ）启动程序适配器端口运行 NVMe 和 SCSI 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置和版本列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="fe11a5d007b30b19387669fa13d0bc9d" category="paragraph">请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的配置的准确详细信息。</block>
  <block id="62ec2bcab7e05f6212dbc5211b403a26" category="list-text">在服务器上安装 RHEL 8.4 GA 。安装完成后，验证您是否正在运行指定的 RHEL 8.4 GA 内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="224db9a3769a259ebd077f30d2c7de7b" category="list-text">安装完成后，验证您是否正在运行指定的 RHEL 8.4 内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="558772c2923356166b7dbc78142c82d1" category="list-text">验证您使用的是受支持的适配器。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的适配器的最新列表。</block>
  <block id="b683fa7bfd2f7f01ea49576352757cd5" category="list-text">验证您是否正在使用建议的 Broadcom lpfc 固件和收件箱驱动程序。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的适配器驱动程序和固件版本的最新列表。</block>
  <block id="2e53ec06e83c9a95dd9bd79e6e91794d" category="paragraph">OL 7.7 主机可以通过相同的光纤通道启动程序适配器端口同时运行 NVMe 和 SCSI 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。</block>
  <block id="2ccdf4b56d3a99d20857e20e044bf1ca" category="paragraph">有关支持的最新配置列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="9f845ca5de3d71f2c5f7eed4864a12b4" category="list-text">验证您使用的是受支持的适配器。有关支持的适配器的最新列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="1e5bb2c5d5a9a2921f17983d8f8db70b" category="list-text">验证您使用的是建议的 Broadcom lpfc 固件，原生收件箱驱动程序和外置自动连接软件包版本。有关支持的版本列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="2a0a4348e3cfffb7106ae13ae6827b6d" category="paragraph">适用于 Oracle Linux 8.2 的 ONTAP 9.6 或更高版本支持 NVMe/FC 。Oracle Linux 8.2 主机可以通过相同的光纤通道（ FC ）启动程序适配器端口运行 NVMe/FC 和 FCP 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="6fa026cc896a9aa46993e867a29d973c" category="paragraph">有关配置和管理 VVOL 的详细信息，请参见适用于 VMware vSphere 的 ONTAP 工具文档以及 <block ref="52e81e11040c41825151f9c7710055f2" category="inline-link-macro-rx"></block> 和 <block ref="a74613d919ef64732e37564f6282a452" category="inline-link-macro-rx"></block></block>
  <block id="24b832a3c490bb4e76193c9ae615cd2b" category="admonition">为映射到 VMware vSphere 的所有 LUN 启用 space-alloc 设置，以便 UNMAP 正常工作。有关详细信息，请参见<block ref="ecbbd19c2959ac5708c6c4723def4492" category="inline-link-rx"></block>。</block>
  <block id="1ce6b82da1e4c8ef0696742f32ee8517" category="list-text">要使用 ONTAP 访问 TR-4597- VMware vSphere ，请参见 <block ref="0b49ef6859bcc6d029643944be119d56" category="inline-link-macro-rx"></block> 和 <block ref="ea34cfa716537242c2b4837bb8c55109" category="inline-link-macro-rx"></block></block>
  <block id="8a515fe16331b7269862c5871e55c7e4" category="list-text"><block ref="8a515fe16331b7269862c5871e55c7e4" category="inline-link-macro-rx"></block></block>
  <block id="5306229c164cfe6b066f8442f64d8268" category="list-text"><block ref="5306229c164cfe6b066f8442f64d8268" category="inline-link-macro-rx"></block></block>
  <block id="69c554c1475a518cc1bc743c147bcae6" category="paragraph">默认情况下，如果 LUN 的所有路径都丢失，则 Solaris 操作系统将在 20 秒后使 I/O 失败。这由 `fcp_offline_delay` 参数控制。`fcp_offline_delay` 的默认值适用于标准 ONTAP 集群。但是，在 MetroCluster 配置中，必须将 `fcp_offline_delay` 的值增加到 * 120 秒 * ，以确保 I/O 在包括计划外故障转移在内的操作期间不会过早超时。有关其他信息以及对默认设置的建议更改，请参见 NetApp<block ref="c1922a8e804b8190c0daa8263ddd5748" category="inline-link-rx"></block>。</block>
  <block id="ffc3e17a9258b28dbcb840e63a4da4d4" category="list-text">NetApp 通常支持使用这些虚拟化技术，其中 Oracle 支持整体配置，并且上列出了可直接访问 LUN 的任何分区<block ref="0a2387641ef9263b02d75ca03cdebda2" category="inline-link-rx"></block> 在支持的配置中。其中包括根容器， LDOM IO 域以及使用 NPIV 访问 LUN 的 LDOM 。</block>
  <block id="ce5e3ba4f12b670c7cec88d808b05d5b" category="list-text">仅使用虚拟化存储资源（例如 `vdskk` ）的分区和 / 或虚拟机不需要特定的资格认定，因为它们不能直接访问 NetApp LUN 。只能在中找到直接访问底层 LUN 的分区 /VM ，例如 LDOM IO 域<block ref="0a2387641ef9263b02d75ca03cdebda2" category="inline-link-rx"></block>。</block>
  <block id="3773c551729981917923f39164f9b765" category="paragraph">RHEL 8.1 主机可以通过相同的光纤通道启动程序适配器端口同时运行 NVMe 和 SCSI 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="091178f03b60ed6adc2d05dbdc73a202" category="list-text">安装完成后，验证您是否正在运行指定的 Red Hat Enterprise Linux 内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="806bc64df06f53e39492ea141c1547ac" category="paragraph">适用于 Oracle Linux 7.8 的 ONTAP 9.6 或更高版本支持 NVMe/FC 。Oracle Linux 7.8 主机可以通过相同的光纤通道（ FC ）启动程序适配器端口运行 NVMe 和 SCSI 流量。请注意， Broadcom 启动程序可以通过相同的 FC 适配器端口同时为 NVMe/FC 和 FCP 流量提供服务。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。有关支持的最新配置列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="f74952756a69cdbe7cccca5faf46e6cc" category="cell"><block ref="f74952756a69cdbe7cccca5faf46e6cc" category="inline-link-macro-rx"></block></block>
  <block id="e4e8c2e3b1f2a437f2ee78761c02d287" category="paragraph">SLES15 SP1 主机可以通过相同的光纤通道启动程序适配器端口同时运行 NVMe/FC 和 FCP 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。</block>
  <block id="038caf673b7c529c453a9844cbb5d6c4" category="paragraph">有关支持的最新配置和版本列表，请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="2f7555fd65fd6100208812dc33a35c6e" category="list-text"><block ref="2f7555fd65fd6100208812dc33a35c6e" category="inline-link-macro-rx"></block></block>
  <block id="53e0316343afe978271ccd43b743d05a" category="paragraph">在 ONTAP 9.6 及更高版本上， SLES15 SP2 支持 NVMe/FC 。SLES15 SP2 主机可以通过相同的光纤通道启动程序适配器端口同时运行 NVMe/FC 和 FCP 流量。请参见 <block ref="d46722d88b0f3e3641b7ffb0d0a65333" category="inline-link-macro-rx"></block> 有关支持的 FC 适配器和控制器的列表。</block>
  <block id="443e8164d670e55b2388725ef1a0bda5" category="paragraph">默认情况下， SLES15 SP3 等 SLES 主机上已启用内核 NVMe 多路径。因此，此处不需要其他设置。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的配置的准确详细信息。</block>
  <block id="6332394e52d860951e446b20a9580794" category="section-title">安装 Linux Unified Host Utilities</block>
  <block id="b2868986ab4f89d873eb88548fa648bb" category="cell">Solaris 11.4 和 HUK 建议。FC 驱动程序绑定已从 SSD （ 4D ）更改为 SD （ 4D ）。将 `ssd.conf` 中的配置移动到 `s ds.conf` ，如 Oracle 中所述（文档 ID 2595926.1 ）。新安装的 Solaris 11.4 系统以及从 11.3 或更低版本升级的系统的行为会有所不同。</block>
  <block id="dd31b82b57542d64583398514e1838f4" category="section-title">启用 NVMe/FC</block>
  <block id="6d2964de8c046289cdcfaebf91369e08" category="section-title">为 NVMe/FC 配置 Broadcom FC 适配器</block>
  <block id="30184b2ffcd5459f75061dc63a6b8c62" category="section-title">验证 NVMe/FC</block>
  <block id="bb145463d4b33f8a2c6719372c1e8d1d" category="section-title">为 Broadcom NVMe/FC 启用 1 MB I/O 大小</block>
  <block id="025c962221700c78eb1d525adb016ea6" category="section-title">在 Windows 启动程序主机上启用 NVMe/FC</block>
  <block id="073bde40ca4f1c0bc9a2024c00df60ac" category="section-title">在 Windows 中为 NVMe/FC 配置 Broadcom FC 适配器</block>
  <block id="6d50f9a166e2b5b5cadd884e2bfaf99a" category="section-title">在 Windows 主机上为 NVMe 设备启用 MPIO</block>
  <block id="3377da1c4bfbeb041c695fd90b5b51f8" category="section-title">安装 AIX Host Utilities</block>
  <block id="20ef4219f8282a156b90a588df2efcd7" category="section-title">在 RHEL 8.3 上启用 NVMe/FC</block>
  <block id="bf2fd4f30d4d99e83aea737d5c100ea0" category="section-title">为 NVMe/FC 配置 Broadcom FC 适配器</block>
  <block id="c0a6e0dc55b98c30081b044a2713737b" category="section-title">验证主机和存储系统配置</block>
  <block id="b60c7a8315c7b9d353b5fda462709b16" category="section-title">安装 Host Utilities</block>
  <block id="96d192942ad7d0399b1d3c052048858e" category="section-title">以交互方式安装 Host Utilities</block>
  <block id="b9f1aba85711fc915cd6550e3ca2e6e7" category="section-title">从命令行安装 Host Utilities</block>
  <block id="07ee9e83df0d4150e93a9ee4baf057dc" category="section-title">升级 Host Utilities</block>
  <block id="30274a5c03a68dfb0e3da27a1cd33fa4" category="section-title">以交互方式升级 Host Utilities</block>
  <block id="dd50cfcc5c296046208fa46e968e0119" category="section-title">从命令行升级 Host Utilities</block>
  <block id="71a1238a2a3eb2842a1147f88470407a" category="section-title">修复和删除 Windows Host Utilities</block>
  <block id="7ec91814b4b8031452953e60444fdac1" category="section-title">以交互方式修复或删除 Windows Host Utilities</block>
  <block id="e4ab25c62c74b247f110cc0ddf4a7128" category="section-title">从命令行修复或删除 Windows Host Utilities</block>
  <block id="46795771824c20823fe2d0312b584a17" category="section-title">了解 Host Utilities 对 FC HBA 驱动程序设置所做的更改</block>
  <block id="afe3961340d8bd7d749848a97e031049" category="section-title">验证 FC 系统上的 Emulex HBA 驱动程序设置</block>
  <block id="884960c052ad072d600fae7dc861c0c6" category="section-title">验证 FC 系统上的 QLogic HBA 驱动程序设置</block>
  <block id="fa9e69db74b196178518c663016c3abe" category="section-title">在 RHEL 8.2 上启用 NVMe/FC</block>
  <block id="dec4201e999d968c719dedcc36a07302" category="inline-link">RHEL 8.4 发行说明</block>
  <block id="260a3557d08efe46355d18910743ceaa" category="list-text">由于出现未解决的问题， RHEL 8.4 上的 NVMe/TCP 仍是一项技术预览功能。请参见<block ref="bb64a8145ae27872979820bfd89ab97b" category="inline-link-rx"></block> 了解详细信息。</block>
  <block id="da5c98f4248ec7387bdaa6db8341fdef" category="section-title">启用内核 NVMe 多路径</block>
  <block id="c98fed57553daff5a2cf2fa022d54254" category="section-title">配置 NVMe/FC</block>
  <block id="c0aa648bd7e5700f1ad07528684facf8" category="section-title">启用 1 MB I/O 大小（可选）</block>
  <block id="f4091bd53ceacc19d9ac766c9cdb9866" category="section-title">配置 NVMe/TCP</block>
  <block id="02ec5a6431274b50044361aad326cbdc" category="paragraph">与 NVMe/FC 不同， NVMe/TCP 没有自动连接功能。这表明 Linux NVMe/TCP 主机存在两个主要限制：</block>
  <block id="524fa08703d908aeca5cccda70508020" category="list-text">* 恢复路径后不会自动重新连接 * NVMe/TCP 无法自动重新连接到在路径关闭后 10 分钟内恢复的路径，此路径超出了默认值 `Ctrl-los-tm` timer 。</block>
  <block id="5ac8d4417219a758cb216b44e499a52a" category="list-text">* 主机启动期间无自动连接 * NVMe/TCP 也无法在主机启动期间自动连接。</block>
  <block id="9f291dc2ffc26a15b15d66dfbe7c03c7" category="list-text">验证启动程序端口是否可以通过受支持的 NVMe/TCP LIF 提取发现日志页面数据：</block>
  <block id="cdad7a1e7e4e6d6a5603c6ee5b84a18b" category="list-text">验证其他 NVMe/TCP 启动程序 - 目标 LIF 组合是否能够成功提取发现日志页面数据。例如：</block>
  <block id="55ab77cd94d55aaa364453f7cf104285" category="section-title">验证 NVMe-oF</block>
  <block id="d59a70bb68888f817286630067489719" category="list-text">验证相应 ONTAP 命名空间的适当 NVMe-oF 设置（例如， `model` set to `NetApp ONTAP Controller` and `load balancing OPolicy` set to `round-robin` ）是否正确反映在主机上：</block>
  <block id="6d678a1cb8ddbf76f2e82d8950f207e7" category="list-text">验证 ONTAP 命名空间是否正确反映在主机上。例如：</block>
  <block id="cb7e37c4b617b6aeee210c14100c98d5" category="paragraph">另一个示例：</block>
  <block id="726d293820a3b92756d72e370482b755" category="list-text">验证每个路径的控制器状态是否为活动状态且是否具有正确的 ANA 状态。例如：</block>
  <block id="a4301741972a8d72156639b6c35de92e" category="list-text">验证 NetApp 插件是否为每个 ONTAP 命名空间设备显示了正确的值。例如：</block>
  <block id="a0e093a126a5a6ecc36e81f130400025" category="section-title">在 RHEL 8.1 上启用 NVMe/FC</block>
  <block id="130b6ac09e01287394faa2f305ddde82" category="section-title">在 SLES15 SP1 上启用 NVMe/FC</block>
  <block id="7f281a8c95a2d1ea3fef7e5b156beee5" category="section-title">在 SLES15 SP2 上启用 NVMe/FC</block>
  <block id="f7a582d94c3c08d29da52684240c7e5e" category="section-title">启用 1 MB I/O 大小（可选）</block>
  <block id="7988dd645d080901aa85637adea3c152" category="sidebar">NVMeoF ESXi</block>
  <block id="6450317152c5c108daebac9e8e1a387c" category="sidebar">SLES</block>
  <block id="2f9c81bcc0340cf8ca367c73fc2605c3" category="sidebar">NVMeoF SLES</block>
  <block id="f77a693c238b55e124aad6c742f7abd9" category="sidebar">SLES 15</block>
  <block id="9a5aadcd2f712e90b04bd1524cdd6dc4" category="sidebar">SLES 12</block>
  <block id="d87433b06a0f03952a4dc973f5315687" category="paragraph">对于 Citrix 虚拟机管理程序（ CH ） 8.x ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。CH 8.x 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。您可以使用 ` /sbin/mpathutil` status 命令验证 ONTAP LUN 的设置。以下各节提供了映射到 ASA 角色的 LUN 的示例多路径输出。</block>
  <block id="d6001c34c29bb04684b5c07f3b8c9209" category="section-title">全 SAN 阵列（ ASA ）配置</block>
  <block id="15e8bfaa3c1b932b597dedce3820fa11" category="paragraph">以下示例显示了具有四个主动 / 优化路径的 ONTAP LUN 的正确输出：</block>
  <block id="093280d0b1b888a2d2861cdc763f5f54" category="cell">`detect_prio`</block>
  <block id="d4f9e6cd04344d6033229cebcf82d8e6" category="cell">`dev_los_TMOs`</block>
  <block id="0b45dcda8325354552a9f3f77a81fb12" category="cell">`故障恢复`</block>
  <block id="f723063a7c67a9c4d6dc09fcc9258bc0" category="cell">`fast_io_fail_sm`</block>
  <block id="9b1acf92108be93042969ae0cd15c662" category="cell">`功能`</block>
  <block id="51639d9d920527eeeeb339933ef1d388" category="cell">`flush_on_last_del`</block>
  <block id="dd3d09a74b9822f94f3022c45d6d89eb" category="cell">`hardware_handler`</block>
  <block id="7793f55f663016533cfccea244686d20" category="cell">`path_checker`</block>
  <block id="0229f06974ddf0fbb6c8163410252381" category="cell">`path_grouping_policy`</block>
  <block id="100ea8f1ede2192d241e4386cfe3c479" category="cell">`path_selector`</block>
  <block id="06d7756e9ce36c56b9cea270ed31aa7d" category="cell">`Polling _interval`</block>
  <block id="5b64d224179378eb0872e824614167de" category="cell">`prio`</block>
  <block id="dc2ba82454a2923edf99404df680c7ee" category="cell">`产品`</block>
  <block id="aaa74fa881bc5ea07b9b9aef23bb28ab" category="cell">`retain Attached _hw_handler`</block>
  <block id="1b1f4bb4b35ee6994917bd6527d2e343" category="cell">`rr_weight`</block>
  <block id="677641ebec419b9c5915ed13974b0c07" category="cell">`user_friendly_names`</block>
  <block id="34fed3385bd742bd2b178de283f371b7" category="cell">`vendor`</block>
  <block id="3226f4c6b2d594c2a4e8db91fcc55341" category="section-title">配置 Broadcom/Emulex</block>
  <block id="63d2eef6ffb1f9f0f6a378b0692f6dd3" category="section-title">配置 Marvell/QLogic</block>
  <block id="61092b92c56a8527051cc09db7ffcf96" category="summary">介绍如何在 ONTAP 中使用 Red Hat Enterprise Linux 8.5</block>
  <block id="741d2402053ca439d535ee1e7db603b7" category="doc">将 Red Hat Enterprise Linux 8.5 与 NetApp ONTAP 结合使用</block>
  <block id="10a8491b4d5d18409c61a4a90c61750b" category="section-title">安装 Linux Unified Host Utilities</block>
  <block id="5297043b43f5cb19511228a79f308d23" category="paragraph">对于 Red Hat Enterprise Linux （ RHEL ） 8.5 ，必须存在 ` /etc/multipath.conf` 文件，但您不需要对该文件进行特定更改。RHEL 8.5 使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译。</block>
  <block id="685ee6c581bc2df3a8910672a2af1ac3" category="paragraph">RHEL 8.5 操作系统经过编译，可识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="845e85fa64a2d6037055beba19fe0bd8" category="sidebar">8.5</block>
  <block id="c22c65685ac3f8701da1a00c478b1333" category="cell">1447287</block>
  <block id="778fd215ce10bd514de565e6df2b1758" category="cell">在 SM-BC 配置中，隔离主集群上的 AINFO 事件会导致 HP-UX 主机暂时中断</block>
  <block id="6f80f2e204ff92f2e954367d70413775" category="cell">如果在 SnapMirror 业务连续性（ SM-BC ）配置中的隔离主集群上发生自动计划外故障转移（ AUFO ）事件，则会发生此问题描述。在 HP-UX 主机上恢复 I/O 可能需要 120 秒以上的时间，但这可能不会发生原因任何 I/O 中断或错误消息。此问题描述会导致双事件故障，因为主集群和二级集群之间的连接断开，并且主集群和调解器之间的连接也断开。与其他 AINFO 事件不同，此事件被视为罕见事件。</block>
  <block id="9e1ea4643210fa4abca0c804c4fe3eec" category="paragraph">您可以使用 <block ref="1c6d071c1749743e8ebf715f1c64c2a1" category="inline-link-macro-rx"></block> 以验证您的配置。</block>
  <block id="e6836ae92ec45bf946aba470c3ee98e5" category="paragraph">您可以从下载包含 Host Utilities 软件包的压缩文件 <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block>。下载文件后，必须在安装之前对其进行解压缩。</block>
  <block id="dd0ef0f389a16b505e475797a7b752ac" category="list-text">从下载 HP-UX Host Utilities 文件 `netapp_hpux_host_utilities_6.0_ia_pa.depot.gz` <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block> 连接到 HP-UX 主机。</block>
  <block id="5eaf61000f0f261f2e4793f7e336889a" category="list-text">输入以下命令解压缩 `netapp_hpux_host_utilities_6.0_ia_pa.depot.gz` 文件：</block>
  <block id="93b6e09e96afb8006209af84f438ca2b" category="paragraph">` # gunzip netapp_hpux_host_utilities_6.0_ia_pa.depot.gz`</block>
  <block id="2a346f59c525e5728cec25bf9a377f2f" category="list-text">输入以下命令以安装软件：</block>
  <block id="2d903390e509c4d2f6da1a4d0787b5b6" category="paragraph">` # swinstall -s /storage_path`</block>
  <block id="999cc5e84fec57fdd157e6fdacc5c96a" category="paragraph">`dept_path` 提供存储库文件的路径和名称。</block>
  <block id="e661cef1335457aaa4b6047327cfb656" category="paragraph">`swinstall` 命令可运行一个安装脚本，用于验证 HP-UX 设置的状态。如果您的系统满足要求，此脚本会将 `sanlun` 实用程序和诊断脚本安装在 ` /opt/netapp/santools/bin` 目录中。</block>
  <block id="96e0cae7407a65fe53018dd9c13dbbe7" category="section-title">配置 FC HBA 和交换机</block>
  <block id="13875804930272cb7e31a51605d09c65" category="doc">Solaris Host Utilities 6.2</block>
  <block id="408c1c436b88f56a9e4cf815ca520ffc" category="list-text">为了确保操作可靠，您必须验证您的整个 iSCSI ， FC 或 FCoE 配置是否受支持。</block>
  <block id="8f3b9d0cc42d20c0623a5f0990c4181e" category="paragraph">Solaris Host Utilities 是一款 NetApp 主机软件，可在 Oracle Solaris 主机上提供命令行工具包。此工具包会在您安装 NetApp Host Utilities 软件包时安装。此套件提供 `sanlun` 实用程序，可帮助您管理 LUN 和 HBA 。`sanlun` 命令可返回有关映射到主机的 LUN 的信息，多路径以及创建启动程序组所需的信息。</block>
  <block id="ad13fbfcd593d66a0a805929eb221e19" category="section-title">安装 Solaris Host Utilities</block>
  <block id="03b4fa4e47ce5a6711a2ad9d886d63b4" category="paragraph">Solaris Host Utilities 6.2 支持多个 Solaris 环境和多个协议。主 Host Utilities 环境包括：</block>
  <block id="4dae86ccd354e19dab3d36ea3289ddf9" category="list-text">在使用 SPARC 处理器或 X86/64 处理器的系统上，使用光纤通道（ FC ）或 iSCSI 协议的 MPxIO 的原生 操作系统。</block>
  <block id="bcbce11571c35a16833e1cad61fe922b" category="list-text">在使用 SPARC 处理器的系统上使用 FC 或 iSCSI 协议，在使用 X86/64 处理器的系统上使用 iSCSI 协议的 Veritas 动态多路径（ DMP ）。</block>
  <block id="62f9b54c9ec5d04b22835a93b9aa1fa6" category="admonition">上提供了 NetApp Solaris Host Utilities 软件包 <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block> 以压缩文件格式为您的处理器提供支持。您可以从支持站点下载适用于您的环境的 Host Utilities 软件包。</block>
  <block id="fea59de608f0d3ad102d8ee095187049" category="list-text">以 root 用户身份登录到主机。</block>
  <block id="9b81dac243940d3f9c3490234e86754f" category="list-text">从下载包含 Host Utilities 的压缩文件的副本 <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block> 到主机上的目录。</block>
  <block id="b2d33f0e0e850a2d778dfce3637f0b06" category="paragraph">在编写本文档时，压缩的文件名为：</block>
  <block id="9957056b4d6f0788b84485f7f408d79d" category="list-text">SPARC CPU ： `NetApp_Solaris_host_utilities_6_2_sparc.tar.gz`</block>
  <block id="8b2e8dcabd2803cfffe6d347e740d632" category="list-text">x86/x64 CPU ： `NetApp_Solaris_host_utilities_6_2_amd.tar.gz`</block>
  <block id="4b9b8c4fa4d1eb96283d16c11c709e8e" category="list-text">使用 gunzip 命令解压缩文件</block>
  <block id="1f2423b6dd7c87600c006dd4fe70055e" category="paragraph">` # gunzip netapp_solaris host_utilities_6_2_sparc.tar.gz`</block>
  <block id="d35a857c138589666873eef37b70bd9c" category="paragraph">` # tar xvf netapp_solaris host_utilities_6_2_sparc.tar`</block>
  <block id="963069b30b9e059f13bf53eb0a7cfbfe" category="list-text">将从 tar 文件提取的软件包添加到主机。您可以使用 `pkgadd` 命令执行此操作。</block>
  <block id="0c91635f19857d5fe1642e137ecfe86f" category="paragraph">这些软件包将添加到 ` /opt/NTAP/SANToolkit/bin` 目录中。以下示例使用 `pkgadd` 命令安装 Solaris 安装包：</block>
  <block id="e0da89c5b7248a8324e10a5d7c6af64f" category="paragraph">` # pkgadd -d ./NTAPSANTool.pkg`</block>
  <block id="230a086a88f004fde1f1d6cfcc3f4f87" category="list-text">使用 `pkginfo` 命令或 `ls - al` 命令确认工具包已成功安装。</block>
  <block id="43993f1d866abd26f6850284c50866b3" category="list-text">完成后，您必须使用 ` /opt/NTAP/SANToolkit/bin/host_config` 命令为您的环境配置主机参数：</block>
  <block id="cdfd79e32ab8a821a843e89d91bdcd8d" category="list-text">MPxIO</block>
  <block id="8ae046464e598978903e62c0c706373c" category="list-text">Veritas DMP</block>
  <block id="a335fa6e5bef06439b229f8adabc7dfe" category="section-title">列出从给定 SVM/ 映射到主机的所有 LUN 列出映射到主机的给定 LUN 的所有属性</block>
  <block id="072bbeb072deda2033d37a6e9af67b96" category="summary">介绍如何在ONTAP 中使用Oracle Linux 8.5</block>
  <block id="bebf74152cdc0b8f2233ff49a9112052" category="doc">将Oracle Linux 8.5与NetApp ONTAP 结合使用</block>
  <block id="5afff738a58f6889eebdd3efb2f2c405" category="paragraph">对于Oracle Linux (OL) 8.5、/etc/multipath.conf文件必须存在、但您不需要对该文件进行特定更改。OL 8.5是使用识别和正确管理ONTAP LUN所需的所有设置进行编译的。</block>
  <block id="2e4318e2eccbd53d66a800f6dabff27f" category="admonition">要配置Oracle Linux 8.5 RedHat Enterprise Kernel (RHCK)、请使用 <block ref="7e47a54075763937d25ec51fa82726e1" category="inline-link-macro-rx"></block> 适用于Red Hat Enterprise Linux (RHEL) 8.5。</block>
  <block id="2e4b1a8e103650d2f0fe4c61f4f8d5fb" category="paragraph">Oracle Linux 8.5没有已知问题。</block>
  <block id="5d90071a09878a695a26d84f9a4f073b" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="b5087b96e856dc400373808e0f627382" category="inline-link-macro-rx"></block> 一节。</block>
  <block id="870d3ab5f8bca6f13651e1aa38ee6783" category="summary">《Linux Unified Host Utilities 7.1发行说明》</block>
  <block id="7a14880cd1144b4db863930b81a2f16e" category="doc">《Linux Unified Host Utilities 7.1发行说明》</block>
  <block id="ac5c0d1e2c9f556405ba5d0ebcee7448" category="paragraph">本发行说明文档包含Linux Unified Host Utilities 7.1版的最新信息、包括有关已知问题和限制、任何重要注意事项、新功能和增强功能的更新。此外、还介绍了自发布Host Utilities以来可能发现的任何问题。</block>
  <block id="114f5567a26fcd42b3a2049490c5f4b2" category="section-title">关于Linux Unified Host Utilities 7.1版</block>
  <block id="fcb3d433efb9ae3f476517ca8e33cd39" category="paragraph">Linux Unified Host Utilities支持多个Linux操作系统。使用Host Utilities可以将Linux主机连接到NetApp存储系统。</block>
  <block id="2c4f9a2d7ffae41716c3bea741995926" category="paragraph">Linux Unified Host Utilities 7.1仍支持以下版本的Linux：</block>
  <block id="c73bbd3786350b0a8d3577d82afdf489" category="list-text">Red Hat Enterprise Linux</block>
  <block id="4ae0b3e9c82d7212e106b8d937d888f9" category="list-text">SUSE Linux Enterprise Server</block>
  <block id="f777d0936a10c30e434b6808f6124eaa" category="list-text">Oracle VM</block>
  <block id="12d3f37fc10bb62fe3297b7457e90417" category="list-text">Citrix XenServer</block>
  <block id="6c670cc4f12f5e52c8291d35c3932068" category="admonition">有关Host Utilities支持的操作系统版本和更新的特定信息、请参见 <block ref="454ffc53fb26d285d765b8fbe8c25a5d" category="inline-link-macro-rx"></block>。</block>
  <block id="fb30f31b8baeae42f69695791942e3a3" category="paragraph">Host Utilities软件以32位和64位.rpm文件的形式提供。您可以从下载适用于您的主机架构的正确.rpm文件和文档 <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block>。</block>
  <block id="838cc8ab1454bd7f8f1150dacfe96313" category="inline-link-macro">《 Linux Unified Host Utilities 7.1 安装指南》</block>
  <block id="cbdbfecfc2f9103a31c93551a8ca2169" category="paragraph">有关安装和设置的说明、请参见 <block ref="060c9cd2a0a348a800de9ed8d9bd6071" category="inline-link-macro-rx"></block>。</block>
  <block id="43ec90f5f7e8651a9ba069c9d5119a36" category="paragraph">Linux Host Utilities现在称为_Linux Unified Host Utilities_、因为它支持运行SANtricity 的NetApp E系列存储系统以及运行ONTAP 的AFF 和FAS 系统。</block>
  <block id="3401add29441e486a87e080c062d2319" category="admonition">本文档中提及的Host Utilities或Linux Host Utilities均指Linux Unified Host Utilities。</block>
  <block id="4209f01684e986e98bd7db997f06ed37" category="list-text">此版本的Linux Unified Host Utilities支持经过调整的软件包、用于在Red Hat Enterprise Linux 6和7主机上设置服务器配置文件并提高I/O性能。</block>
  <block id="bf82089ceffc1db6d2dda7875edaa5e4" category="list-text">Linux Unified Host Utilities 7.1仍支持以下版本：</block>
  <block id="3a1e716823ca631a43c0c3de405a1e4b" category="list-text">Red Hat Enterprise Linux 6和7现在具有一个经过调整的软件包、其中包含`tuned-adm`命令、可根据环境在主机上设置不同的服务器配置文件。</block>
  <block id="30b4768014d8a013f1f593b8afe6fb38" category="list-text">其中包括一个企业存储配置文件、用于使用企业存储阵列中的LUN的配置。您也可以将Red Hat Enterprise Linux的虚拟子系统配置文件用作子虚拟机。使用这些经过调整的软件包可以显著提高ONTAP 的吞吐量和延迟。</block>
  <block id="df9acd1db1992fc307ada4549840fbbd" category="admonition">在初始版本之后、NetApp将继续与Host Utilities配合使用、以增加对功能的支持。有关支持的功能以及已添加的新功能的最新信息、请参见 <block ref="454ffc53fb26d285d765b8fbe8c25a5d" category="inline-link-macro-rx"></block>。</block>
  <block id="94648c6bfe4e5f155249afe8baa0af7c" category="section-title">新增功能和增强功能</block>
  <block id="4cdb57a14ff056cba74062a20d5038e4" category="paragraph">随着新信息的提供、发行说明会在不同产品版本之间进行更新。</block>
  <block id="98f0e8f6ac68ca9ce5c40038e9c315fc" category="section-title">7.1增强功能</block>
  <block id="a3ccaa134ff70292247596c1510e2f49" category="list-text">此版本支持以下功能：</block>
  <block id="9085058ee40c6aea4b4062d815f10796" category="list-text">SUSE Linux Enterprise Server 15系列</block>
  <block id="9644255060b40cdfcd8ea1615fe043fa" category="list-text">Oracle VM 3.2系列</block>
  <block id="5658a750ca0f24bc92094b686b6258d0" category="list-text">Oracle Linux 6和7系列</block>
  <block id="d216058d64b318d5b9cf23cae02c1ab3" category="list-text">Red Hat Enterprise Linux 6和7系列</block>
  <block id="bb45e555ad5e8fd7b39ad7055ae2fee5" category="list-text">SUSE Linux Enterprise Server 11 SP4</block>
  <block id="5f8af70f22329002dbdbc795c806cfc6" category="list-text">KVM和XEN、RHEV-6.4和6.5</block>
  <block id="49a50d4f58561eda25bfce1e3b33701a" category="list-text">Citrix XenServer参数</block>
  <block id="e3084fdb2d5ea6f0f2ce41358fd37dbd" category="list-text">增加了对Emulex和Qlogic中32 Gb光纤通道适配器的支持。</block>
  <block id="931f0d754b7a3bfa5cb9a801cdf5a87c" category="list-text">在SLES12SP1、OL7.2、RHEL7.2和RHEL 6.8中修复了`sanlun lun show -p getting SIGABRT`。</block>
  <block id="de1ff84cb81890d47939fb29d21e29d4" category="list-text">扩展了对Red Hat Linux 6.8、Oracle Linux 6.8、XenServer 7.0、Oracle VM 3.3系列和Oracle VM 3.4系列操作系统的支持。</block>
  <block id="2813f127dc58929fb553bc32684c2e46" category="section-title">已知问题和限制</block>
  <block id="8b777dc32f2f743eb513fca0bfd52348" category="cell">1457017</block>
  <block id="0078173d6c66e3e11217e80e4ecc1d1b" category="cell">`sanlun`安装问题与`libdevmapper.so`和`libnl.so`库相关的警告消息。这些警告不会影响`sanlun` kit的功能。</block>
  <block id="fa43a065e595f68c9747ec1c332db0fe" category="paragraph"><block ref="830162a7c9ab7fc626354bdc7e06a36f" category="inline-link-macro-rx"></block> 提供有关大多数已知问题的完整信息、包括可能的建议解决方法。</block>
  <block id="25fca6d5f6b8d10f692a7f66ee2eee3c" category="paragraph">您可能需要使用的一些关键字组合和错误类型包括：</block>
  <block id="c47c6ba2c86eeee1e865b8ee90c66641" category="list-text">FCP—Linux</block>
  <block id="6dd1573a0335bb03fdc0c8231d802e5a" category="list-text">iSCSI—Linux</block>
  <block id="cd0071277804a942902cc16cb5e9cda4" category="inline-link-macro">ONTAP SAN主机配置文档</block>
  <block id="5787cd6f0fbd05d03decbef0348d1b18" category="paragraph">请参见 <block ref="bb9994c78007f3d6549ad9b3eb7dd244" category="inline-link-macro-rx"></block> 有关主机操作系统设置和配置的详细信息。</block>
  <block id="398a7031b2f8b7650a0d5fa0fd16f3f8" category="section-title">关于SAN主机配置文档</block>
  <block id="04dc63ffa7a6d95f3385a8886f05dc01" category="paragraph">有关SAN Host Utilities的文档、请参见 <block ref="bb9994c78007f3d6549ad9b3eb7dd244" category="inline-link-macro-rx"></block>。ONTAP SAN主机配置文档是累积的、涵盖所有当前的SAN主机版本。各个版本之间的任何功能差异都会在上下文中注明。</block>
  <block id="0f68b904e33d9ac04605aecc958bcf52" category="section-title">追加信息</block>
  <block id="45f46864d42785de56264eca6e97bee1" category="section-title">使用与Linux内核捆绑的驱动程序时建议使用的默认值</block>
  <block id="987c26774efa908312fb01ff50e7e858" category="paragraph">在设置使用原生 的FC环境时、如果此驱动程序是与Linux内核捆绑在一起的收件箱驱动程序、则可以使用这些驱动程序的默认值。在使用iSCSI解决方案 软件的iSCSI环境中、您需要根据所使用的操作系统版本手动设置某些建议值。</block>
  <block id="7431f7a183aa9cfe2910bb761205485d" category="section-title">从何处查找产品文档和其他信息</block>
  <block id="c5079a4f9245d0085178c5ad194bac89" category="paragraph">您可以访问所有NetApp产品的文档、并在NetApp公司站点的产品文档页面上查找其他产品信息资源、例如技术报告和白皮书。</block>
  <block id="3ff27b1e3325a6e4ca7c06c3dec9d13c" category="paragraph">*配置和管理ONTAP 存储系统*</block>
  <block id="86236b49ff131485c2b4de4baab79770" category="inline-link-macro">《ONTAP 软件设置指南》</block>
  <block id="5bfadca807c3aa6dc047b074d813aff4" category="list-text">。 <block ref="eb97e344065e5b8076466213afb4528b" category="inline-link-macro-rx"></block> 适用于您的ONTAP 版本</block>
  <block id="e14a95309ebbad9203e12ea129172d1e" category="inline-link-macro">《ONTAP SAN管理指南》</block>
  <block id="0088ffe866af761d6d172abf73c2504c" category="list-text">。 <block ref="dcbc5977eb4eae232288be25155552fa" category="inline-link-macro-rx"></block> 适用于您的ONTAP 版本</block>
  <block id="626a7cbe056796bcb1c158b143866230" category="inline-link-macro">《 ONTAP 发行说明》</block>
  <block id="a60d936499718f3c1e7b5ddddae45c91" category="list-text">。 <block ref="6991a2ee8a93b15fb816a46b15ea0677" category="inline-link-macro-rx"></block> 适用于您的ONTAP 版本</block>
  <block id="77fcedc082e9efc45f62c54e77698ccc" category="paragraph">*配置和管理E系列存储系统*</block>
  <block id="027a98b335c07e30bf607b1f1bca9a1f" category="list-text">适用于您的协议的《SANtricity 存储管理器Windows配置和配置快速指南》</block>
  <block id="1dd312da5024844045e50a58abaf9db6" category="list-text">适用于您的操作系统、协议和SANtricity 版本的《SANtricity 存储管理器配置和配置快速指南》。</block>
  <block id="353be7c67f0bea9221f8808465816d0c" category="list-text">适用于您的SANtricity 版本的《SANtricity 存储管理器软件安装参考》。</block>
  <block id="adacfb21d59059a5b9d11b1957fbacb1" category="list-text">适用于您的SANtricity 版本的《SANtricity 存储管理器多路径驱动程序指南》。</block>
  <block id="eb6dfbdfc2c6cfdacfb27a9630c40334" category="list-text">适用于您的SANtricity 版本的《SANtricity 存储管理器发行说明》。</block>
  <block id="5f93f381aa8df330451fa5b834f54def" category="inline-link-macro">E 系列文档</block>
  <block id="476ffa3f7602d624a09df7aa5753ffef" category="paragraph">转至 <block ref="9baa7224a8255cea231b31bb3cb8d26c" category="inline-link-macro-rx"></block> 查找SANtricity 相关文档。</block>
  <block id="2c0074fce84282581b2b52e56eacf78e" category="sidebar">安装LUhu 7.1</block>
  <block id="3e88abad927ef9520e50cf89d3f1ddf7" category="paragraph">您应始终检查 ` /etc/multipath.conf` 文件中的原有设置，尤其是默认部分中的原有设置，这些设置可能会覆盖默认设置。</block>
  <block id="51f210eb8bfa53321744e9dca7258c87" category="paragraph">Oracle Linux 8.1 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="60f09d4774647857c92f5a51f6de2354" category="paragraph">Oracle Linux 8.0 操作系统经过编译，可识别 ONTAP LUN 并自动正确设置所有配置参数。</block>
  <block id="ffe5b32185032e3b293e94d4a0232f34" category="paragraph">Oracle Linux 8.2 操作系统经过编译，可以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="73d4b705776db33e6478d2847ebc567c" category="paragraph">Oracle Linux 8.5操作系统经过编译、可以识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="cb209f9eec3baeb4065409d39ca1f4d5" category="paragraph">Oracle Linux 8.3 操作系统经过编译，可以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="ce431e2558ea7b456c531991fb4a7e92" category="paragraph">Oracle Linux 8.4 操作系统经过编译，可以识别 ONTAP LUN ，并自动为 ASA 和非 ASA 配置正确设置所有配置参数。</block>
  <block id="c785c7cbae0a664e0cc339dfef33bde1" category="paragraph">ASM镜像可能需要更改Linux多路径设置、以使ASM能够识别问题并切换到备用故障组。ONTAP 上的大多数 ASM 配置都使用外部冗余，这意味着数据保护由外部阵列提供，并且 ASM 不会镜像数据。某些站点使用正常冗余的 ASM 来提供双向镜像，通常在不同站点之间进行镜像。请参见 <block ref="85b4e48fbc653b43bc1d23927e9a43d3" category="inline-link-macro-rx"></block> 了解更多信息。</block>
  <block id="3eeb371f92f74d2b6501646282092ca7" category="summary">介绍如何在ONTAP 中使用CentOS 8.4</block>
  <block id="32d86924bbcb8820c9a350a7d741cbea" category="doc">将CentOS 8.4与NetApp ONTAP 结合使用</block>
  <block id="e5a962185d7bd63be4f29de827478b1c" category="paragraph">对于CentOS 8.4、必须存在`/etc/multipath.conf`文件、但您不需要对该文件进行特定更改。CentOS 8.4是使用识别和正确管理ONTAP LUN所需的所有设置进行编译的。</block>
  <block id="ea4f6ca54725c6a00ccdbd33cafe2aa2" category="paragraph">CentOS 8.4经过编译、可以识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="c33b879e8a189cf4ded38992165273b7" category="summary">介绍如何在ONTAP 中使用CentOS 8.5</block>
  <block id="d5af4406caf44199917cb9aa00203c40" category="doc">将CentOS 8.5与NetApp ONTAP 结合使用</block>
  <block id="60d0d78dbe9bb18e16690c35ce6867e1" category="paragraph">对于CentOS 8.5、必须存在`/etc/multipath.conf`文件、但不需要对该文件进行特定更改。CentOS 8.5会使用识别和正确管理ONTAP LUN所需的所有设置进行编译。</block>
  <block id="fd586a803662833af2a4932bc04d30c2" category="paragraph">CentOS 8.5操作系统经过编译、可识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="18c14def8d42f0c0db0b8f08922c712b" category="paragraph">CentOS 8.5没有已知问题。</block>
  <block id="6ae085cbc4684a00a3e68524ecf70cfa" category="doc">将适用于Linux的Veritas Infoscale 8与NetApp ONTAP 结合使用</block>
  <block id="1b2a59730ea53da6436d8353216d1a0c" category="paragraph">本文档提供了有关采用FC、FCoE和iSCSI协议的Red Hat Enterprise Linux和Oracle Linux (基于RHCK)平台的Veritas Infoscale存储基础8系列版本的ONTAP SAN主机配置设置的指导。</block>
  <block id="c5b648f7fb06555dc55d907fcf7b4c14" category="paragraph">您必须验证您的配置是否满足系统要求。有关详细信息、请参见NetApp互操作性表工具和Veritas HCL表。</block>
  <block id="ce081634ead33780d73e0e1f6b9ea0ca" category="paragraph">使用 Veritas 动态多路径（ VxDMP ）时，您必须执行配置任务，将 NetApp LUN 声明为 Veritas 多路径设备。您必须安装 Veritas 为 NetApp 存储系统提供的阵列支持库（ Array Support Library ， Asl ）和阵列策略模块（ Array Policy Module ， apm ）软件包。虽然 Veritas Software Installation 会随产品一起加载默认的 ASl apm 软件包，但建议使用 Veritas 支持门户上列出的最新受支持的软件包。</block>
  <block id="697675a4c21edc6fc07599249d9fe748" category="paragraph">在所有 SAN 阵列（ ASA ）配置中，指向给定逻辑单元（ LUN ）的所有路径均处于活动状态并已进行优化。这意味着可以同时通过所有路径提供 I/O ，从而提高性能。</block>
  <block id="4e0b2b4c829cef3166a5190a135bb26f" category="sidebar">Infoscale 8.</block>
  <block id="25a8014bcb3b1759e3c29f5d375c6bf2" category="paragraph">CentOS 7.0没有已知问题。</block>
  <block id="0d22c29a0eb01e70e085a44916b321b4" category="cell">1440718</block>
  <block id="2a80f8446aa4a429e9f97920b1e74d2c" category="cell">如果在未执行SCSI重新扫描的情况下取消映射或映射LUN、可能会导致主机上的数据损坏。</block>
  <block id="432a6b98702aceeda0bf1a325e31bcf4" category="inline-link-macro">NetApp知识库：Oracle Linux 7上iSCSI LUN上的文件系统损坏</block>
  <block id="0317854ad5c788fd489e5dfe652c06cd" category="cell">如果将"disable_changed_WWIDs"多路径配置参数设置为是、则在WWID发生更改时、它将禁用对路径设备的访问。在将路径的WWID还原到多路径设备的WWID之前、多路径将禁用对路径设备的访问。要了解更多信息，请参见 <block ref="5e3e42b5c40ab78809e1bb63eb29a681" category="inline-link-macro-rx"></block>。</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">不适用</block>
  <block id="3c0005e386c72a025042c9cd742e78cf" category="paragraph">CentOS 7.2没有已知问题。</block>
  <block id="4a77bd6ca1098e847cb75095287cdf8d" category="paragraph">CentOS 7.3没有已知问题。</block>
  <block id="ebc6dd08dd10ab545441a995fcd41e3f" category="paragraph">CentOS 7.1没有已知问题。</block>
  <block id="4391e4a69364ebb845d6562846716af4" category="doc">《AIX Host Utilities 6.1发行说明》</block>
  <block id="ebdfd2288177a34c60438efc134f52c4" category="paragraph">当有关使用AIX Host Utilities的新信息可用时、发行说明文档将进行更新。</block>
  <block id="cfbc0c9386472f86132990683d16796f" category="section-title">关于AIX Host Utilities 6.1版</block>
  <block id="f418c08cd071f42a28a07d007dd30c34" category="paragraph">您可以使用AIX Host Utilities将AIX主机连接到NetApp存储。AIX Host Utilities支持多种环境以及FC、FCoE和iSCSI协议。支持的环境包括AIX MPIO (原生 OS)和PowerVM。</block>
  <block id="66c2d1ced882bffc99d6170e17a232ef" category="paragraph">有关Host Utilities支持的操作系统版本和更新的特定信息、请参见 <block ref="7ce73c7ae176dd6b577d1c14b445f0cd" category="inline-link-macro-rx"></block>。</block>
  <block id="3f26b03249bcf33b72a6e9f71d4c4282" category="paragraph">有关PowerVM功能的详细信息、请参见IBM PowerVM实时分区移动红皮书。</block>
  <block id="96fc0af94642a00891e1f664446fd1e7" category="admonition">您必须为集群模式Data ONTAP 部署中的所有FC和FCoE启动程序启用动态跟踪。</block>
  <block id="156a1e571b521a8e82a746701d96aeca" category="section-title">AIX Host Utilities 6.1增强功能</block>
  <block id="40289338bc754c0009f5e9a173f6e09a" category="list-text">AIX Host Utilities 6.1增加了对早期版本的AIX主机操作系统中发生的内存故障问题描述 的支持。在AIX Host Utilities 6.1中、只有sanlun二进制文件发生了更改。MPIO和相关ODM保持不变。</block>
  <block id="1d453c5c717af73a82e2d6b6cedf1fce" category="section-title">固定问题描述</block>
  <block id="31e6a451d2627922bc41740af153d931" category="cell">BugID</block>
  <block id="ce88cf74aded8b7f41efd83d007f21f2" category="inline-link-macro">872113</block>
  <block id="3a2f9996a60f471edd9edae7099e1d69" category="cell">在发生原因 某些版本的AIX主机操作系统上、`sanlun lun show–p`命令可能会出现内存故障</block>
  <block id="74aed4fe3d0a3c89158ce037c3d1305f" category="cell">运行`sanlun lun show -p`命令时报告了AIX核心转储的间歇实例。Sanlun的`lun show -p`选项可为主机上发现的所有LUN提供多路径信息。它会对这些信息进行排列、以显示哪个SCSI设备来自哪个LUN、路径状态(主设备或二级设备)以及其他详细信息。但是、在某些运行`sanlun lun show -p`命令的AIX主机发生原因 上、可能会出现内存故障。只有在使用`-p`选项运行sanlun命令时、才会出现此问题描述。</block>
  <block id="18dfadbcd8c4c8fb9d50fac0fb3aeb16" category="paragraph">要高效使用Host Utilities、您应注意、性能可能会受到特定功能的已知问题(例如网络)或Host Utilities不支持的功能(例如特定版本的操作系统)的影响。</block>
  <block id="b066ca6122c9857ad1ee3a44f18cc5e7" category="cell">错误 ID</block>
  <block id="31a061fd71807c34f31d154d95c10691" category="inline-link-macro">1069147</block>
  <block id="cad62af5cd7e448be659302e1eba73b4" category="cell">AIX HU Sanlun报告的HBA速度不正确</block>
  <block id="64c42781be8a2208b9ffdc60d28bc076" category="cell">运行`sanlun fcp show adapter–v`命令时、报告sanlun显示不正确的HBA速度的实例。`sanlun fcp show adapter–v`命令可显示HBA卡信息、例如适配器支持的速度和协商的速度。这似乎只是一个报告问题描述。要确定实际速度、请使用`fcstat fcsx`命令。</block>
  <block id="f83b431a86f1d264a4fc51c9a667a1ee" category="paragraph"><block ref="2f247b6bc715dd3b3f556a7c1dea26c9" category="inline-link-macro-rx"></block> 提供有关大多数已知问题的完整信息、包括可能的建议解决方法。您可能需要使用的一些关键字组合和错误类型包括：</block>
  <block id="31dade612c24301b89dad4a9747ed73e" category="list-text">FCP常规：显示与特定主机无关的FC和HBA错误。</block>
  <block id="09244b95824d6e702b6eaab2034bdeec" category="list-text">FCP—AIX</block>
  <block id="bba7946c172f683f15783fc909c9d5cf" category="paragraph">有关SAN Host Utilities的文档、请参见 <block ref="257925f1258b094e61a79b35ac8d3a5c" category="inline-link-macro-rx"></block> 文档。ONTAP SAN主机配置文档是累积的、涵盖所有当前的SAN主机版本。各个版本之间的任何功能差异都会在上下文中注明。</block>
  <block id="e01ab2a4280a36b99ef1be4dac2123ef" category="inline-link-macro">《ONTAP SAN管理指南》</block>
  <block id="b90eb3e688d069ada30157d4030b66f5" category="inline-link-macro">支持的光纤通道SAN拓扑</block>
  <block id="a1976a5397f63f5caa13a0e86733d543" category="list-text"><block ref="a1976a5397f63f5caa13a0e86733d543" category="inline-link-macro-rx"></block></block>
  <block id="c0965c2d259d63a3e2cbab60c837eaaa" category="inline-link-macro">为主机配置Host Utilities</block>
  <block id="2ee1fba4400a50245e66ef649b54d588" category="sidebar">安装AIX HU 6.1</block>
  <block id="b767aaa513fc8b09074940ccea06b212" category="summary">介绍如何在ONTAP 中使用Red Hat Enterprise Linux 8.6</block>
  <block id="0202939493cea9d89d8217a646a65b54" category="doc">将Red Hat Enterprise Linux 8.6与NetApp ONTAP 结合使用</block>
  <block id="be200813e91d3b0e3285391fd2e20825" category="paragraph">对于Red Hat Enterprise Linux (RHEL) 8.6、必须存在`/etc/multipath.conf`文件、但您不需要对该文件进行特定更改。RHEL 8.6使用识别和正确管理ONTAP LUN所需的所有设置进行编译。</block>
  <block id="98d83a607473e5d6dab1096f6758273a" category="paragraph">RHEL 8.6操作系统经过编译、可识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="9b402891c0d38b9c654dcfa36df9d722" category="sidebar">8.6.</block>
  <block id="cebcd1a5ff2049be4533aaf6b185029d" category="summary">《AIX Host Utilities 6.1发行说明》</block>
  <block id="b46a43d1dd4c2f14b94228f8a8b1e193" category="paragraph">本文档提供了有关使用FC、FCoE和iSCSI协议的Citrix XenServer 7系列操作系统版本的ONTAP SAN主机配置设置的指导。</block>
  <block id="c03432d938277a67cb7c8ce5d783b2ca" category="paragraph">以下示例显示了具有所有四个主动/优化路径的ONTAP LUN的正确输出：</block>
  <block id="c1326fec4f12ec093296d507d6b6e33a" category="summary">介绍如何在ONTAP 中使用Oracle Linux 8.6</block>
  <block id="b53c88044f47f5b72ea564dc18bd61d6" category="doc">将Oracle Linux 8.6与NetApp ONTAP 结合使用</block>
  <block id="fa491ee178ddf6e96992dad027671112" category="paragraph">对于Oracle Linux (OL) 8.6、必须存在`/etc/multipath.conf`文件、但您不需要对该文件进行特定更改。OL 8.6使用识别和正确管理ONTAP LUN所需的所有设置进行编译。</block>
  <block id="ea11e68a3ea4e3736ee4012985057991" category="paragraph">Oracle Linux 8.6操作系统经过编译、可以识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="805a476dee7a3e2c96d744778fabadf2" category="admonition">要配置Oracle Linux 8.6 RedHat Enterprise Kernel (RHCK)、请使用 <block ref="db48836fc998d5e9210c21f83870f464" category="inline-link-macro-rx"></block> 适用于Red Hat Enterprise Linux (RHEL) 8.6。</block>
  <block id="eb39e2dacde05fafa987d04a67eb15ff" category="paragraph">Oracle Linux 8.6没有已知问题。</block>
  <block id="5ebe49302359fb6e4d762fdceb288864" category="admonition">有关 Oracle Linux （ Red Hat 兼容内核）的已知问题，请参见 <block ref="10ee08d1b3d909bc389f3b317276174b" category="inline-link-macro-rx"></block> 一节。</block>
  <block id="c0555368ec9919ce9b1c9712c00dbb76" category="section-title">SM-BC支持AIX</block>
  <block id="a87c560166b76536072b61a847b883d2" category="paragraph">从ONTAP 9.11.1开始、SM-BC支持AIX。在AIX配置中、主集群是"活动"集群。</block>
  <block id="244c37afdc307098d90d497c08f88069" category="paragraph">在AIX配置中、故障转移会造成中断。每次故障转移时、您都需要在主机上执行重新扫描、才能恢复I/O操作。</block>
  <block id="ba865279c8bb1f9a639935e3cb2406b0" category="inline-link-macro">如何为SnapMirror业务连续性(SM-BC)配置AIX主机</block>
  <block id="ce41c78a17a5925101abf561eb152ad3" category="paragraph">要配置适用于SM-BC的AIX、请参阅知识库文章 <block ref="bfd553e439e8f0adcfe76e0cf010b4a4" category="inline-link-macro-rx"></block>。</block>
  <block id="90d3fa524bd535112a1305441a6b2d57" category="paragraph">RHEL 8.5没有已知问题。</block>
  <block id="ad2169ec031852e9940a4b4b46c207f8" category="paragraph">RHEL 8.4没有已知问题。</block>
  <block id="16ded13e0c1b6477bffcca576db8e692" category="doc">将Red Hat Enterprise Linux 9.0与NetApp ONTAP 结合使用</block>
  <block id="ea1335497ead6bd540f2e523154123a0" category="paragraph">对于Red Hat Enterprise Linux (RHEL) 9.0、必须存在`/etc/multipath.conf`文件、但您不需要对该文件进行特定更改。RHEL 9.0使用识别和正确管理ONTAP LUN所需的所有设置进行编译。</block>
  <block id="40aa2a6195f4abccde9c89cc1ad6965b" category="paragraph">RHEL 9.0操作系统经过编译、可识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="29cafbf989ec1577f968e04d52752f5e" category="paragraph">RHEL 9.0没有已知问题。</block>
  <block id="587384a32d909bff27b8405e18d9d7cf" category="summary">如何使用ONTAP 为RHEL 9.0配置NVMe-oF主机</block>
  <block id="e9ee682ada1a582afd7d18367051b9ba" category="doc">适用于采用ONTAP 的RHEL 9.0的NVMe-oF主机配置</block>
  <block id="d5a9179e304fd13ff8268ac2240e3ef4" category="paragraph">RHEL 9.0支持NVMe-oF (包括NVMe/FC和NVMe/TCP)、并且ONTAP 阵列上运行正常的存储故障转移(Storage Failovers、SFO)需要非对称命名空间访问(Asymmetric Namespace Access、ANA)。ANA是NVM-oF环境中的ALUA等效项、目前已通过内核NVMe多路径实施。本文档详细介绍了如何在RHEL 9.0和ONTAP 上使用ANA作为目标来启用采用内核NVMe多路径的NVMe-oF。</block>
  <block id="95369a4b9030e2f901d021df167f021b" category="list-text">从RHEL 9.0开始、NVMe/TCP不再是技术预览功能(与RHEL 8不同)、而是完全受支持的企业功能本身。</block>
  <block id="c1e6aa7090af15f8d8efefa50c5ebbb9" category="list-text">从RHEL 9.0开始、默认情况下会为NVMe命名空间启用内核NVMe多路径、而无需显式设置(与RHEL 8不同)。</block>
  <block id="140268ba3849abd78f34f907f067407f" category="paragraph">请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的配置的确切详细信息。</block>
  <block id="061e98174e60e8e432e858a83311d44d" category="list-text">在服务器上安装RHEL 9.0。安装完成后、验证您是否正在运行指定的RHEL 9.0内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="aa752093cf87ece20a99a98640048b70" category="list-text">安装完成后、验证您是否正在运行指定的RHEL 9.0内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="d79792e27890df0330ac43850943e028" category="list-text">安装`NVMe-CLI`软件包。</block>
  <block id="f5b9e6db2b2e5a554b55fd280914f516" category="list-text">在主机上，检查 ` /etc/nve/hostnqn` 处的主机 NQN 字符串，并验证它是否与 ONTAP 阵列上相应子系统的主机 NQN 字符串匹配。例如：</block>
  <block id="e842da2108d28a3593f8615a854fc699" category="admonition">如果主机NQN字符串不匹配、则应使用`vserver modify`命令更新相应ONTAP NVMe子系统上的主机NQN字符串、以匹配主机上`/etc/nve/hostnqn`中的主机NQN字符串。</block>
  <block id="bad5d213c95812779e8e7d73fa0f92a4" category="list-text">验证您使用的是受支持的适配器。有关支持的适配器的最新列表、请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="2a8380564c8c0b5cd202773abd4f94d3" category="list-text">验证您是否正在使用建议的 Broadcom lpfc 固件和收件箱驱动程序。有关支持的适配器驱动程序和固件版本的最新列表、请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block>。</block>
  <block id="f3eaa9e3e89c370c17729852377aed2f" category="list-text">验证`lpfc_enable_FC4_type`是否设置为`3`。</block>
  <block id="3966ea09485d038487c75511d7133dc9" category="list-text">启用1 MB I/O大小。</block>
  <block id="99e650add6ead46b272ac60ccc4c6184" category="paragraph">对于`lpfc`驱动程序到问题描述 I/O请求、需要将`lpfc_SG_seg_cnt`参数设置为`256`、最大大小为1 MB。</block>
  <block id="7f905df84e3f641e977ad2d5240dee4b" category="list-text">主机启动后、验证`lpfc_sg_seg_cnt`是否设置为`256`。</block>
  <block id="73a7814e5695a25d9824e6de50fe0979" category="paragraph">RHEL 9.0内核中包含的原生 收件箱qla2xxx驱动程序具有最新的上游修复程序、这对于ONTAP 支持至关重要。验证您是否正在运行受支持的适配器驱动程序和固件版本：</block>
  <block id="055436915aa042f3fdf8045e013acbb5" category="list-text">验证启动程序端口是否能够通过支持的NVMe/TCP LIF提取发现日志页面数据：</block>
  <block id="351f4726c12d45250df101c8bd9578d6" category="list-text">同样、验证另一个NVMe/TCP启动程序-目标LIF组合是否能够成功提取发现日志页面数据。例如：</block>
  <block id="7ce841894f1ef8447498c5c8f5b1f19a" category="section-title">验证NVMf</block>
  <block id="dc53dad0b533fb8bfe7d6c60ef1fa91e" category="list-text">验证相应ONTAP 命名空间的适当NVMf设置(例如、将型号设置为`NetApp ONTAP Controller`、并将负载平衡`IOPS`设置为`round-robin`)是否正确反映在主机上：</block>
  <block id="85d648e4cde5d10dc52f7133eae3a296" category="list-text">验证 ONTAP 命名空间是否正确反映在主机上。例如(a)、</block>
  <block id="cebb9dfdc378481f9e93e7b505fe4f1d" category="paragraph">示例(b)：</block>
  <block id="cdb0ca847e914e0c124768ae14142869" category="list-text">验证每个路径的控制器状态是否为活动状态且是否具有正确的ANA状态。例如(a)、</block>
  <block id="86a8f02d0c1226cbab77460737c32b26" category="list-text">验证 NetApp 插件是否为每个 ONTAP 命名空间设备显示了正确的值。例如(a)、</block>
  <block id="1718051495b27f0539c358a077bb3e35" category="paragraph">在对任何NVMe/FC故障开始任何故障排除之前、请始终确保运行的配置符合IMT 规格。然后、继续执行以下步骤以调试任何主机端问题。</block>
  <block id="8f04ccd4b6d17f7acb33a4a2262bb3e9" category="section-title">lpfc详细日志记录</block>
  <block id="aaea768bb3e8e6a627ea335fd9c9f934" category="paragraph">下面列出了可用于NVMe/FC的lpfc驱动程序日志记录位掩码、如`drivers /scsi/lpfc/lpfc_logmsg.h`中所示：</block>
  <block id="bcb565adfa69c5b85ffe2a63c2276769" category="paragraph">您可以将`lpfc_log_verbose`驱动程序设置(附加到位于`/etc/modprobe.d/lpfc.conf`的lpfc行中)设置为上述任意值、以便从`lpfc`驱动程序的角度记录NVMe/FC事件。然后运行`dracut -f`命令重新创建`initiramfs`、然后重新启动主机。重新启动后、请使用上述`log_nve_disc` bitmask作为示例检查以下内容、以验证是否已应用详细日志记录：</block>
  <block id="dd1f73319dd2881afa35604270a821b9" category="section-title">qla2xxx详细日志记录</block>
  <block id="292a88b738894f862e50bb3161bd2fac" category="paragraph">NVMe/FC没有类似的特定qla2xxx日志记录、如`lpfc`中所提供的日志记录。您可以在此处设置常规qla2xxx日志记录级别、例如、`ql2xextended_error_logging=0x1e400000`。为此、可以将此值附加到相应的`modprobe qla2xxx conf`文件中。然后运行`dracut -f`重新创建`initramfs`、然后重新启动主机。重新启动后、验证详细日志记录是否已应用如下所示：</block>
  <block id="e3f05e6b08d377aca967243a953ecfb9" category="section-title">常见NVMe-CLI错误和解决方法</block>
  <block id="22c54dce95fdc049759d97572077c406" category="cell">`无法写入/dev/nve-Fabric：参数无效`在`nvme discover`、`nvme connect`或`nvme connect-all`期间出错</block>
  <block id="45161d7ae04ea62480ae1583b09c337a" category="cell">如果语法错误、通常会显示此错误消息。</block>
  <block id="4d68eca36b7598d8d220c8109ee77d2c" category="cell">`无法写入/dev/nve-Fabric：在` nvme discover `、`nvme connect`或`nvme connect-all``期间、没有此类文件或目录</block>
  <block id="0d6f3d7e1a23f40a79b28023090d2a74" category="cell">多个问题可能会触发此问题。其中一些常见情形包括：您向上述NVMe命令传递了错误的参数。</block>
  <block id="0300a463a2779250716b195b0f15c1ba" category="paragraph">确保已为上述命令传递适当的参数(例如适当的WWNN字符串、WWPN字符串等)。如果参数正确、但仍显示此错误、请检查`/sys/class/scsi_host/host*/nve_info`输出是否正确、并在此处的远程端口部分下将NVMe启动程序显示为`Enabled`、同时适当显示NVMe/FC目标LIF。例如：</block>
  <block id="ad02181fdbf4245ee0052cfb92cb8bcc" category="paragraph">临时解决策 ：如果目标LIF未在`NVMe_info`输出中显示为上述内容、请检查`/var/log/messages`和`dMesg`输出中是否存在任何可疑的NVMe/FC故障、并相应地报告或修复。</block>
  <block id="9f7680250af5452ad3bc6e1373a71a11" category="cell">`在` nvme discover `、`nvme connect`或`nvme connect-all``期间、没有要提取的发现日志条目</block>
  <block id="6bd22b028f1c581999993ec8672aea1c" category="cell">确保已将确切的`/etc/nve/hostnqn`字符串添加到NetApp阵列上的相应子系统中(通过`vserver nvme子系统主机show`进行验证)。</block>
  <block id="00443539b6acea3b81b118f7a7f62818" category="cell">`无法写入/dev/nve-Fabric：操作已在进行中`在`NVMe发现`、`NVMe连接`或`NVMe连接全部`期间</block>
  <block id="796b7594f30be7947c1efffc9c471c02" category="cell">如果控制器关联或指定操作已创建或正在创建、则会显示此错误消息。在上述自动连接脚本中可能会发生这种情况。</block>
  <block id="628687124665ca6b9dfc96e945da3db4" category="cell">无对于`NVMe discover`、请尝试在一段时间后运行此命令。对于`nvme connect`和`connect-all`、运行`nvme list`以验证是否已在主机上创建并显示命名空间设备。</block>
  <block id="2d9c87ae045b9e45b670135f74d969b1" category="paragraph">如果您仍面临问题、请收集以下文件和命令输出并将其发送以供进一步鉴别：</block>
  <block id="e7e8e011c8e0651dc3a6d06305d8279e" category="paragraph">RHEL 8.3没有已知问题。</block>
  <block id="ce420cebd9b134c2ee33ae6a490c31ba" category="paragraph">如果您要在同一个同时存在的 RHEL 8.2 主机上同时运行 NVMe 和 SCSI 流量，建议您分别对 ONTAP 命名空间使用内核 NVMe 多路径，对 ONTAP LUN 使用 dm-multipath 。您还应将 dm-multipath 中的 ONTAP 命名空间列入黑名单，以防止 dm-multipath 声明这些命名空间设备。为此，您可以将 `enable_Foreign` 设置添加到 /etc/multipath.conf 中，如下所示。</block>
  <block id="6507882f376544268e31289f84d4ee08" category="doc">HP-UX Host Utilities 6.0</block>
  <block id="0f03ad1ba726a38547e37a072e28a71f" category="paragraph">HP-UX Host Utilities是一款NetApp主机软件、可在HP-UX主机上提供命令行工具包。此工具包会在您安装 NetApp Host Utilities 软件包时安装。此套件提供 `sanlun` 实用程序，可帮助您管理 LUN 和 HBA 。`sanlun` 命令可返回有关映射到主机的 LUN 的信息，多路径以及创建启动程序组所需的信息。</block>
  <block id="272bb0cd3faf2ede65f3ff18b59a2e04" category="section-title">安装HP-UX Host Utilities</block>
  <block id="8d8dc06df50e7cce23a5ef1dbeed7796" category="paragraph">上提供了NetApp HP-UX Host Utilities软件包 <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block> 在压缩文件中。</block>
  <block id="c0a1ecccf7e7b3c14696d029be49ed25" category="paragraph">RHEL 8.6没有已知问题。</block>
  <block id="dfd9db293eabf1724158b5cc08e4dd12" category="cell">HP-UX 11.31主机在ASA 设置中间歇性报告路径状态不正确。</block>
  <block id="478829f91ffe1d5a9fcb7ae0a4fa2eda" category="cell">HP-UX LVM创建会发送块大小超过1 MB的I/O</block>
  <block id="24cc4783034cf857703516141d8cc8ad" category="summary">《Solaris Host Utilities 6.2发行说明》</block>
  <block id="07cb401e35e41c1ea4ba568ba75b0261" category="doc">《Solaris Host Utilities 6.2发行说明》</block>
  <block id="a8d190b8be84e8cfdb8b2df1b04cb957" category="paragraph">当有关使用Solaris Host Utilities的新信息可用时、将更新发行说明文档。</block>
  <block id="83abaefac7375849eeb586ba637a2d22" category="section-title">关于Solaris Host Utilities 6.2版本</block>
  <block id="d64c00d8393bc6d797e2fd2eb038c7f6" category="paragraph">Solaris Host Utilities 6.2 支持多个 Solaris 环境和多个协议。</block>
  <block id="5a5633c19126b79400042b56b8dcdf4a" category="paragraph">主 Host Utilities 环境包括：</block>
  <block id="767f7d3fe0b51453e22e1a752809bb31" category="paragraph">Host Utilities软件打包为一个压缩文件。您可以从下载压缩文件和文档 <block ref="a42716fdd3c80ae75cadfb8024b65de0" category="inline-link-macro-rx"></block>。ONTAP SAN主机配置提供了有关安装和设置主机实用程序以使用您的环境和协议的说明。</block>
  <block id="fb9cdd561144e3cb503f58cd43dd40d8" category="section-title">Solaris Host Utilities 6.2增强功能</block>
  <block id="52750b526bc4bf2e606bf8c9f028a7dd" category="paragraph">Solaris Unified Host Utilities 6.2仍支持以下版本的Solaris：</block>
  <block id="238f1d3f645f5f1e553625afd4dc7fb0" category="list-text">Solaris 11.x系列</block>
  <block id="2b8110c907876ccbe7f01756c156e957" category="list-text">Solaris 10.x系列</block>
  <block id="d73ed314065ad31059ac799a62ab4558" category="inline-link-macro">1385189</block>
  <block id="61699638eccafbea1975db4ccc09e234" category="cell"><block ref="61699638eccafbea1975db4ccc09e234" category="inline-link-macro-rx"></block></block>
  <block id="a86ba0de523aff5743fd70c108891432" category="cell">HUK 6.2中需要更改Solaris 11.4 FC驱动程序绑定</block>
  <block id="675cd835d9ce32e06a4658192745eec8" category="cell">Solaris 11.4 和 HUK 建议。FC驱动程序绑定已从`sSD (4d)`更改为`sd (4d)`。将`ssd.conf`中的配置移动到`s ds.conf`中、如Oracle中所述(文档ID 2595926.1)。新安装的 Solaris 11.4 系统以及从 11.3 或更低版本升级的系统的行为会有所不同。</block>
  <block id="00dc1b7be02ff53d2291441f5821cfa6" category="paragraph"><block ref="355b22d66d025f6de0a19431aae0f536" category="inline-link-macro-rx"></block> 提供有关大多数已知问题的完整信息、包括可能的建议解决方法。您可能需要使用的一些关键字组合和错误类型包括：</block>
  <block id="5efa35169834b61127329a24175ec34d" category="list-text">FCP常规：显示与特定主机无关的FC和HBA错误</block>
  <block id="f19106aa57c6316e97d751c16d547b41" category="list-text">FCP—Solaris</block>
  <block id="3c7828b2d190734834ce40e8064c1dac" category="list-text"><block ref="3c7828b2d190734834ce40e8064c1dac" category="inline-link-macro-rx"></block></block>
  <block id="2aa7ada2848fa0738fbfac1114907aa4" category="list-text"><block ref="cbfe825e8e02458e2eef3cd048612d7d" category="inline-link-macro-rx"></block> (以前称为《系统配置指南》)</block>
  <block id="15b39b3049d63d1b09b2b4d4ddc115a4" category="list-text"><block ref="15b39b3049d63d1b09b2b4d4ddc115a4" category="inline-link-macro-rx"></block></block>
  <block id="c52f3cfca61100f76a974648c1c9a180" category="list-text"><block ref="c52f3cfca61100f76a974648c1c9a180" category="inline-link-macro-rx"></block></block>
  <block id="0d39b3cffd5d0d33f0a5ed2db83a7aea" category="cell"><block ref="0d39b3cffd5d0d33f0a5ed2db83a7aea" category="inline-link-macro-rx"></block></block>
  <block id="ba57f19b6b69755c2919b58188582a77" category="cell"><block ref="ba57f19b6b69755c2919b58188582a77" category="inline-link-macro-rx"></block></block>
  <block id="e8db03fc399918672bed8132e0d8ea35" category="list-text">。 <block ref="0f33c30ae119203ebbfd38575ad3015e" category="inline-link-macro-rx"></block> 适用于您的ONTAP 版本</block>
  <block id="230a02b4afeea5b0d97c6a68a6530da3" category="summary">《HPUX Host Utilities 6.0发行说明》</block>
  <block id="e16c4360565a75371ee1b578b4c1ecca" category="doc">《HP-UX Host Utilities 6.0发行说明》</block>
  <block id="928dee6fba9a0c4ccb1b167e31071cc0" category="paragraph">本发行说明文档提供了有关HP-UX Host Utilities 6.0版本的最新信息、其中包括有关已知问题、限制以及配置和管理ONTAP 存储系统的更新。当有关使用HP-UX Host Utilities的新信息可用时、发行说明文档将进行更新。</block>
  <block id="02f8eb4aa3c5b1158e37fd1a9c849ca8" category="section-title">关于HP-UX Host Utilities 6.0版本</block>
  <block id="18691c1295f4b1c26d2e8a9a5b67cfb9" category="paragraph">HP-UX Host Utilities支持多个HP-UX环境和多个协议。HP-UX Host Utilities支持以下环境：</block>
  <block id="8017a7ef798d9749aaed2e77fcebed98" category="list-text">原生 MPIO</block>
  <block id="4aade2cc63558a9db8aa3c9a6c9639d3" category="list-text">Veritas动态多路径(DMP)</block>
  <block id="89d83ddcffe2153b6741a0e85d8548a2" category="admonition">为了立即明确所使用的环境、本文档有时会为Veritas DMP环境指定"DMP"、为HP-UX原生 环境指定"MPIO"。在某些情况下、您使用的命令可能会因所使用的驱动程序而异。在这些情况下、系统会同时指定环境和驱动程序类型。</block>
  <block id="06cc7f9865c73b00a63121a0f4b0b752" category="section-title">HP-UX Host Utilities 6.0增强功能</block>
  <block id="8812d57ba4da4daf9e7f43422d05e0a9" category="paragraph">随着新信息的提供、发行说明会在不同产品版本之间进行更新。HP-UX Host Utilities 6.0仍支持以下版本：</block>
  <block id="c7c7e4d1fc8a47f946a88914900694c3" category="list-text">HP-UX 11iv2.</block>
  <block id="4feac8845db3a6b1f4e4ead570b6b3ad" category="list-text">HP-UX 11iv3.</block>
  <block id="7a1ba2e6d3a8198d5626f5d4e55d2293" category="paragraph">HP-UX 6.0版本没有已知问题。</block>
  <block id="24fd1012a719e6b6977b3715ecf0b77d" category="inline-link-macro">ONTAP SAN主机配置文档。</block>
  <block id="7ab7d878b8d563f012f51b55009390ab" category="paragraph">有关SAN Host Utilities的文档、请参见 <block ref="63739903ee7032df0e31764cc24a819c" category="inline-link-macro-rx"></block> ONTAP SAN主机配置文档是累积的、其中涵盖了所有当前的SAN主机版本。各个版本之间的任何功能差异都会在上下文中注明。</block>
  <block id="5f5628241e19b1175cc4bdd9c398f5b7" category="inline-link-macro">适用于您的ONTAP 版本的ONTAP 软件设置指南</block>
  <block id="3b0fe6f7d254eb266d210040bae111f5" category="list-text">。 <block ref="18f02cc408dbe2e94ae9ae202c089ef8" category="inline-link-macro-rx"></block></block>
  <block id="29ecce87abc03f76c20d3fe564e26dbe" category="inline-link-macro">适用于您的ONTAP 版本的ONTAP SAN管理指南</block>
  <block id="2895d2b5c5ce91fe3e854c5054f19b62" category="list-text">。 <block ref="13c491dae34255ba8eee5d0f620c1f33" category="inline-link-macro-rx"></block></block>
  <block id="13d4f4be1ab239d2cd36fb812fad5fc1" category="inline-link-macro">适用于您的ONTAP 版本的ONTAP 发行说明</block>
  <block id="d7b5ae94e622a21572fe07c48e20da09" category="list-text">。 <block ref="2ba744c2429cbcfc53bdb0428522a053" category="inline-link-macro-rx"></block></block>
  <block id="60cb9c3f22cf2b74a314e1d7baf48bef" category="paragraph">CentOS 8.4没有已知问题。</block>
  <block id="032f858f49a253e7a44870c242d0aa5b" category="sidebar">安装HP-UX HU 6.0</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">发行说明</block>
  <block id="a7a862c0d782706aace5e07821f4f4c9" category="sidebar">安装Solaris HU 6.2</block>
  <block id="cf5f238fca8b6e155078aa41c175743a" category="sidebar">9.0</block>
  <block id="38aef0bc7cf230dfcf5476915774aa95" category="sidebar">RHEL 9</block>
  <block id="3f11bd75d4bcc18b35f7eeb9b9966c9c" category="summary">如何使用ONTAP 为RHEL 8.6配置NVMe-oF主机</block>
  <block id="b9eb9bf81c2c715367e1e8b187ea1f75" category="doc">适用于采用ONTAP 的RHEL 8.6的NVMe-oF主机配置</block>
  <block id="fefda4d440faefacdda0158d1d3fb686" category="paragraph">采用ANA (非对称命名空间访问)的RHEL 8.6支持基于网络结构的NVMe或NVMe-oF (包括NVMe/FC和其他传输)。ANA 是 NVMe-oF 环境中的 ALUA 等效产品，目前已通过内核 NVMe 多路径实施。此处介绍了在RHEL 8.6和ONTAP 上使用ANA作为目标的内核NVMe多路径中启用NVMe-oF的详细信息。</block>
  <block id="d5328c13c170a1ce1607fad34405b646" category="list-text">除了NVMe/FC之外、RHEL 8.6还支持NVMe/TCP (作为技术预览功能)。原生 NVMe-CLI软件包中的NetApp插件能够显示NVMe/FC和NVMe/TCP命名空间的ONTAP 详细信息。</block>
  <block id="8b247e50297ab7aed14b6a8ff2b845c9" category="list-text">对于RHEL 8.6、默认情况下、内核NVMe多路径保持禁用状态。因此，您需要手动启用它。</block>
  <block id="be5312f4fb03f3ebb989659ec7b543ee" category="inline-link">RHEL 8.6发行说明</block>
  <block id="4e51b6ca34ea06c883ab4b1c963bee49" category="list-text">由于出现未解决的问题、RHEL 8.6上的NVMe/TCP仍是一项技术预览功能。请参见<block ref="e25c0351018067ddae5b70edc45d84fc" category="inline-link-rx"></block> 了解详细信息。</block>
  <block id="5060cc5b216e626855bc2ef2a9b98372" category="list-text">在服务器上安装RHEL 8.6。安装完成后、验证您是否正在运行指定的RHEL 8.6内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="67a7c2662b17653a8ac76448e703f0b7" category="list-text">安装完成后、验证您是否正在运行指定的RHEL 8.6内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="71dcdd59971df1a5bb4dfbb60ffe2bad" category="list-text">确认启动程序端口已启动且正在运行、并且您可以看到目标LIF。</block>
  <block id="95e3f3faa5bf8e48441621d165c05044" category="paragraph">RHEL 8.6内核中包含的原生 收件箱`qla2xxx`驱动程序具有最新的上游修复程序、这些修复程序对于ONTAP 支持至关重要。</block>
  <block id="346a874868cfe5950cc070d607e10dda" category="list-text">验证其他NVMe/TCP启动程序-目标LIF组合是否可以成功提取发现日志页面数据。例如：</block>
  <block id="3bb5487a25f2c91e7d62566cb6026b68" category="list-text">验证 ONTAP 命名空间是否正确反映在主机上。例如：</block>
  <block id="f2af591771f10d63662bd947024ee100" category="list-text">验证每个路径的控制器状态是否为活动状态且是否具有正确的 ANA 状态。例如：</block>
  <block id="c13733aade7c22e1d6c0fb7be8a8c754" category="list-text">验证 NetApp 插件是否为每个 ONTAP 命名空间设备显示了正确的值。例如：</block>
  <block id="295d37bcf3aa6754427b612bea361663" category="paragraph">如果未将`/etc/nve/hostnqn`字符串添加到NetApp阵列上的相应子系统、或者在相应子系统中添加了不正确的`hostnqn`字符串、则通常会显示此错误消息。</block>
  <block id="dcda2cb33413b9ab0c8373225de75578" category="summary">如何使用ONTAP 为RHEL 8.5配置NVMe-oF主机</block>
  <block id="3ae77fb5b2d43b5802128bed00b85944" category="doc">适用于采用ONTAP 的RHEL 8.5的NVMe-oF主机配置</block>
  <block id="9eea7fd01633455098385cd20b7dd183" category="paragraph">采用ANA (非对称命名空间访问)的RHEL 8.5支持基于网络结构的NVMe或NVMe-oF (包括NVMe/FC和其他传输)。ANA 是 NVMe-oF 环境中的 ALUA 等效产品，目前已通过内核 NVMe 多路径实施。此处介绍了在RHEL 8.5和ONTAP 上使用ANA作为目标的内核NVMe多路径中启用NVMe-oF的详细信息。</block>
  <block id="ec81597eac06c85c5ddfa44cc8fcbd52" category="list-text">除了NVMe/FC之外、RHEL 8.5还支持NVMe/TCP (作为技术预览功能)。原生 NVMe-CLI软件包中的NetApp插件可以显示NVMe/FC和NVMe/TCP命名空间的ONTAP 详细信息。</block>
  <block id="206f20ba4ee9fc54736165b9006258a5" category="list-text">对于RHEL 8.5、默认情况下、内核NVMe多路径保持禁用状态。因此，您需要手动启用它。</block>
  <block id="46e2bc1ba1e17f9c87c8bdd0665dde6a" category="inline-link">RHEL 8.5发行说明</block>
  <block id="ba53163a27cd9bc34ed5a326c3bcd717" category="list-text">由于出现未解决的问题、RHEL 8.5上的NVMe/TCP仍是一项技术预览功能。请参见<block ref="e17db2abe54f171cfce139c1feeab28f" category="inline-link-rx"></block> 了解详细信息。</block>
  <block id="9c7d4fd2f8e0f3f2d80343ad47595e46" category="list-text">在服务器上安装RHEL 8.5 GA。安装完成后、验证您是否正在运行指定的RHEL 8.5 GA内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="3010e81137392b43d689728401eb1ea9" category="list-text">验证`lpfc_enable_FC4_type`是否设置为3</block>
  <block id="d5236e74852c6cce228c1229faf5ea4f" category="paragraph">RHEL 8.5 GA内核中包含的原生 收件箱`qla2xxx`驱动程序具有最新的上游修复程序、这些修复程序对于ONTAP 支持至关重要。</block>
  <block id="431b68e6f738b5c8bf76d7972d17685f" category="paragraph">通常、如果未将`/etc/nve/hostnqn`字符串添加到NetApp阵列上的相应子系统中、或者在相应子系统中添加了不正确的`hostnqn`字符串、则会显示此信息。</block>
  <block id="d9062f55beecc22ab1e0baaa195b1f68" category="paragraph">无对于`NVMe discover`、请尝试在一段时间后运行此命令。对于`nvme connect`和`connect-all`、运行`nvme list`命令以验证是否已在主机上创建并显示命名空间设备。</block>
  <block id="9b2d197e1555229882f18589d7c32cce" category="list-text">验证相应ONTAP 命名空间的适当NVMe-oF设置(例如、`model` set to `NetApp ONTAP Controller` and load balancing `OPolicy` set to `round-robin`)是否正确反映在主机上：</block>
  <block id="fc42d5b62a406fecb7a634ca014f42c2" category="paragraph">从7.0U3c开始、默认情况下会加载所需的NVMe/TCP模块。有关配置网络和NVMe/TCP适配器的信息、请参见VMware vSphere文档。</block>
  <block id="209ae9abdc2efd05e90e3a97a8913a9b" category="section-title">验证NVMe/TCP</block>
  <block id="e4dbb8bc2f2492f010d3f33dd68f00c8" category="list-text">验证NVMe/TCP适配器的状态。</block>
  <block id="d4babb87959d757516a4f480642224cf" category="list-text">要列出NVMe/TCP连接、请使用以下命令：</block>
  <block id="75d2257ae841105f67aa7e6940b3fccb" category="list-text">要列出NVMe命名空间的路径数、请使用以下命令：</block>
  <block id="d1672d22493ff360a1f07bc1cfac7524" category="doc">将SUSE Linux Enterprise Server 15 SP4与NetApp ONTAP 结合使用</block>
  <block id="aaf285a33d84d021ddb3cf7d93395617" category="paragraph">对于SUSE Linux Enterprise Server 15 SP4、必须存在`/etc/multipath.conf`文件、但您不需要对该文件进行特定更改。SUSE Linux Enterprise Server 15 SP4是使用识别和正确管理ONTAP LUN所需的所有设置进行编译的。</block>
  <block id="3dfda629d29a9eff997fc21c726b36da" category="paragraph">对SUSE Linux Enterprise Server 15 SP4操作系统进行了编译、以识别ONTAP LUN并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="bdb5443c5dd9643367f9496b5fb35d08" category="paragraph">要启动多路径守护进程、必须存在`multipath.conf`文件、但您可以使用以下命令创建一个空的零字节文件：`touch /etc/multipath.conf`</block>
  <block id="a96d8f77801154cf5d51080e06fa3215" category="paragraph">将`&lt;DevID&gt;`替换为要排除的设备的`WWID`字符串。使用以下命令确定`WWID`：</block>
  <block id="9d29c9f01ddee621ba147e8ccc4bc7b0" category="list-text">运行以下命令以确定`WWID`：</block>
  <block id="e97b2c87e2a473e6975fd85e7af8bc02" category="list-text">将此`WWID`添加到`/etc/multipath.conf`中的黑名单stanza中：</block>
  <block id="588664bdfe3aca23316ad7f26a08e2a5" category="paragraph">下表显示了ONTAP LUN的关键多路径参数以及所需值。如果某个主机已从其他供应商连接到 LUN ，并且这些参数中的任何一个被覆盖，则需要在 `multipath.conf` 中稍后使用 stantzas 进行更正，该 stantzas 专门应用于 ONTAP LUN 。如果不执行此操作， ONTAP LUN 可能无法按预期工作。只有在与 NetApp 和 / 或操作系统供应商协商后，才应覆盖这些默认值，并且只有在完全了解影响的情况下才应覆盖这些默认值。</block>
  <block id="e1f518829ea0b48c92b1926c70a84380" category="paragraph">对于SUSE Linux Enterprise Server 15 SP4、没有已知问题。</block>
  <block id="cf79be42f6c9a2f2225f202bfec080c2" category="sidebar">15 SP4</block>
  <block id="8da61845fa1ac07e5d54097fe9d2a4cb" category="summary">介绍如何使用ONTAP 为SUSE Linux Enterprise Server 15 SP4配置NVMe/FC</block>
  <block id="8eb74debb51b4f25feba23cb4c810b37" category="doc">适用于采用ONTAP 的SUSE Linux Enterprise Server 15 SP4的NVMe-oF主机配置</block>
  <block id="c75db19ac5a0dcb194a365e12ad2a6df" category="paragraph">采用ANA (非对称命名空间访问)的SUSE Linux Enterprise Server 15 SP4 (SLES15 SP4)支持基于网络结构的NVMe或NVMe-oF (包括NVMe/FC和其他传输)。ANA 是 NVMe-oF 环境中的 ALUA 等效产品，目前已通过内核 NVMe 多路径实施。此处详细介绍了如何在SLES15 SP4和ONTAP 上使用ANA作为目标来启用采用内核NVMe多路径的NVMe-oF。</block>
  <block id="6bf6f26e72e1a43152386a3d529598cb" category="list-text">SLES15 SP4支持NVMe/FC和其他传输。</block>
  <block id="142ea2bd2623f2c2d64d9ef53c347b24" category="list-text">不支持`sanlun` nve-oF。因此、在SLES15 SP4上、不支持对NVMe-oF使用任何Lu支持。您可以改用原生 `NVMe-CLI`中包含的NetApp插件。此操作应适用于所有 NVMe-oF 传输。</block>
  <block id="10bc893eed35189e5092c4f181aedb5e" category="list-text">NVMe 和 SCSI 流量均可在同一主机上运行。实际上、这应该是通常部署的主机配置。因此、对于SCSI、您可以像往常一样为SCSI LUN配置`dm-multipath`、从而生成mpath设备、而NVMe多路径则可用于在主机上配置NVMe-of多路径设备。</block>
  <block id="4b148e1d7f44cff075101f1edbc6a9fe" category="paragraph">请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的配置的准确详细信息。</block>
  <block id="b545ab3ca975cd0517fdd21a1729e795" category="paragraph">默认情况下、内核NVMe多路径已在SLES15 SP4等SLES主机上启用。因此，此处不需要其他设置。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关支持的配置的准确详细信息。</block>
  <block id="4933033127862860b194cbe455635310" category="list-text">确认SLES15 SP4 MU主机上安装了所需的内核和`NVMe-CLI`维护更新(维护更新)(MU)软件包。</block>
  <block id="c5887937b5b23714e6333cc2805b4864" category="list-text">检查主机上`/etc/nve/hostnqn`处的`hostnqn`字符串、并确保其与ONTAP 阵列上相应子系统的`hostnqn`字符串正确匹配。例如：</block>
  <block id="d9f4f7d9a9eb182e8b8863d6c183e841" category="paragraph">根据主机上使用的FC适配器、继续执行以下步骤。</block>
  <block id="75870a630c07f219a37133dad55f104f" category="paragraph">较新的lpfc驱动程序(收件箱和发件箱)已将`lpfc_enable_FC4_type` default设置为3、因此、您不再需要在`/etc/modprobe.d/lpfc.conf`中明确设置此设置、并重新创建`initrd`。默认情况下，已启用 `lpfc NVMe` 支持：</block>
  <block id="32ecb9890aed827558c7cd1a318fda14" category="paragraph">现有的原生收件箱 lpfc 驱动程序已经是最新版本，并且与 NVMe/FC 兼容。因此、您无需安装lpfc即装即用(OOB)驱动程序。</block>
  <block id="ce48d43c1e6c7a418733e722925a43b8" category="list-text">确认 NVMe/FC 启动程序端口已启用，并且您能够看到目标端口，并且所有端口均已启动且正在运行。在此示例中、仅启用了一个启动程序端口、并与两个目标LIF进行连接、如输出所示：</block>
  <block id="bc1eafdc5546c34f6a9034570437fcc0" category="list-text">运行dracut -f命令、然后重新启动主机。</block>
  <block id="61efa8d63e1b266809e1e79422fed58f" category="paragraph">较新的SLES15 SP4 MU内核中包含的原生 收件箱qla2xxx驱动程序具有最新的上游修复程序、这些修复程序对于ONTAP 支持至关重要。</block>
  <block id="859c1dcdb0decd8fe22f184abe2b92f7" category="list-text">路径恢复后无自动重新连接NVMe/TCP无法自动重新连接到路径关闭后10分钟的默认`Ctrl-los-tm`计时器之后恢复的路径。</block>
  <block id="1077e8ad3542ff8af32bed26b6b21ee8" category="list-text">主机启动期间无自动连接NVMe/TCP也无法在主机启动期间自动连接。</block>
  <block id="b2edbac4a48e893081ffbe4cda9a7dec" category="list-text">验证相应ONTAP 命名空间的适当NVMe-oF设置(例如、将型号设置为NetApp ONTAP 控制器并将负载平衡程序设置为轮循)是否正确反映在主机上：</block>
  <block id="0882578f9915da36a8ab5c612728ad30" category="paragraph">示例(A)：</block>
  <block id="07cf625ee23005956a460fdd83c0142d" category="list-text">如果目标LIF未在`NVMe_info`输出中显示为上述内容、请检查`/var/log/messages`和`dMesg`输出中是否存在任何可疑的NVMe/FC故障、并相应地进行报告或修复。</block>
  <block id="806707e47ee8fe684a6d5e5b0898539a" category="sidebar">NVMeF OL</block>
  <block id="d1b92a4930d50c6ed1038655db0d2684" category="sidebar">所有ONTAP 产品文档</block>
  <block id="0b6a095cb9010243600ae8c7163d4eab" category="summary">适用于采用ONTAP 的Windows Server 2022的NVMe/FC主机配置</block>
  <block id="3140d5ae29066c53a2abd430851c6993" category="paragraph">对于Windows Server 2022、ONTAP 9.7或更高版本支持NVMe/FC。</block>
  <block id="29b512fbc4379581cd2fd8694ca529c4" category="summary">将Windows Server 2022与ONTAP 结合使用</block>
  <block id="8d1d5b8defd8dab28a7e51c7b4ff5d33" category="inline-link-macro">Microsoft Update目录2022</block>
  <block id="6ea674183040bb4a5f8bcd1659c019d0" category="admonition">转至 <block ref="47dfbc363030c19b6fccb995dd42bb8c" category="inline-link-macro-rx"></block> 用于获取并安装适用于您的 Windows 版本的所需 Windows 修补程序的网站。</block>
  <block id="a0ca832c7bbe60482ff7b23217787e1b" category="admonition">选择MPIO支持后、Windows Unified Host Utilities将启用Windows Server 2022中包含的MPIO功能。</block>
  <block id="9f4dcd7f7ce41a6a5b1dc642ee866ecf" category="paragraph">Windows Server 2022没有已知问题。</block>
  <block id="3a824154b16ed7dab899bf000b80eeee" category="sidebar">2022 年</block>
  <block id="452d8ca267c17453aeeac8e238531175" category="sidebar">OL-FCP</block>
  <block id="e6a493a32b49704e906197646788a842" category="sidebar">OL-8-FCP</block>
  <block id="3ef2771cb2d57467dc2cdd1c03e0b795" category="sidebar">OL-7-FCP</block>
  <block id="bfad018c3813e7bc5482c07db9347a41" category="sidebar">OL-6-FCP</block>
  <block id="8479d6fad2633b26cf495862e89ca1c9" category="sidebar">RHEL/9-FCP</block>
  <block id="c3491b1c6045b4ab49c098b050003b88" category="sidebar">RHEL/8-FCP</block>
  <block id="219200e596813435a28215318a2e517d" category="sidebar">RHEL/7-FCP</block>
  <block id="b3b940fc372d8951896f13c236f63d70" category="sidebar">RHEL/6-FCP</block>
  <block id="c11de2cda31d67ed47c0182334a7ac91" category="sidebar">sle-15-fcp</block>
  <block id="2f7ca50ec80cb8bec6ae8dd04c29748c" category="sidebar">Windows-FCP</block>
  <block id="c345c92c1db74865c1b5cb8dad478651" category="summary">此内容提供了有关如何配置连接到ONTAP 存储的SAN客户端的特定分发指南。</block>
  <block id="d1c811acf82829db30f1d8b3e6c940d6" category="doc">SAN主机和云客户端</block>
  <block id="708c2a641aba7d3caf588312e9a41596" category="summary">此内容针对分发提供了有关如何配置连接到Cloud Volumes ONTAP 的云客户端以及连接到内部ONTAP 存储的Amazon FSX for ONTAP 和SAN主机的指南。</block>
  <block id="be2f9317bef1b02401365be22d60a02b" category="doc">SAN主机配置概述</block>
  <block id="ab5c1cc33879491a00632f6478216936" category="paragraph">您的SAN主机和ONTAP 存储可以位于内部、云中、也可以同时位于这两者。</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="inline-link-macro">Cloud Volumes ONTAP</block>
  <block id="18cf072964a583150dd247485ba75b92" category="inline-link-macro">适用于 ONTAP 的 Amazon FSX</block>
  <block id="bd4300690dfdbe14b72c16ede45c8a40" category="paragraph">正确配置对于实现最佳性能和成功故障转移至关重要。</block>
  <block id="5206f5e3d376aae380267b11c8d7e8a0" category="sidebar">此内容提供了有关如何配置连接到ONTAP 存储的SAN客户端的特定分发指南。SAN客户端和ONTAP 存储可以驻留在内部或云中。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">入门</block>
  <block id="5547603ff69e3da92f703bcf50ce3f6b" category="sidebar">AIX主机实用程序发行说明</block>
  <block id="07f600a27795dcb67160c1a6254ac955" category="sidebar">HP-UX Host Utilities发行说明</block>
  <block id="e5df731937a491dd8cd0cc7b6ebee041" category="sidebar">Linux主机实用程序发行说明</block>
  <block id="6ef0df02f01fe0ace4a41985abbcac96" category="sidebar">Solaris主机实用程序发行说明</block>
  <block id="bb27f844f9da131bbc413a981aac48b0" category="sidebar">FCP和iSCSI主机配置</block>
  <block id="5518a21314616fae9f003bf96e584f7f" category="sidebar">Red Hat Enterprise Linux 9.0</block>
  <block id="28cf759ac2f6eab35d6588e5a7c44eac" category="sidebar">SUSE Linux Enterprise Server 15 SP4</block>
  <block id="de547bcab0e20f54ec4d5e95ba44b0b1" category="sidebar">Windows Server 2022</block>
  <block id="926f2d20f93d6be035bae2a94b2a5fc4" category="sidebar">IBM AIX 7.2和PowerVM (VIOS 3.1)</block>
  <block id="48d339e5fe7e520b196955902fda50d4" category="sidebar">Oracle Solaris 11.4.</block>
  <block id="524d2ef3f81ea92b8da31f7bfb61fdfa" category="sidebar">NVMe-oF主机配置</block>
  <block id="dfcc398099d6a64026e51ab282e16253" category="sidebar">更多资源</block>
  <block id="8f631f7b4d000947dcf86232c51cf147" category="sidebar">全SAN阵列软件配置</block>
  <block id="587c9aa3c6003c9a9fa1fc9c2ceb2eaa" category="sidebar">SAN 管理</block>
  <block id="2275d26c218f9babebe06ed5dcc73dab" category="sidebar">配置SAN主机和云客户端</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="sidebar">概述</block>
  <block id="bd2327e60e0cfdc7632cb188bd1c7293" category="sidebar">SAN主机实用程序</block>
  <block id="db3a7c082080fd11b89a35d4b36694db" category="sidebar">AIX主机实用程序</block>
  <block id="6644e7ab2de97becedaef22c5a1099e9" category="sidebar">HP-UX主机实用程序</block>
  <block id="237e46c87c95b6d72dceaf420c603d90" category="sidebar">Linux统一主机实用程序</block>
  <block id="c134d5805f93afa1db7c6399465d2bd8" category="sidebar">Solaris主机实用程序</block>
  <block id="1a0d3890b0eb9dc0c7e3f33e1b9f1865" category="sidebar">NVMeoF RHEL</block>
  <block id="f561aaf6ef0bf14d4208bb46a4ccb3ad" category="paragraph">XXX</block>
  <block id="47e2092f9d666fc24b67c7da02de84c7" category="paragraph">Windows Unified Host Utilities （ Wuhu ）是一组软件程序，其中包含一些文档，可用于将主机计算机连接到 NetApp SAN 上的虚拟磁盘（ LUN ）。建议下载并安装最新的实用程序套件。有关 Wuhu 配置的信息和说明，请参见 <block ref="f7fe1c204ed60a7e9dd594c09fd7b1a5" category="inline-link-macro-rx"></block>。</block>
  <block id="38022ef96e4c7edb41b89fa3a008c3f6" category="inline-link-macro">Windows Host Utility Kit 7.1</block>
  <block id="47806b50157f4c2450dab9085e65bf42" category="list-text">安装 <block ref="3da09c0cdee3c0d99e3c71a79e706ce0" category="inline-link-macro-rx"></block> 设置FC和NVMe通用的驱动程序参数。</block>
  <block id="a94e97667092f5ff8b67813ccebdb0ca" category="paragraph">Host Utilities支持不同的Windows主机配置、协议和多路径选项。有关详细信息，请参见<block ref="b7322bec4509d45107de6de43ca1f517" category="inline-link-rx"></block>。</block>
  <block id="0165fb41a35ddb937948f77394256403" category="inline-link-macro">SAN主机Windows文档</block>
  <block id="6edf97e112927c25a9a1571ba78c02f9" category="list-text">检查上相应主机所需的修补程序 <block ref="d639dff184f4bf79d87dbc978d26f542" category="inline-link-macro-rx"></block>。</block>
  <block id="125c89a36748abb41fb38e89f5009ec9" category="inline-link-macro">将Windows Server 2022与ONTAP 结合使用</block>
  <block id="eff83cf87307f9f0c4cf876914031ade" category="inline-link-macro">安装Windows修补程序</block>
  <block id="74c96d3ba2305a0f126dc2494f4cd977" category="admonition"><block ref="c6686e038b760393cddd662d474b7627" category="inline-link-macro-rx"></block> 提供有关的说明 <block ref="9dcc96c7a1b888cfbb8ae39c864be341" category="inline-link-macro-rx"></block> 对于Windows Server 2022。请参见"主机配置"类别中的Windows文档、以查找早期版本的Windows服务器的相关修补程序信息。</block>
  <block id="f8a9c652b77d95b070fee4e944c23c55" category="summary">《Windows Unified Host Utilities 7.1发行说明》</block>
  <block id="8a9391447d14b7fa38cc33b8b42a5eee" category="doc">《Windows Unified Host Utilities 7.1发行说明》</block>
  <block id="84f4f58e26d14120cd13928993415ef8" category="paragraph">本发行说明文档包含Windows Unified Host Utilities 7.1版的最新信息、包括有关新功能、增强功能和已知问题的更新。当有关使用Windows Host Utilities的新信息可用时、本文档将进行更新。</block>
  <block id="792c65ea8e28d4d1ad3178bd5ed7a65b" category="section-title">关于Windows Unified Host Utilities 7.1版</block>
  <block id="34eb6bacd27b9f225e7ca9de29f4668b" category="paragraph">通过Windows Unified Host Utilities、您可以将Windows主机计算机连接到NetApp存储系统。Windows Unified Host Utilities包含一个安装程序、用于设置所需的Windows注册表和HBA值。</block>
  <block id="13e6b822d7fe9f7e9f0efeca225b29a0" category="paragraph">Windows Unified Host Utilities 7.1仍支持以下版本的Windows：</block>
  <block id="8e81245b7f02b8484320ddb3e4b13c18" category="list-text">Windows 2012</block>
  <block id="1347f9ce905795bee095e16712f81913" category="list-text">Windows 2012R2</block>
  <block id="4083fee85864d55c66d5e0b21a7928b3" category="list-text">Windows 2016</block>
  <block id="0a412bceaa4a8d671231ab04d2e0296e" category="list-text">Windows 2019</block>
  <block id="3ffd22c07b48a1c76b76f941ad1cad96" category="list-text">Windows 2022</block>
  <block id="f30ac79774ac72cad690c3f814efd2fa" category="admonition">NetApp对Host Utilities软件两个版本之间的其他组件进行了资格认定。有关系统要求的最新信息、请参见 <block ref="454ffc53fb26d285d765b8fbe8c25a5d" category="inline-link-macro-rx"></block>。</block>
  <block id="feb11f8755baed6ff89937754d9fdb5e" category="section-title">此Host Utilities版本中的功能</block>
  <block id="ff71b00ca4f59efb041754af8a3c5633" category="paragraph">Windows Unified Host Utilities 7.1支持E系列存储系统、支持ONTAP 9及更高版本、并增强了iSCSI超时功能、可加快故障转移速度。</block>
  <block id="2f7c358042ffb7d37991aff648b1cb3d" category="section-title">重要注意事项</block>
  <block id="aacc0d256c74ef3a06a601980b807a0e" category="paragraph">在部署最新版本的Windows Host Utilities之前、您必须阅读可用信息、以帮助您确定并解决可能影响系统运行的问题。</block>
  <block id="7cd36e8f4d329b5cfafec87711c36cbd" category="paragraph">有关单个错误的详细信息以及探索其他与错误相关的工具、请参见 <block ref="06c8d471f4d0311b3446a94e54fc8a82" category="inline-link-macro-rx"></block>。</block>
  <block id="14604b92d34df545c8df1df02158a241" category="section-title">安装所需的修补程序</block>
  <block id="9271b83ea2248c31dc793920e78f3085" category="paragraph">要确保成功安装或升级Windows Unified Host Utilities、您必须安装特定的Windows修补程序。某些修补程序是Windows更新的一个组件。</block>
  <block id="f00aa3de5284bd6ffc1c6eb440a68428" category="inline-link-macro">Windows Host Utilities文档</block>
  <block id="231e5ff41539516674c45e33de03b0be" category="paragraph">请参见 <block ref="f5596c1e3b207c40ba7cdd523469fc51" category="inline-link-macro-rx"></block> 以满足您的特定配置修补程序要求。</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">已知问题</block>
  <block id="fa8a4c6fcae2ff0a42db985d96655a59" category="paragraph">此版本已确定一些意外的、可能不受欢迎的行为、以及在某些情况下避免这些行为的解决方法。</block>
  <block id="56659c18435d50a38e076a58b32163a4" category="cell">运行<block ref="1582eea6c0c614d1d444d6dfe1f82f4f" prefix=" " category="inline-code"></block> 运行Red Hat Enterprise Linux或SUSE Linux Enterprise Server的Hyper-V子系统不再需要脚本</block>
  <block id="ea42119311b1ebffaae8c2a3d60d8cfd" category="cell">您不再需要运行<block ref="1582eea6c0c614d1d444d6dfe1f82f4f" prefix=" " category="inline-code"></block> 用于更改Red Hat Enterprise Linux 5、Red Hat Enterprise Linux 6或SUSE Linux Enterprise Server 11 Hyper-V子系统上的磁盘超时的脚本、因为正在使用默认超时设置。。<block ref="1582eea6c0c614d1d444d6dfe1f82f4f" prefix=" " category="inline-code"></block> 先前版本的Host Utilities中包含的脚本不再包含在Windows Unified Host Utilities中。Windows Unified Host Utilities 7.1使用默认磁盘超时设置。</block>
  <block id="e91b41f5f9d74fcfaa3733fe1534d7c8" category="cell">使用IPv4和IPv6混合重新启动后、iSCSI会话不会重新连接</block>
  <block id="03a5ef9a07e32294246c302f24714cba" category="cell">在多路径I/O (MPIO)配置或同时具有IPv4和IPv6端点的多个会话连接(MCS)配置中、某些iSCSI会话可能无法在重新启动Windows主机后重新连接。</block>
  <block id="7781892f22565c078543a9afe054eafe" category="cell">要确保所有iSCSI路径在重新启动后均返回、请使用所有IPv4端点或所有IPv6。请勿混合使用IPv4和IPv6。</block>
  <block id="9ffe40d778f0a3ffe9e1f6de2a49fb40" category="cell">iSCSI软件启动不支持MCS</block>
  <block id="63f871187249b3071dc36a54982c1e17" category="cell">如果将iSCSI软件启动与每个会话的iSCSI多个连接(MCS)结合使用、则无法保护iSCSI启动前导连接。这可能会导致与启动LUN断开连接、从而导致主机崩溃。</block>
  <block id="a77cd68a790d44f2359fe8a4dd45b1dc" category="cell">对于iSCSI软件启动的主机、Microsoft不支持MCS。使用MPIO作为高可用性解决方案。请注意、不支持混合使用MPIO和MCS。</block>
  <block id="05aa4f4bc5b51efef2c52f4fb2ddc55f" category="paragraph"><block ref="06c8d471f4d0311b3446a94e54fc8a82" category="inline-link-macro-rx"></block> 提供有关大多数已知问题的完整信息、包括可能的建议解决方法。</block>
  <block id="a64644439f45078aa7c8e54709b6fb99" category="paragraph">请参见 <block ref="098b68c05e072d65de8b63c55177a5c6" category="inline-link-macro-rx"></block> 查找SANtricity 相关文档。</block>
  <block id="748753e893fd2f6b904a298d120af491" category="sidebar">Windows Unified Host Utilities</block>
  <block id="7b4c9d36bd8121e0d136897711d66090" category="sidebar">安装Wuhu 7.1</block>
  <block id="1f87ccc57172166c30629890b2884f0e" category="paragraph">您可以使用<block ref="3d80983fc82ff72fd51e5d1f7e90c56d" prefix=" " category="inline-code"></block> 命令以验证ONTAP LUN的设置。应存在两组具有不同优先级的路径。优先级较高的路径为主动/优化路径、这意味着它们由聚合所在的控制器提供服务。优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="1bad318175e7aa1eb67e6db2256bb9b1" category="paragraph">系统会将提取的软件放置在解压缩存储库文件的目录中。</block>
  <block id="5bd6f64a8cbf5643612affb8bd552a8d" category="paragraph">本发行说明文档包含有关AIX Host Utilities 6.1版的最新信息、包括有关已知问题、限制、配置和管理ONTAP 存储系统的更新。</block>
  <block id="39b3dd6edf4819881415b4ccbfcf4d58" category="paragraph">对于 Oracle Linux 7.1 Uek r4 ， /etc/multipath.conf 文件必须存在，但您不需要对该文件进行特定更改。Oracle Linux 7.1 是使用识别和正确管理 ONTAP LUN 所需的所有设置进行编译的。您可以使用<block ref="3d80983fc82ff72fd51e5d1f7e90c56d" prefix=" " category="inline-code"></block> 命令以验证ONTAP LUN的设置。应存在两组具有不同优先级的路径。优先级较高的路径为主动/优化路径、这意味着它们由聚合所在的控制器提供服务。优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="b2cff30246d08cdfde41ba01866ee693" category="list-text">从ONTAP 9.9.1 P3及更高版本开始、可提供ESXi 7.0 U3 (及更高版本) NVMe/FC支持、因为从ONTAP 9.9.1 P3开始、可提供关键NVMe中止修复(由ESXi 7.0 U3及更高版本发布)。请参见相应的 burt 公有报告，网址为<block ref="e74f384cf37401802acc612082793163" category="inline-link-rx"></block> 了解详细信息。</block>
  <block id="36889db7961eacd91f01477a29a2c5ea" category="list-text">验证的输出<block ref="76b66d5f379b691153dc22425201f6ae" prefix=" " category="inline-code"></block> 命令以确保设置完成。您可以使用<block ref="3d80983fc82ff72fd51e5d1f7e90c56d" prefix=" " category="inline-code"></block> 命令以验证ONTAP LUN的设置。应存在两组具有不同优先级的路径。优先级较高的路径为主动/优化路径、这意味着它们由聚合所在的控制器提供服务。优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="8798c6858a1c8968b7b9cad1ace9d91a" category="list-text">将此WWID添加到/etc/multipath.conf中的"blacklist" stanza中：</block>
  <block id="3ad269cd9c25c5c028bf155f768f0618" category="paragraph">默认情况下、如果没有LUN的可用路径、则AIX操作系统会强制执行较短的I/O超时。在包括单交换机 SAN 网络结构和发生计划外故障转移的 MetroCluster 配置在内的配置中可能会发生这种情况。有关追加信息 以及对默认设置的建议更改、请参见 <block ref="682b92f396ad2229bd62e99c5a518610" category="inline-link-macro-rx"></block></block>
  <block id="eae76491b6011f6e80494775aea500b6" category="paragraph">对于全 SAN 阵列（ ASA ）配置，应存在一组具有单个优先级的路径。所有路径均为主动/优化路径、这意味着它们由控制器提供服务、并通过所有活动路径发送I/O。</block>
  <block id="3012ce3908219f8e726469f86858ac26" category="paragraph">对于 AIX ，路径控制模块（ PCM ）负责控制多个路径。PCM是存储供应商提供的代码、用于处理路径管理。在 Host Utilities 安装过程中会安装并启用此功能。</block>
  <block id="f5188f0db18a0455b279280c37baccd9" category="list-text">解压缩文件。您可以使用<block ref="310cb972d0a51b72a4a64dd98fcc2fb1" prefix=" " category="inline-code"></block> 命令执行此操作。</block>
  <block id="5c3a15590c180da4d9be3de55cf1bab9" category="list-text">您必须查看 <block ref="a681b254fb67a8552286997361f8b0b5" category="inline-link-macro-rx"></block> 检查已知问题。发行说明包括一个已知问题和限制列表。</block>
  <block id="488ee7d410bfc05042cf79417f62b731" category="paragraph">此内容提供了特定于主机和版本的最佳实践、用于快速配置连接到ONTAP 存储的SAN主机。</block>
  <block id="bb80358d422ec918cde74cab08e90d5c" category="admonition">在云环境中、主机通常称为客户端。此内容中的所有主机特定信息也包括适用场景 云客户端。</block>
  <block id="7dac0335f353ff4aea15e7349355818e" category="paragraph">例如、您可以将内部ONTAP 存储配置为连接到内部SAN主机或连接到SAN云客户端。您也可以配置 <block ref="5671724540e4dc98b668b1507167bffb" category="inline-link-macro-rx"></block> 或 <block ref="e817674c4b959088a38fc0d01ba3d16d" category="inline-link-macro-rx"></block> 连接到内部SAN主机或连接到SAN云客户端。</block>
  <block id="6889073c7d1502d89a41a22f7b933a57" category="paragraph">本发行说明文档包含有关Solaris Host Utilities 6.2的最新信息、包括有关已知问题、限制、配置和管理ONTAP 存储系统的更新。</block>
  <block id="94ed2eb93c1ea841359ebf631638ec66" category="paragraph">应存在两组具有不同优先级的路径。优先级较高的路径为主动/优化路径、这意味着它们由聚合所在的控制器提供服务。优先级较低的路径处于活动状态，但未进行优化，因为它们是从其他控制器提供的。只有在没有优化路径可用时，才会使用非优化路径。</block>
  <block id="a667026321ffb956d941d648c0ad659f" category="paragraph">应在主机操作系统上安装可用于每个Linux分发版的RPM软件包"libhbaapi"和"libhbalinu"。</block>
  <block id="2e2f435df31672c9332b32b2b69afe2a" category="sidebar">Windows Host Utilities发行说明</block>
  <block id="3972a4868b0682bd7aa086e3f90df6a5" category="paragraph">在此示例中、<block ref="59b466fd93164953e56bdd1358dc0044" prefix=" " category="inline-code"></block> 是需要添加到黑名单中的本地SCSI磁盘。</block>
  <block id="b23eda8b5a2eb7f788559c0df550f0fa" category="list-text">运行<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 命令。确保设置较长的<block ref="07e325c4a466379e41eabbb9333963e2" prefix=" " category="inline-code"></block> 计时器重试期限(例如、30分钟、可设置为到<block ref="31d4084d03582af5cedde443232aa924" prefix=" " category="inline-code"></block>)、以便在发生路径丢失时重试较长时间。例如：</block>
  <block id="30058c2cccf9fdeeb47f9d3fbf9108bf" category="paragraph">在此示例中、sda是需要添加到黑名单中的本地SCSI磁盘。</block>
  <block id="ed53d9bb40cf906cb73ab578cb3adb1d" category="paragraph">您应将故障转移事件的重试期限至少设置为30分钟、以防止超时。您可以通过增加Ctrl_los_TMOs计时器的值来增加重试期限。详细信息如下：</block>
  <block id="9ac1e2761e536d1b08b677a24976cad9" category="list-text">运行<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 命令。确保设置较长的<block ref="07e325c4a466379e41eabbb9333963e2" prefix=" " category="inline-code"></block> 在期间、计时器重试时间(例如30分钟、可通过-l 1800设置)<block ref="d2cdac60ef2245cec13c7ecfb5c3b376" prefix=" " category="inline-code"></block> 以便在路径丢失时重试较长时间。例如：</block>
  <block id="1272c37c0c38bd618d6d76d763f54041" category="paragraph">在本示例中、对于Citrix虚拟机管理程序8.x、<block ref="59b466fd93164953e56bdd1358dc0044" prefix=" " category="inline-code"></block> 是需要添加到黑名单中的本地SCSI磁盘。</block>
  <block id="1de6caecfe16b961f2f1c858579203f0" category="list-text">运行<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 命令。确保设置较长的<block ref="07e325c4a466379e41eabbb9333963e2" prefix=" " category="inline-code"></block> 计时器重试期限(例如、30分钟、可设置为到<block ref="31d4084d03582af5cedde443232aa924" prefix=" " category="inline-code"></block>)、以便在发生路径丢失时重试较长时间。例如：</block>
  <block id="557c4124a10a18982aa7103d5c4f8b02" category="paragraph">在本示例中、对于Citrix XenServer 7.x、<block ref="59b466fd93164953e56bdd1358dc0044" prefix=" " category="inline-code"></block> 是需要添加到黑名单中的本地SCSI磁盘。</block>
  <block id="ad6d243201e40d0f0153f9cf8a6eca49" category="list-text">运行<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 命令。确保设置较长的<block ref="07e325c4a466379e41eabbb9333963e2" prefix=" " category="inline-code"></block> 计时器重试期限(例如、30分钟、可设置为到<block ref="31d4084d03582af5cedde443232aa924" prefix=" " category="inline-code"></block>)、以便在发生路径丢失时重试较长时间。例如：</block>
  <block id="96e313a007231cc32cb878d3d92047fb" category="paragraph">您应将故障转移事件的重试期限至少设置为30分钟、以防止超时。您可以通过增加Ctrl_los_TMOs计时器的值来增加重试期限。详细信息如下：</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">您需要的内容</block>
  <block id="30f60d67f457bb040dffde52197a54da" category="paragraph-title">相关信息</block>
  <block id="0330f3d77dc0535c34a5f7d97ee8d6a7" category="paragraph-title">Oracle Linux 7.1 Uek R3配置</block>
  <block id="c4243d3bfe77762a42bf710ef09d7a49" category="paragraph-title">Oracle Linux 7.1 Uek r4配置</block>
  <block id="41984fe104ed2a03ac98e13699db0858" category="section-title">7.1版中的新增功能</block>
  <block id="f76dacb09cf26865aa39e565e340c25b" category="paragraph-title">Oracle Linux 7.2 Uek R3配置</block>
  <block id="214edbb0ed79a899577c5689a76a98e3" category="paragraph-title">Oracle Linux 7.2 Uek r4配置</block>
  <block id="563bea0904ae52572ef481dbaa30e7b6" category="paragraph">无需直接向添加任何内容<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block> 文件、除非您的设备不希望由多路径管理、或者您的现有设置覆盖默认值。</block>
  <block id="c6c681f2d9c6e0299e9cad2b809ff1be" category="paragraph">您应始终检查<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block> 文件中的原有设置、尤其是默认设置部分中的设置、这些设置可能会覆盖默认设置。</block>
  <block id="e7ca608348039bbac0657502a5108091" category="paragraph">下表显示了严重<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block> ONTAP LUN的参数和所需值。如果主机已连接到其他供应商的LUN、并且这些参数中的任何一个参数被覆盖、则需要稍后在中使用stanzas进行更正<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block> 专用于ONTAP LUN的文件。如果不执行此操作， ONTAP LUN 可能无法按预期工作。只有在与 NetApp 和 / 或操作系统供应商协商后，才应覆盖这些默认值，并且只有在完全了解影响的情况下才应覆盖这些默认值。</block>
  <block id="98a246e1f1b81f16a2ceb0cc274c4da8" category="summary">如何使用ONTAP 为RHEL 8.7配置NVMe-oF主机</block>
  <block id="b4c2617aeac68a32be5cd8b1d7435cda" category="doc">适用于采用ONTAP 的RHEL 8.7的NVMe-oF主机配置</block>
  <block id="a3492942cb4c45f8a31e3e3845c9f04a" category="paragraph">除了NVMe/FC之外、RHEL 8.7还支持NVMe/TCP (作为技术预览功能)。原生 NVMe-CLI软件包中的NetApp插件能够显示NVMe/FC和NVMe/TCP命名空间的ONTAP 详细信息。</block>
  <block id="0e15c36dca614df066cc960ea227ce1c" category="list-text">对于RHEL 8.7、默认情况下、内核NVMe多路径保持禁用状态。因此，您需要手动启用它。</block>
  <block id="22bdfd7e91e72cf608df0b09fc912791" category="inline-link-macro">RHEL 8.7发行说明</block>
  <block id="8c2b765ab97c39979798e34af69b0f1c" category="list-text">由于出现未解决的问题、RHEL 8.7上的NVMe/TCP仍是一项技术预览功能。请参见 <block ref="3b0b5f7859cfdb8f0e4748ec41710206" category="inline-link-macro-rx"></block> 了解详细信息。</block>
  <block id="37d7cdc3434cd2c93f357a0dbab71896" category="list-text">安装完成后、验证您是否正在运行指定的RHEL 8.7内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="2575819b82d12e9109581acdab9442a5" category="paragraph">如果要在同一主机上同时运行NVMe和SCSI共存流量、建议分别对ONTAP 命名空间使用内核NVMe多路径、对ONTAP LUN使用dm-multipath。这意味着， ONTAP 命名空间应从 dm-multipath 中排除，以防止 dm-multipath 声明这些命名空间设备。可以通过向添加enable_foreign.设置来实现此目的<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block> 文件：</block>
  <block id="336e17a7bbcba7cb9c2f65ad935d30f6" category="paragraph">本机收件箱<block ref="88eda681ac370265f103675d0de61c63" prefix=" " category="inline-code"></block> RHEL 8.7内核中包含的驱动程序具有最新的上游修复程序、这些修复程序对于ONTAP 支持至关重要。</block>
  <block id="18364f61161412813e05ad8b27bed23e" category="paragraph">在对任何NVMe/FC故障开始任何故障排除之前、请确保您运行的配置符合IMT 规范、然后继续执行以下步骤以调试任何主机端问题。</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="section-title">已知问题和限制</block>
  <block id="4c865e0cb70fa33868e69a5e88daad47" category="cell">1479047</block>
  <block id="f890a2d3eb444832b655a9838102f3df" category="cell">2087000</block>
  <block id="3f4a3b3eec403674aa0cd9427d6deec9" category="cell">确保对上述NVMe命令使用正确的语法。</block>
  <block id="e0f847d0d970d13348c3311998e2e15c" category="cell">多个问题可能会触发此问题。为NVMe命令提供错误的参数是常见原因之一。</block>
  <block id="77f83f52d54fb4aeb889da304fc0ebe1" category="paragraph">如果控制器关联或指定操作已创建或正在创建、请注意。在上述自动连接脚本中可能会发生这种情况。</block>
  <block id="de63239808aba6bc3b6e058c280e2334" category="summary">介绍如何在ONTAP 中使用Red Hat Enterprise Linux 8.7</block>
  <block id="054dec9601134c2039198642192ad5cd" category="doc">将Red Hat Enterprise Linux 8.7与NetApp ONTAP 结合使用</block>
  <block id="42629720f0dd50e499b39533a5c8c6c6" category="paragraph">对于Red Hat Enterprise Linux (RHEL) 8.7<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block> 文件必须存在、但您不需要对文件进行特定更改。RHEL 8.7使用识别和正确管理ONTAP LUN所需的所有设置进行编译。</block>
  <block id="c7ed23f5281d7f5b606a1019ecd9fd97" category="sidebar">8.7.</block>
  <block id="fc410d61e7ecc158420724cd4cfa51e2" category="paragraph">采用ANA (非对称命名空间访问)的RHEL 8.7支持基于网络结构的NVMe或NVMe-oF (包括NVMe/FC和其他传输)。ANA 是 NVMe-oF 环境中的 ALUA 等效产品，目前已通过内核 NVMe 多路径实施。本主题详细介绍了如何在RHEL 8.7和ONTAP 上使用ANA作为目标来启用采用内核NVMe多路径的NVMe-oF。</block>
  <block id="58640a39ebacf1c649f790a018923dc7" category="list-text">在服务器上安装RHEL 8.7。</block>
  <block id="41e09c9ea0ff8203b49cf60b08453bc3" category="section-title">启用1 MB I/O大小(可选)</block>
  <block id="1ceacdae6aaf4ce4b35e9d889205b688" category="paragraph">现在、Broadcom FC-NVMe主机应该能够在ONTAP 命名空间设备上发送高达1 MB的I/O请求。</block>
  <block id="579f8656182e55995ca799f60b8b3706" category="list-text">验证<block ref="a8961a0cb8d5dfd91556db806f0f2cfc" prefix=" " category="inline-code"></block> 已设置、这将使Marvell适配器能够使用以下命令作为NVMe/FC启动程序运行：</block>
  <block id="7be9aa10f19f6b39286cbd2769f88cd5" category="section-title">lpfc详细日志记录</block>
  <block id="55cf75d4c35a2f0318cd0878633a2b64" category="list-text">确保已将正确的参数(例如正确的WWNN字符串、WWPN字符串等)传递给命令。</block>
  <block id="d3ac6c9b9f08add73cc79ed8987c7638" category="paragraph">请确保准确<block ref="7c33f184451a7567af5a5fb5f2bc7ae1" prefix=" " category="inline-code"></block> 字符串将添加到NetApp阵列上的相应子系统中(通过进行验证<block ref="0e04d4bf4054a77eef58ff3d9b9e59ae" prefix=" " category="inline-code"></block> 命令)。</block>
  <block id="0fffdf54ff26eafef72a1df48bb79f76" category="paragraph">RHEL 8.7操作系统经过编译、可识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="0dea8ccda08dc1647ed0a458849e5cda" category="doc">适用于采用ONTAP 的Oracle Linux 8.6的NVMe/FC主机配置</block>
  <block id="6b9300bd0ee78fc87c33ec2c07cd7201" category="paragraph">如果Oracle对NVMe/FC的支持完全符合此主机操作系统版本的要求、则会发布Oracle 8.6的NVMe/FC主机配置详细信息。</block>
  <block id="309cf24349edc5122d2f31c53280bf27" category="doc">适用于采用ONTAP 的Oracle Linux 8.5的NVMe/FC主机配置</block>
  <block id="0d0f40ef84bd491b0391f725ee2511e1" category="paragraph">如果Oracle对NVMe/FC的支持完全符合此主机操作系统版本的要求、则会发布Oracle 8.5的NVMe/FC主机配置详细信息。</block>
  <block id="50d880869dbad54df4986a506d8e811c" category="admonition">您可以使用本文档中提供的配置设置来配置连接到的云客户端 <block ref="5671724540e4dc98b668b1507167bffb" category="inline-link-macro-rx"></block> 和 <block ref="e817674c4b959088a38fc0d01ba3d16d" category="inline-link-macro-rx"></block>。</block>
  <block id="cc455daeb9e2e22ef5b2182030983b44" category="doc">适用于采用ONTAP 的RHEL 9.1的NVMe-oF主机配置</block>
  <block id="6f8b8f782bb2e1f5374f4c0c6a78046a" category="paragraph">采用非对称命名空间访问(Asymmetric Namespace Access、ANA)的RHEL 9.1支持基于网络结构的NVMe或NVMe-oF (包括NVMe/FC和NVMe/TCP)、这是ONTAP 阵列上运行正常的存储故障转移(Storage Failover、SFO)所需的。ANA是NVMe-oF环境中的非对称逻辑单元访问(Asymmetric Logical Unit Access、ALUA)等效项、目前已通过内核NVMe多路径实施。本文档详细介绍了如何在RHEL 9.1和ONTAP 上使用ANA作为目标来启用采用内核NVMe多路径的NVMe-oF。</block>
  <block id="5b567ce58b5a293a4e497c0fd053d9d5" category="list-text">除了NVMe/FC之外、RHEL 9.1还支持NVMe/TCP。本机中的NetApp插件<block ref="e1667929105bf030b9f367fc21f8d216" prefix=" " category="inline-code"></block> 软件包可以显示NVMe/FC和NVMe/TCP命名空间的ONTAP 详细信息。</block>
  <block id="362156721e24ceedbadf34c0abc7e007" category="list-text">默认情况下、RHEL 9.1支持为NVMe命名空间启用内核NVMe多路径、而无需显式设置。</block>
  <block id="b08367cf0348d2ac07ce7d94bb17f61f" category="list-text">RHEL 9.1支持在给定HBA适配器的同一主机上使用NVMe和SCSI共存的流量、而不使用显式<block ref="3c66321496e85b9ce8f7b49be0316b0a" prefix=" " category="inline-code"></block> 用于防止声明NVMe命名空间的设置。</block>
  <block id="79d6a4c19ab1815ebac474c0cb176558" category="section-title">启用内核NVMe多路径</block>
  <block id="a2ed8d7465615184444b1bd0263933b1" category="list-text">在服务器上安装RHEL 9.1。安装完成后、验证您是否正在运行指定的RHEL 9.1内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="c165a8a0999d73184de84d184b3cfb60" category="list-text">安装完成后、验证您是否正在运行指定的RHEL 9.1内核。请参见 <block ref="5b880de3118511ac9479bd0428b63139" category="inline-link-macro-rx"></block> 有关最新的受支持版本列表。</block>
  <block id="af93678559f055cf265aa9272c813836" category="paragraph">ONTAP 在 "Identify Controller" （识别控制器）数据中报告 MTS （ MAX Data 传输大小）为 8 ，这意味着最大 I/O 请求大小应最多为 1 MB 。但是、对于Broadcom NVMe/FC主机1 MB大小的问题描述 I/O请求、lpfc参数lpfc_sg_seg_cnt也应从默认值64增加到256。请按照以下说明执行此操作：</block>
  <block id="d8de9b016a8dece8e8d08e7b1fb7fbee" category="paragraph">本机收件箱<block ref="88eda681ac370265f103675d0de61c63" prefix=" " category="inline-code"></block> RHEL 9.1内核中包含的驱动程序具有最新的上游修复程序、这些修复程序对于ONTAP 支持至关重要。</block>
  <block id="2d012da343e217426e95ab334286ee04" category="list-text">验证<block ref="a8961a0cb8d5dfd91556db806f0f2cfc" prefix=" " category="inline-code"></block> 设置了、可使用以下命令将Marvell适配器用作NVMe/FC启动程序：</block>
  <block id="9dad4a6c520f673cad34a45d1f3d4ad7" category="list-text">*主机启动期间无自动连接* NVMe/TCP无法在主机启动期间自动连接。</block>
  <block id="01b19bacee71cf6f295d5e63067360d5" category="paragraph">您应将故障转移事件的重试期限至少设置为30分钟、以防止超时。您可以通过增加的值来增加重试期限<block ref="fc1d9ee021cfa58095593ab68c41f727" prefix=" " category="inline-code"></block> 使用以下操作步骤 ：</block>
  <block id="4b74cb8caf9869d9c39202f5a7c8cd4d" category="list-text">验证另一个NVMe/TCP启动程序-目标LIF组合是否可以成功提取发现日志页面数据。例如：</block>
  <block id="7912d4b61044915bf839431d678f055d" category="list-text">运行<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 命令。请确保设置较长的<block ref="07e325c4a466379e41eabbb9333963e2" prefix=" " category="inline-code"></block> 计时器重试期限(例如、30分钟、可设置为到<block ref="31d4084d03582af5cedde443232aa924" prefix=" " category="inline-code"></block>)<block ref="d2cdac60ef2245cec13c7ecfb5c3b376" prefix=" " category="inline-code"></block> 命令、以便在路径丢失时重试较长时间。例如：</block>
  <block id="8820bbf46f22897008878290f6060725" category="paragraph">示例(b)</block>
  <block id="8ee542f1260df38017c8fcd1811b07cf" category="paragraph">在对任何NVMe/FC故障开始任何故障排除之前、请确保您运行的配置符合互操作性表工具(IMT)规范、然后继续执行以下步骤以调试任何主机端问题。</block>
  <block id="c93461d811b67f37d132425264a4d474" category="list-text">设置<block ref="6a6d27f670629373aedb61a672b398f8" prefix=" " category="inline-code"></block> 将驱动程序设置为以下任意值以记录NVMe/FC事件：</block>
  <block id="df474dd19781ab3788a85cc52bf31865" category="paragraph">NVMe/FC没有与类似的特定qla2xxx日志记录<block ref="0de495b1d3c13e53ae08556231d825b9" prefix=" " category="inline-code"></block> 驱动程序。因此、您可以使用以下步骤设置常规qla2xxx日志记录级别：</block>
  <block id="0929df0c2d7b307ae019137c488669a8" category="cell">1503468</block>
  <block id="2f8adf6e51ddcf7b0618dad0e63a4144" category="cell"><block ref="f3d48156832e70ac41335c007fa76798" prefix="" category="inline-code"></block> 命令返回给定子系统的重复NVMe控制器列表</block>
  <block id="95a3009a54be763a347295539b3b924d" category="cell">。<block ref="f3d48156832e70ac41335c007fa76798" prefix=" " category="inline-code"></block> 命令应返回与给定子系统关联的唯一NVMe控制器列表。在RHEL 9.1中、将显示<block ref="f3d48156832e70ac41335c007fa76798" prefix=" " category="inline-code"></block> 命令将返回属于给定子系统的所有命名空间的NVMe控制器及其相应的ANA状态。但是、ANA状态是每个命名空间的属性、因此、如果您列出了给定命名空间的子系统命令语法、则最好显示具有路径状态的唯一NVMe控制器条目。</block>
  <block id="83dccde7d3d49df72143822cd414e991" category="cell">2130106.</block>
  <block id="3f9c3f7f21b77382c688aa95e76f1ff4" category="paragraph">显示的错误<block ref="e1667929105bf030b9f367fc21f8d216" prefix=" " category="inline-code"></block> 期间<block ref="c4014d0307156b07d4412051f511221a" prefix=" " category="inline-code"></block>，<block ref="9058603c510faa501774cf55475bb088" prefix=" " category="inline-code"></block> 或<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 下表显示了操作和解决方法：</block>
  <block id="9e9ad12d8f7b421ec7b07bcffb518755" category="paragraph">如果您仍面临问题、请收集以下文件和命令输出、并联系技术支持以进行进一步的分类：</block>
  <block id="54bb88571442321a8544c55cb834deb7" category="cell">RHEL 8.7 NVMe-oF主机会创建重复的永久性发现控制器</block>
  <block id="c66549c6038d3ebbf4c13fa9699ba9c4" category="cell">在基于网络结构的NVMe (NVMe-oF)主机上、您可以使用"nvme discover -p"命令创建永久性发现控制器(POC)。使用此命令时、每个启动程序-目标组合只应创建一个PDC。但是、如果您在NVMe-oF主机上运行ONTAP 9.10.1和Red Hat Enterprise Linux (RHEL) 8.7、则每次执行"nvme discover -p"时都会创建一个重复的PDC。这会导致不必要地使用主机和目标上的资源。</block>
  <block id="666e694f580810d83f5f40c26c2bb04c" category="summary">介绍如何在ONTAP 中使用Red Hat Enterprise Linux 9.1</block>
  <block id="0ead5c0058ad569b752f4737e6eec052" category="doc">将Red Hat Enterprise Linux 9.1与NetApp ONTAP 结合使用</block>
  <block id="61487574b79af0e445bb9b6a2353e6f4" category="paragraph">上提供了 NetApp Linux Unified Host Utilities 软件包 <block ref="79a5efacdd8155d1c0d2f7284cc3f087" category="inline-link-macro-rx"></block> 在 64 位 .rpm 文件中。</block>
  <block id="641179201ab176df256f3cb5ec55e897" category="paragraph">NetApp强烈建议安装Linux Unified Host Utilities、但这并不是必需的。这些实用程序不会更改 Linux 主机上的任何设置。这些实用程序可改进管理并帮助 NetApp 客户支持收集有关您的配置的信息。</block>
  <block id="a19e7b541def6d38087c1a02b106bef9" category="paragraph">如果您当前安装了某个版本的Linux Unified Host Utilities、则应升级或删除该版本、并按照以下步骤安装最新版本。</block>
  <block id="9c9e9d650c2c637a6eb987485cfd9382" category="list-text">从下载 64 位 Linux Unified Host Utilities 软件包 <block ref="330783be0d422b9930cc959c12faae82" category="inline-link-macro-rx"></block> 主机。</block>
  <block id="a72a8c81440a1f3a15a9e6f5c9eafacd" category="list-text">安装软件包：<block ref="0ce047b108d02190b0f47590efe3805d" prefix=" " category="inline-code"></block></block>
  <block id="766a9020817a37f247568a9683a4d01c" category="paragraph">对于Red Hat Enterprise Linux (RHEL) 9.1<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block> 文件必须存在、但您不需要对文件进行特定更改。RHEL 9.1使用识别和正确管理ONTAP LUN所需的所有设置进行编译。</block>
  <block id="bf334af2d50eb1249867f683f4a2a80b" category="paragraph">RHEL 9.1操作系统经过编译、可识别ONTAP LUN、并自动为ASA 和非ASA配置正确设置所有配置参数。</block>
  <block id="2938598ecd7ea37f885251173aa43089" category="paragraph">以下示例显示了如何更正被覆盖的默认值。在这种情况下、将显示<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block> 文件定义的值<block ref="3b07c0a70dc66d6564dcdf2f5ab1ed63" prefix=" " category="inline-code"></block> 和<block ref="9434de34302b4f40887a7277cf35a8fc" prefix=" " category="inline-code"></block> 与ONTAP LUN不兼容的LUN。如果由于其他SAN阵列仍连接到主机而无法将其删除、则可以专门针对具有设备实例的ONTAP LUN更正这些参数。</block>
  <block id="2fefce185e7d7498c7e3da22bac84294" category="cell">1508554</block>
  <block id="11613812ad376f15dc5ee5a9f425cea1" category="cell">要支持Emulex HBA适配器发现、NetApp Linux Host Utilities CLI需要其他库软件包依赖项</block>
  <block id="dbb05aa69b81b84da4e6620226a55381" category="cell">在RHEL 9.1中、NetApp Linux SAN主机实用程序CLI<block ref="621925cc88c3305079fc7287b11ebf60" prefix=" " category="inline-code"></block> 失败、因为找不到支持HBA发现的库软件包依赖关系。</block>
  <block id="58cc994c670841fa2f2ecd4302d45e03" category="cell">RHEL 9.0 NVMe-oF主机会创建重复的永久性发现控制器</block>
  <block id="e4c38008038c9c0402e9f00d369b82ea" category="cell">在基于网络结构的NVMe (NVMe-oF)主机上、您可以使用"nvme discover -p"命令创建永久性发现控制器(POC)。使用此命令时、每个启动程序-目标组合只应创建一个PDC。但是、如果您运行的是ONTAP 9.10.1和Red Hat Enterprise Linux (RHEL) 9.0并使用NVMe-oF主机、则每次执行"nvme discover -p"时都会创建一个重复的PDC。这会导致不必要地使用主机和目标上的资源。</block>
  <block id="de92f8bcc4d493d57927d45de496dfcd" category="cell">RHEL 8.6 NVMe-oF主机会创建重复的永久性发现控制器</block>
  <block id="67eaffbea4f4f435b98dfd9d82b810fe" category="cell">在基于网络结构的NVMe (NVMe-oF)主机上、您可以使用"nvme discover -p"命令创建永久性发现控制器(POC)。使用此命令时、每个启动程序-目标组合只应创建一个PDC。但是、如果您在NVMe-oF主机上运行ONTAP 9.10.1和Red Hat Enterprise Linux (RHEL) 8.6、则每次执行"nvme discover -p"时都会创建一个重复的PDC。这会导致不必要地使用主机和目标上的资源。</block>
  <block id="796d3a90e43ce105cbf37298c5065f7e" category="sidebar">9.1</block>
  <block id="19c0ae184ff29a5cb77c04c8bea684af" category="list-text">从ONTAP 9.7开始、VMware vSphere版本增加了对基于光纤通道的NVMe (NVMe/FC)的支持。</block>
  <block id="3a34596144aee2d13108623781ca1789" category="list-text">从7.0U3c开始、ESXi虚拟机管理程序支持NVMe/TCP功能。</block>
  <block id="98f0b197b8132a81e5d6da89bc6ded25" category="list-text">从ONTAP 9.10.1开始、ONTAP 支持NVMe/TCP功能。</block>
  <block id="8f782d5cde04c444d313ce732c4c1552" category="section-title">安装AIX/VIOS主机实用程序</block>
  <block id="98ffdd0945470204439692dc82dc8d98" category="paragraph">在将AIX MPIO与NetApp ONTAP 存储结合使用时、必须安装AIX主机实用程序套件。</block>
  <block id="9aab5807a16ac54dff9ec8e124181169" category="paragraph">您可以从 NetApp 支持站点下载包含 Host Utilities 软件包的压缩文件。获取文件后、您必须对其进行解压缩、以获取安装Host Utilities所需的两个软件包。</block>
  <block id="191896e66abb860542afaf3bc97289fc" category="section-title">SAN工具包</block>
  <block id="01281e2990c631b64037834e8b22bd4c" category="cell">rw_timeout (磁盘)</block>
  <block id="a97f41c78bd6ac237cc0a78dbc8e3557" category="section-title">MetroCluster 的建议设置</block>
  <block id="ff1a4459902829746c9feae2fe88b4a7" category="paragraph">。<block ref="63a7cb7a86eb0c84641936943496afaf" prefix=" " category="inline-code"></block> 要使主机达到问题描述 1 MB大小I/O、必须将参数设置为256</block>
  <block id="53a86d5c1b5a726e2014e8e7789d3e96" category="list-text">设置<block ref="6a6d27f670629373aedb61a672b398f8" prefix=" " category="inline-code"></block> 将驱动程序设置为以下任意值以记录NVMe/FC事件。</block>
  <block id="ac680a7503424f513ba95ee46f269bd8" category="list-text">设置值后、运行<block ref="212b9aebab74c7199bb59cfbc6fb92f9" prefix=" " category="inline-code"></block> 命令并重新启动主机。</block>
  <block id="814cc8b053fd0d3c9d35f87411477d5f" category="list-text">验证设置。</block>
  <block id="9c2f86beda575f2401b682f52ff52734" category="paragraph">显示的错误<block ref="e1667929105bf030b9f367fc21f8d216" prefix=" " category="inline-code"></block> 期间<block ref="c4014d0307156b07d4412051f511221a" prefix=" " category="inline-code"></block>，<block ref="9058603c510faa501774cf55475bb088" prefix=" " category="inline-code"></block>或<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 下表显示了操作和解决方法：</block>
  <block id="f9ffceb0310fe0428aa1a0ea1847693f" category="cell">验证是否对使用了正确的语法<block ref="c4014d0307156b07d4412051f511221a" prefix=" " category="inline-code"></block>，<block ref="9058603c510faa501774cf55475bb088" prefix=" " category="inline-code"></block>，和<block ref="90eeda0f5788d7d78c0f198b124712a3" prefix=" " category="inline-code"></block> 命令</block>
  <block id="399c48f51a24097568f4d7f84e8946fb" category="cell">可能会出现多个问题、例如、为NVMe命令提供错误的参数是常见原因之一。</block>
  <block id="79083cbc1a1d7e0e24669a1f41c3b968" category="list-text">确认已将正确的参数(例如、正确的WWNN字符串、WWPN字符串等)传递给命令。</block>
  <block id="ff92d70f29c0c6b352a2a9817436b2c4" category="list-text">如果参数正确、但您仍看到此错误、请检查是否存在<block ref="3716e18360493a14deb6b4391cc3652f" prefix=" " category="inline-code"></block> 命令输出正确、NVMe启动程序显示为<block ref="00d23a76e43b46dae9ec7aa9dcbebb32" prefix=" " category="inline-code"></block>和NVMe/FC目标LIF会正确显示在远程端口部分下。示例</block>
  <block id="0b95c202146fcc6556b5e4cc0c2b26dd" category="list-text">目标LIF在中未显示如上<block ref="86265333b9052ec5fde056eeddb3a5ef" prefix=" " category="inline-code"></block> 命令输出、请检查<block ref="452905a167cf4509fd08acb964fdb20c" prefix=" " category="inline-code"></block> 和<block ref="6b8cf905772edc32b7a7d638713c0075" prefix=" " category="inline-code"></block> 命令输出、用于报告任何可疑的NVMe/FC故障、并相应地进行报告或修复。</block>
  <block id="5f07f9d3d72a7357334dba748c6baebc" category="paragraph">通常会在出现时观察到<block ref="7c33f184451a7567af5a5fb5f2bc7ae1" prefix=" " category="inline-code"></block> 字符串未添加到NetApp阵列上的相应子系统或不正确<block ref="24039a6c469b55da1dae1ff1197f8079" prefix=" " category="inline-code"></block> 字符串已添加到相应的子系统中。</block>
  <block id="c25aa2a919e3a63ca18f5d2ba0d93494" category="paragraph">验证是否准确<block ref="7c33f184451a7567af5a5fb5f2bc7ae1" prefix=" " category="inline-code"></block> 字符串已添加到NetApp阵列上的相应子系统中(使用进行验证<block ref="0e04d4bf4054a77eef58ff3d9b9e59ae" prefix=" " category="inline-code"></block> 命令)。</block>
  <block id="d517a34201e69d7cbd98e82863cbb016" category="paragraph">在控制器关联或指定操作已创建或正在创建时观察到。在上述自动连接脚本中可能会发生这种情况。</block>
  <block id="ed88a4dfde1eda848d0cd0880569e29d" category="paragraph">无尝试运行<block ref="c4014d0307156b07d4412051f511221a" prefix=" " category="inline-code"></block> 命令。适用于<block ref="9058603c510faa501774cf55475bb088" prefix=" " category="inline-code"></block> 和<block ref="d2cdac60ef2245cec13c7ecfb5c3b376" prefix=" " category="inline-code"></block>、运行<block ref="b0f1705bbfcfb10368af21a019072318" prefix=" " category="inline-code"></block> 命令以验证是否已创建命名空间设备并将其显示在主机上。</block>
  <block id="46a8331e5e839c47acb3298049532616" category="section-title">Oracle Solaris虚拟化</block>
  <block id="1b047686d1675f4b3beb6b06153998c1" category="section-title">建议的虚拟化设置</block>
  <block id="23013fc45b1e28aeba8b4521f80156eb" category="section-title">SnapMirror业务连续性的建议设置</block>
  <block id="32553d76838b87cefddf124e0799eafb" category="paragraph">为了确保在SnapMirror业务连续性(SM-BC)环境中发生计划外站点故障转移切换时Solaris客户端应用程序不会造成中断、需要在Solaris 11.3主机上配置以下设置。此设置将覆盖故障转移模块–<block ref="e66960c74638cf8300fb234ed66fcdb7" prefix=" " category="inline-code"></block> 以防止执行检测到冲突的代码路径。</block>
  <block id="0dfb4cdaba75a3cede493d07bb6a34a7" category="admonition">从ONTAP 9.1.1开始、Solaris 11.3主机支持SM-BC设置配置。</block>
  <block id="7682043e346a0976ad107c7cb3989145" category="list-text">创建配置文件<block ref="2c50293ac08c6ad6b30ce2ba7a8fcd9c" prefix=" " category="inline-code"></block> 对于连接到主机的NetApp存储类型、此条目类似于以下内容：</block>
  <block id="05e4ba462549c2424bbff74659b276f2" category="list-text">使用<block ref="01fe732856e5259c0c505f9054c784ba" prefix=" " category="inline-code"></block> 和<block ref="801693b1d56b19d77272b3c6db46a751" prefix=" " category="inline-code"></block> 用于验证是否已成功应用覆盖参数的命令：</block>
  <block id="7f7d67d4a4b1712dc7bf97b923fea01b" category="admonition"><block ref="3a8e4c06e471595f6eb262bb9b5582d9" prefix="" category="inline-code"></block> 将添加到<block ref="552db9f221945d76c9e04206b850f3bc" prefix=" " category="inline-code"></block> 时间<block ref="ce0493257bc72d9f3741350d87a14b7d" prefix=" " category="inline-code"></block> 已应用。有关追加信息 以及对默认设置的建议更改、请参阅NetApp知识库文章<block ref="0b0122d84e6b5077349fe91550e086e2" category="inline-link-rx"></block>。</block>
  <block id="ca9ed2ccbdcc305e9773420d7547b568" category="paragraph">为了确保在SnapMirror业务连续性(SM-BC)环境中发生计划外站点故障转移切换时Solaris客户端应用程序不会造成中断、需要在Solaris 11.4主机上配置以下设置。此设置将覆盖故障转移模块–<block ref="e66960c74638cf8300fb234ed66fcdb7" prefix=" " category="inline-code"></block> 以防止执行检测到冲突的代码路径。</block>
  <block id="976902513d73f70373bf832d81070379" category="admonition">从ONTAP 9.1.1开始、Solaris 11.4主机支持SM-BC设置配置。</block>
  <block id="fbd29cc67321a256f7cc8237fc832a9b" category="list-text">使用 ...<block ref="01fe732856e5259c0c505f9054c784ba" prefix=" " category="inline-code"></block> 和<block ref="801693b1d56b19d77272b3c6db46a751" prefix=" " category="inline-code"></block> 用于验证是否已成功应用覆盖参数的命令：</block>
</blocks>